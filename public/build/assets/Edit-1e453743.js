import{j as w,o as n,f as p,y as C,a7 as S,b as s,t as g,q as x,K as _,k as T,h as B,T as $,m as E,a as m,u as o,w as b,Z as N,e as P,s as V,n as j,d as q,O as D,c as F}from"./app-f73aa67d.js";import{_ as I}from"./AppLayout-c7336d8b.js";import{_ as M}from"./PrimaryButton-a09304c4.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const O=["value"],U=["for"],z={__name:"CheckboxName",props:{checked:{type:[Array,Boolean],required:!0},value:{default:null},label:String,fieldId:{type:String,required:!0}},emits:["update:checked"],setup(a,{emit:l}){const t=a,d=w({get(){return t.checked},set(c){l("update:checked",c)}});return(c,e)=>(n(),p(x,null,[C(s("input",{type:"checkbox",value:a.value,"onUpdate:modelValue":e[0]||(e[0]=f=>d.value=f),class:"rounded-md border-gray-300 text-xl text-primary-900 bg-primary-900 hover:bg-primary-100 shadow-sm w-5 h-5 cursor-pointer"},null,8,O),[[S,d.value]]),s("label",{for:a.fieldId,class:"ml-2 font-normal text-md text-gray-800 dark:text-white"},g(a.label),9,U)],64))}},A={class:"px-4 py-2 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 sm:p-2 dark:bg-gray-800"},G={class:"px-5 pb-2 col-span-full flex justify-between items-center"},K={class:"text-2xl font-medium"},L=["onSubmit"],R={class:"grid grid-cols-12 gap-2 mt-5 col-span-12 xl:col-span-6"},Z={class:"flex justify-start pt-5"},H="Permisos",se={__name:"Edit",setup(a){const{role:l}=_().props,{rolePermissions:t}=_().props,{permissions:d}=_().props,c=T();B(()=>{e.id=l.id,e.permisos=t});const e=$({id:"",permisos:[]}),f=()=>{e.post(route("roles.update",e.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{k("success","Confirmado","Rol Editado"),window.setTimeout(function(){D.get(route("roles.index"))},1e3)},onFinish:()=>{},onError:()=>{}})},y=(r,u)=>{u?t.push(r):t.splice(t.indexOf(r),1)},k=(r,u,h)=>{c.add({severity:r,summary:u,detail:h,life:2e3})};return(r,u)=>{const h=E("Toast");return n(),p(x,null,[m(o(N),{title:"Permisos"}),m(I,{pagina:[{label:H,link:!1}]},{default:b(()=>[m(h),s("div",A,[s("div",G,[s("h5",K,"Permisos de "+g(o(l).name),1)]),s("form",{onSubmit:P(f,["prevent"])},[s("div",R,[(n(!0),p(x,null,V(o(d),(i,J)=>(n(),p("div",{key:i.id,class:"col-span-12 xl:col-span-3 m-0.5 flex"},[(n(),F(z,{checked:o(t).includes(i.id),"onUpdate:checked":v=>y(i.id,v),fieldId:"permiso.id",label:i.name,key:i.id},null,8,["checked","onUpdate:checked","fieldId","label"]))]))),128))]),s("div",Z,[m(M,{class:j(["inline-block rounded bg-primary-900 p-2 text-sm font-medium text-white mr-1 mb-1 hover:bg-primary-100",{"opacity-50":o(e).processing}]),disabled:o(e).processing},{default:b(()=>[q(" Guardar ")]),_:1},8,["class","disabled"])])],40,L)])]),_:1},8,["pagina"])],64)}}};export{se as default};
