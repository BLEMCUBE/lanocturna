import{r as c,o as K,M as E,N as O,e as l,f as r,Q as n,ab as x,S as Q,i as e,y as a,O as D,G as Z,F as Y,u as j,j as J,q as P,x as b,p as W}from"./@vue-BG0wrCoO.js";import{_ as X}from"./AppLayout-DGXGhT07.js";import{_ as k}from"./InputLabel-BIVuqiPx.js";import{K as N,Z as ee,O as M}from"./@inertiajs-BPLxF6VH.js";import{i as te}from"./vue-datepicker-next-BBtlwD79.js";import{h as S}from"./moment-D15uM1gO.js";import{_ as oe}from"./Pagination-uFg9EnNQ.js";import{s as T,a as se,e as ae,b as le,c as re}from"./date-fns-Bj3OEEs3.js";import"./logo-C8Jea0Rc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./loader-DTMt_fBO.js";import"./pinia-f5v7c1ZR.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-CipxKyPu.js";import"./primevue-DlS7f910.js";import"./axios-ngrFHoWO.js";import"./deepmerge-CejY7WQD.js";import"./qs-DSMFT7gQ.js";import"./side-channel-C2E4DO94.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-sCGRVelf.js";import"./nprogress-D6y_-DtI.js";import"./lodash.clonedeep-DcClQ2Wp.js";import"./lodash.isequal-qgBWtdDc.js";import"./date-format-parse-DuecP4dO.js";import"./@babel-QjJsDpFa.js";const ne={class:"px-4 py-3 mb-4 bg-white col-span-12 2xl:col-span-9"},ie={class:"align-middle"},de={class:"grid grid-cols-6 gap-4 mx-1.5 mt-3 mb-6"},ce={class:"col-span-2"},ue={class:"col-span-2"},me={class:"col-span-2"},pe={class:"bg-white shadow-md border border-gray-300 overflow-hidden"},fe={class:"flex flex-col md:flex-row items-stretch border-b border-dashed border-gray-300"},_e={class:"flex-1 p-4"},ve={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},xe={class:"flex-1"},be={class:"ml-6 my-1 text-lg text-gray-900"},ge={class:"font-semibold text-gray-800"},he={class:"flex flex-row items-center gap-2"},ye={class:"w-10 h-10 flex-shrink-0"},we=["src","alt"],De={class:"px-2"},Ye={class:"mt-1 text-gray-800 font-semibold"},ke={class:"ml-6"},Me=e("i",{class:"fa-solid fa-circle-exclamation"},null,-1),Ce={class:"max-w-56 md:w-56 flex flex-col items-start md:items-start justify-between"},Ve={key:0,class:"font-semibold text-gray-700"},Re={key:1,class:"font-semibold text-gray-700"},Ee={class:"flex items-center gap-2"},Oe=e("i",{class:"fa-regular fa-user"},null,-1),je={class:"flex items-center gap-2"},Ne=e("i",{class:"fa-regular fa-calendar"},null,-1),Se={class:"w-50 h-full flex px-5 items-center justify-center py-auto"},Te=["onClick"],C="mercadolibre.reclamos",ht={__name:"Reclamos",props:{datos:{type:Object,default:()=>({})},filtro:{type:Object,default:()=>({})}},setup(g){const u=g,{tienda:B}=N().props,h=`ML Reclamos "${B}"`,{client_id:y}=N().props,m=c(u.filtro.buscar??""),p=c(u.filtro.inicio??null),f=c(u.filtro.fin??null),_=c(u.filtro.estado??null);let i=c([u.filtro.inicio,u.filtro.fin]);c([]);const $=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[T(new Date,1),T(new Date,1)]}},{text:"Este mes",onClick(){return[se(new Date),ae(new Date)]}},{text:"Este año",onClick(){return[le(new Date),re(new Date)]}}],F=(o,s)=>{M.get(route(C+".detalle",[o,s]))},v=c({name:"Todos",code:null}),L=c([{name:"Todos",code:null},{name:"Reclamo abierto",code:"opened"},{name:"Reclamo cerrado",code:"closed"}]),U=o=>{v.value.code!=_.value&&(_.value=v.value.code)},I=o=>{switch(o){case"opened":return"Reclamo abierto";case"closed":return"Reclamo cerrado";default:return""}},V=o=>{switch(o){case"seller":return["Esperando tu respuesta","text-red-600","bg-red-500"];case"buyer":return["Esperando al comprador","text-green-600","bg-green-300"];default:return["Reclamo cerrado","text-gray-600","bg-gray-500"]}};K(()=>{});const w=()=>{M.get(route(C+".index",[y]),{buscar:m.value,inicio:p.value,estado:_.value,fin:f.value},{preserveState:!0,replace:!0})},q=o=>{o[0]!=null&&o[1]!=null?(i.value=[S(o[0]).format("YYYY-MM-DD"),S(o[1]).format("YYYY-MM-DD")],p.value=i.value[0],f.value=i.value[1]):(i.value=[],p.value=null,f.value=null),setTimeout(function(){M.get(route(C+".index",[y]),{buscar:m.value,inicio:p.value,estado:_.value,fin:f.value},{preserveState:!0,replace:!0})},100)};return(o,s)=>{const z=E("InputText"),A=E("Dropdown"),R=O("debounce"),G=O("tooltip");return r(),l(Y,null,[n(x(ee),{title:h}),n(X,{pagina:[{label:h,link:!1}]},{default:Q(()=>[e("div",ne,[e("div",{class:"p-3 col-span-full flex justify-between items-center"},[e("h5",{class:"text-2xl font-medium"},a(h))]),e("div",ie,[e("div",de,[e("div",ce,[n(k,{for:"buscar",value:"Buscar",class:"text-base font-medium leading-1 text-gray-900"}),D(n(z,{id:"buscar",modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=t=>m.value=t),"debounce-events":["keyup"],placeholder:"Numero de reclamo",pt:{root:{class:"col-span-6 lg:col-span-2 w-full"}}},null,8,["modelValue"]),[[R,w,"500ms"]])]),e("div",ue,[n(k,{for:"estado",value:"Estado",class:"text-base font-medium leading-1 text-gray-900"}),D(n(A,{id:"estado",modelValue:v.value,"onUpdate:modelValue":s[1]||(s[1]=t=>v.value=t),onChange:s[2]||(s[2]=t=>{U(),w()}),options:L.value,optionLabel:"name",pt:{root:{class:"w-full"},trigger:{class:"fas fa-caret-down text-gray-200 my-auto"},item:({props:t,state:H,context:d})=>({class:d.selected?"text-white bg-primary-900":d.focused?"bg-blue-100":void 0})},placeholder:"Seleccione estado"},null,8,["modelValue","options","pt"]),[[R,w,"500ms"]])]),e("div",me,[n(k,{for:"date1",value:"Rango de Fecha",class:"text-base font-medium leading-1 text-gray-900"}),n(x(te),{id:"date1",onChange:q,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"col-span-6 lg:col-span-2 font-sans font-normal text-gray-700 bg-white transition-colors duration-200 border-0 text-sm",value:x(i),"onUpdate:value":s[3]||(s[3]=t=>Z(i)?i.value=t:i=t),shortcuts:$,lang:"es",editable:"false",placeholder:"Seleccione Fecha"},null,8,["value"])])]),e("div",pe,[(r(!0),l(Y,null,j(g.datos.data,(t,H)=>(r(),l("div",fe,[e("div",_e,[e("div",ve,[e("div",xe,[e("div",be,[e("span",ge,"#"+a(t.pack_id),1),t.estado!=="closed"?(r(),l("span",{key:0,class:P(["ml-3 px-2 py-0.5 text-[15px] rounded font-semibold",V(t.espera)[1]])},a(V(t.espera)[0]),3)):J("",!0)]),(r(!0),l(Y,null,j(t.productos,d=>(r(),l("div",he,[e("div",ye,[e("img",{src:d.imagen,alt:d.titulo,class:"w-10 h-10 object-cover rounded border border-gray-800"},null,8,we)]),e("div",De,[e("div",Ye,a(d.cantidad)+" × "+a(d.titulo),1)])]))),256)),e("div",ke,[Me,b(" "+a(t.motivo.problem??""),1)])]),e("div",Ce,[t.venta_estado=="cancelled"?(r(),l("div",Ve,"Venta Cancelada")):(r(),l("div",Re,a(I(t.estado)),1)),e("div",Ee,[Oe,b(" "+a(t.comprador?.first_name)+" "+a(t.comprador?.last_name),1)]),e("div",je,[Ne,b(" "+a(t.fecha_creacion),1)])]),e("div",Se,[D((r(),l("button",{class:"rounded bg-blue-700 border border-white px-3 py-2 text-base font-normal text-white m-1 hover:bg-blue-600",onClick:W(d=>F(x(y),t.reclamo_id),["prevent"])},[b("Ver Reclamo")],8,Te)),[[G,{value:"Ver Reclamo",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]])])])])]))),256))]),n(oe,{elements:g.datos.links},null,8,["elements"])])])]),_:1},8,["pagina"])],64)}}};export{ht as default};
