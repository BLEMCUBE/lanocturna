import{r as f,M as m,e as S,f as B,i as l,Q as o,S as F,ab as t,O as N,a0 as U,q as T,p as z}from"./@vue-BG0wrCoO.js";import{_ as n}from"./InputError-cOM6HFrc.js";import{_ as i}from"./InputLabel-BIVuqiPx.js";import{T as A,O as L}from"./@inertiajs-BPLxF6VH.js";import{a as O}from"./axios-ngrFHoWO.js";import{aH as j}from"./primevue-DlS7f910.js";import{i as v}from"./vue-datepicker-next-BBtlwD79.js";import{h as x}from"./moment-D15uM1gO.js";import"./deepmerge-CejY7WQD.js";import"./qs-DSMFT7gQ.js";import"./side-channel-C2E4DO94.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-sCGRVelf.js";import"./nprogress-D6y_-DtI.js";import"./lodash.clonedeep-DcClQ2Wp.js";import"./lodash.isequal-qgBWtdDc.js";import"./date-format-parse-DuecP4dO.js";const $=l("i",{class:"fas fa-edit"},null,-1),q=[$],G={class:"px-2 pt-4 pb-0 grid grid-cols-12 gap-2 mb-2"},H={class:"col-span-12 shadow-default lg:col-span-6"},Q={class:"col-span-12 shadow-default lg:col-span-6"},J={class:"col-span-12 shadow-default"},K={class:"col-span-12 shadow-default my-auto"},P={class:"col-span-12 shadow-default my-auto"},R={class:"col-span-12 shadow-default my-auto"},W={class:"flex justify-end py-3"},X="ImportaciÃ³n",_="importaciones",Ve={__name:"EditarModal",props:{clienteId:{type:Number,default:null}},setup(y){const w=y,Y=j(),d=f(!1),e=A({id:"",estado:"",nro_carpeta:"",nro_contenedor:"",fecha_arribado:"",fecha_camino:"",costo_cif:""}),M=p=>{c.value.code!=e.estado&&(e.estado=c.value.code)},D=()=>{C(w.clienteId)},c=f(),b=f([{name:"Arribado",code:"Arribado"},{name:"En camino",code:"En camino"}]),C=p=>{O.get(route(_+".showmodal",p)).then(a=>{var r=a.data.importacion;e.id=r.id,e.nro_carpeta=r.nro_carpeta,e.nro_contenedor=r.nro_contenedor,e.estado=r.estado,e.costo_cif=r.costo_cif,c.value=b.value.find(u=>u.code===r.estado),e.fecha_arribado=x(r.fecha_arribado).format("YYYY-MM-DD"),e.fecha_camino=x(r.fecha_camino).format("YYYY-MM-DD"),d.value=!0})},k=()=>{e.reset(),e.clearErrors(),d.value=!1},E=()=>{e.clearErrors(),e.post(route(_+".update",e.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{d.value=!1,V("success","Mensaje","Se ha editado"),setTimeout(()=>{L.get(route(_+".show",e.id))},1e3)},onFinish:()=>{},onError:()=>{}})},V=(p,a,r)=>{Y.add({severity:p,summary:a,detail:r,life:3e3})};return(p,a)=>{const r=m("InputText"),u=m("Dropdown"),g=m("Button"),I=m("Dialog");return B(),S("section",null,[l("button",{type:"button",onClick:D},q),o(I,{visible:d.value,"onUpdate:visible":a[6]||(a[6]=s=>d.value=s),modal:"",header:"Editar "+X,style:{width:"30vw"},position:"top",pt:{header:{class:"mt-6 p-2"},content:{class:"p-2"}}},{default:F(()=>[l("form",null,[l("div",G,[l("div",H,[o(i,{for:"nro_carpeta",value:"No. de Carpeta",class:"block text-base font-medium leading-6 text-gray-900"}),o(r,{type:"text",id:"nro_carpeta",modelValue:t(e).nro_carpeta,"onUpdate:modelValue":a[0]||(a[0]=s=>t(e).nro_carpeta=s),placeholder:"Ingrese No. de Carpeta",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),o(n,{class:"mt-1 text-xs",message:t(e).errors.nro_carpeta},null,8,["message"])]),l("div",Q,[o(i,{for:"nro_contenedor",value:"BL o No. de Contenedor",class:"block text-base font-medium leading-6 text-gray-900"}),o(r,{type:"text",id:"nro_contenedor",modelValue:t(e).nro_contenedor,"onUpdate:modelValue":a[1]||(a[1]=s=>t(e).nro_contenedor=s),placeholder:"Ingrese BL o No. de Contenedor",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),o(n,{class:"mt-1 text-xs",message:t(e).errors.nro_contenedor},null,8,["message"])]),l("div",J,[o(i,{for:"estado",value:"Estado",class:"block text-base font-medium leading-6 text-gray-900"}),o(u,{modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=s=>c.value=s),onChange:M,options:b.value,optionLabel:"name",pt:{root:{class:"w-full"},trigger:{class:"fas fa-caret-down text-gray-200 my-auto"},item:({props:s,state:Z,context:h})=>({class:h.selected?"text-white bg-primary-900":h.focused?"bg-blue-100":void 0})},placeholder:"Seleccione estado"},null,8,["modelValue","options","pt"]),o(n,{class:"mt-1 text-xs",message:t(e).errors.estado},null,8,["message"])]),l("div",K,[o(i,{for:"fecha_camino",value:"Fecha En Camino",class:"block text-base font-medium leading-6 text-gray-900"}),o(t(v),{clearable:!1,editable:!0,type:"date","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"p-component col-span-6 text-gray-700 bg-white transition-colors duration-200 border-0 px-0 py-0",value:t(e).fecha_camino,"onUpdate:value":a[3]||(a[3]=s=>t(e).fecha_camino=s),lang:"es",placeholder:"Seleccione Fecha"},null,8,["value"]),o(n,{class:"mt-1 text-xs",message:t(e).errors.fecha_camino},null,8,["message"])]),l("div",P,[o(i,{for:"estado",value:"Fecha Arribado",class:"block text-base font-medium leading-6 text-gray-900"}),o(t(v),{clearable:!1,editable:!0,type:"date","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"p-component col-span-6 text-gray-700 bg-white transition-colors duration-200 border-0 px-0 py-0",value:t(e).fecha_arribado,"onUpdate:value":a[4]||(a[4]=s=>t(e).fecha_arribado=s),lang:"es",placeholder:"Seleccione Fecha"},null,8,["value"]),o(n,{class:"mt-1 text-xs",message:t(e).errors.fecha_arribado},null,8,["message"])]),l("div",R,[o(i,{for:"costo_cif",value:"Costo CIF",class:"block text-base font-medium leading-6 text-gray-900"}),N(l("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=s=>t(e).costo_cif=s),class:"p-inputtext p-component text-gray-700 bg-white border appearance-none rounded text-basw h-9 m-0 w-full text-end"},null,512),[[U,t(e).costo_cif]]),o(n,{class:"mt-1 text-xs",message:t(e).errors.costo_cif},null,8,["message"])])]),l("div",W,[o(g,{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:k,type:"button"}),o(g,{label:"Guardar",size:"small",type:"button",onClick:z(E,["prevent"]),class:T({"opacity-50":t(e).processing}),disabled:t(e).processing},null,8,["onClick","class","disabled"])])])]),_:1},8,["visible","header"])])}}};export{Ve as default};
