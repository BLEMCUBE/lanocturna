import{_ as D}from"./AppLayout-31bdb395.js";import{K as b,k as S,T as V,h as j,m as h,f as _,a as g,u as a,w as p,q as m,o as n,Z as B,b as t,c as y,g as f,t as e,d as r,s as A,O as v}from"./app-0ff8ae1a.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={class:"card px-4 py-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},N={class:"px-0 py-1 m-2 mt-0 col-span-full flex justify-start items-center"},O=t("span",{class:"text-black font-semibold"},"Editar",-1),P=t("span",{class:"text-white font-semibold"},"Facturar",-1),$={class:"mx-auto grid max-w-2xl grid-cols-1 gap-x-1 gap-y-1 px-4 py-2 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-8"},U={class:"col-span-1"},M={class:"text-lg leading-6 mt-2 text-gray-700 dark:text-gray-300"},R=t("b",null," Fecha: ",-1),q={class:"col-span-1"},I={class:"text-lg leading-6 mt-2 text-gray-700 dark:text-gray-300"},K=t("b",null," N° de Venta: ",-1),L={class:"col-span-1"},Z={class:"text-lg leading-6 mt-2 text-gray-700 dark:text-gray-300"},z=t("b",null," Estado ",-1),G={class:"col-span-1"},H={class:"text-lg leading-6 mt-2 text-gray-700 dark:text-gray-300"},J=t("b",null," Total: ",-1),Q={class:"col-span-1"},W={class:"text-lg leading-6 mt-2 text-gray-700 dark:text-gray-300"},X=t("b",null," Total sin IVA: ",-1),Y={class:"col-span-1"},tt={class:"text-lg leading-6 mt-2 text-gray-700 dark:text-gray-300"},ot=t("b",null," Moneda: ",-1),et={class:"col-span-1"},st={class:"text-lg leading-6 mt-2 text-gray-700 dark:text-gray-300"},at=t("b",null," Vendedor: ",-1),rt={class:"col-span-1"},dt={class:"text-lg leading-6 mt-2 text-gray-700 dark:text-gray-300"},lt=t("b",null," Destino: ",-1),nt={class:"col-span-1"},ct={class:"text-lg leading-6 mt-2 text-gray-700 dark:text-gray-300"},it=t("b",null," Cliente: ",-1),_t=t("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[t("h5",{class:"text-2xl font-medium"},"Productos")],-1),gt={class:"mx-auto grid max-w-2xl grid-cols-1 overflow-auto gap-x-1 gap-y-0 px-2 py-0 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-1"},pt={class:"table-auto mx-2 border border-gray-300 col-span-12"},ut=t("thead",null,[t("tr",{class:"p-2 bg-secondary-900 border"},[t("th",{class:"border border-gray-300 w-24"},"Cantidad"),t("th",{class:"border border-gray-300 p-2 w-24"},"Origen"),t("th",{class:"border border-gray-300"},"Producto"),t("th",{class:"border border-gray-300 w-24"},"Código de Barras"),t("th",{class:"border border-gray-300 w-24"},"Precio"),t("th",{class:"border border-gray-300 w-24"},"Total")])],-1),xt={class:"border border-gray-300 p-2"},bt={class:"border border-gray-300 p-2"},ht={class:"border border-gray-300 p-2"},mt={class:"border border-gray-300 p-2"},yt={class:"border border-gray-300 p-2"},ft={class:"border border-gray-300 p-2"},vt=t("td",{colspan:"5",class:"border border-gray-300 p-2 text-end pr-2"},[t("b",null,"Subtotal: ")],-1),kt={class:"border border-gray-300 p-2 text-center"},wt=t("td",{colspan:"5",class:"border border-gray-300 p-2 text-end pr-2"},[t("b",null,"Total (con impuesto): ")],-1),Ft={class:"border border-gray-300 p-2 text-center"},u="Detalle Venta",c="cajas",jt={__name:"Show",setup(Tt){b().props.auth;const k=S(),o=V({id:"",vendedor:"",destino:"",codigo:"",total:0,fecha:"",total_sin_iva:0,moneda:"",tipo_cambio:"",estado:"",observaciones:"",productos:[],cliente:""}),w=s=>{v.get(route(c+".edit",s))},F=s=>{o.get(route(c+".facturar",s),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{T("success","Mensaje","Se ha Facturado"),setTimeout(()=>{v.get(route(c+".index"))},1e3)},onFinish:()=>{},onError:()=>{}})},T=(s,l,i)=>{k.add({severity:s,summary:l,detail:i,life:3e3})};return j(()=>{var s=b().props.venta.data;o.id=s.id,o.fecha=s.fecha,o.vendedor=s.vendedor,o.destino=s.destino,o.cliente=s.cliente,o.moneda=s.moneda,o.estado=s.estado,o.productos=s.productos,o.total_sin_iva=s.total_sin_iva,o.total=s.total,o.codigo=s.codigo}),(s,l)=>{const i=h("Toast"),x=h("Button");return n(),_(m,null,[g(a(B),{title:u}),g(D,{pagina:[{label:"Caja",link:!0,url:s.route(c+".index")},{label:u,link:!1}]},{default:p(()=>[t("div",E,[g(i),t("div",N,[a(o).estado!="FACTURADO"?(n(),y(x,{key:0,onClick:l[0]||(l[0]=d=>w(a(o).id)),class:"rounded border-0 bg-yellow-500 px-2 py-0.5 text-base font-normal m-2 hover:bg-yellow-600"},{default:p(()=>[O]),_:1})):f("",!0),a(o).estado!="FACTURADO"?(n(),y(x,{key:1,onClick:l[1]||(l[1]=d=>F(a(o).id)),class:"rounded border-0 bg-green-700 px-2 py-0.5 text-base font-normal m-2 hover:bg-green-600"},{default:p(()=>[P]),_:1})):f("",!0)]),t("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[t("h5",{class:"text-2xl font-medium"},e(u))]),t("div",$,[t("div",U,[t("p",M,[R,r(" "+e(a(o).fecha),1)])]),t("div",q,[t("p",I,[K,r(" "+e(a(o).codigo),1)])]),t("div",L,[t("p",Z,[z,r(" "+e(a(o).estado),1)])]),t("div",G,[t("p",H,[J,r(" "+e(a(o).total.toFixed(2)),1)])]),t("div",Q,[t("p",W,[X,r(" "+e(a(o).total_sin_iva.toFixed(2)),1)])]),t("div",Y,[t("p",tt,[ot,r(" "+e(a(o).moneda),1)])]),t("div",et,[t("p",st,[at,r(" "+e(a(o).vendedor),1)])]),t("div",rt,[t("p",dt,[lt,r(" "+e(a(o).destino),1)])]),t("div",nt,[t("p",ct,[it,r(" "+e(a(o).cliente),1)])])]),_t,t("div",gt,[t("table",pt,[ut,t("tbody",null,[(n(!0),_(m,null,A(a(o).productos,(d,C)=>(n(),_("tr",{key:C,class:"font-sans text-center font-normal text-gray-800 border border-gray-300"},[t("td",xt,e(d.cantidad),1),t("td",bt,e(d.producto.origen),1),t("td",ht,e(d.producto.nombre),1),t("td",mt,e(d.producto.codigo_barra),1),t("td",yt,e(d.precio_sin_iva.toFixed(2)),1),t("td",ft,e(d.total_sin_iva.toFixed(2)),1)]))),128))]),t("tfoot",null,[t("tr",null,[vt,t("td",kt,[t("b",null,e(a(o).moneda=="Pesos"?"$ ":"USD ")+" "+e(a(o).total_sin_iva.toFixed(2)),1)])]),t("tr",null,[wt,t("td",Ft,[t("b",null,e(a(o).moneda=="Pesos"?"$ ":"USD ")+" "+e(a(o).total.toFixed(2)),1)])])])])])])]),_:1},8,["pagina"])],64)}}};export{jt as default};
