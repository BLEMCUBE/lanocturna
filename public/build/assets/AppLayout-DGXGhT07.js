import{i as T,K as J}from"./@inertiajs-BPLxF6VH.js";import{c as w,b as V,t as I,r as $,o as q,ae as Q,e as f,f as p,i as e,ab as g,y as L,Q as d,S as y,q as j,F as K,u as W,j as E,x as O,P as Y,U as G,a9 as X,w as Z,M as A,k as ee}from"./@vue-BG0wrCoO.js";import{L as te}from"./logo-C8Jea0Rc.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as oe}from"./loader-DTMt_fBO.js";import{d as ae}from"./pinia-f5v7c1ZR.js";import{E as ne}from"./laravel-echo-CPaRdDZ5.js";import{P as ie}from"./pusher-js-CipxKyPu.js";import{aH as le}from"./primevue-DlS7f910.js";const m=V({ripple:!1,darkTheme:!1,inputStyle:"outlined",menuMode:"static",theme:"lara-light-indigo",scale:14,activeMenuItem:null}),h=V({staticMenuDesktopInactive:!1,overlayMenuActive:!1,profileSidebarVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1});function U(){const t=(i,k)=>{m.darkTheme=k,m.theme=i},l=i=>{m.scale=i},a=i=>{m.activeMenuItem=i.value||i},s=()=>{m.menuMode==="overlay"&&(h.overlayMenuActive=!h.overlayMenuActive),window.innerWidth>991?h.staticMenuDesktopInactive=!h.staticMenuDesktopInactive:h.staticMenuMobileActive=!h.staticMenuMobileActive},x=w(()=>h.overlayMenuActive||h.staticMenuMobileActive),u=w(()=>m.darkTheme);return{layoutConfig:I(m),layoutState:I(h),changeThemeSettings:t,setScale:l,onMenuToggle:s,isSidebarActive:x,isDarkTheme:u,setActiveMenuItem:a}}const re={class:"layout-topbar bg-primary-900"},ce={href:"/inicio",class:"layout-topbar-logo text-white"},ue=["src"],de=e("span",{class:"text-xl text-white"},"LA NOCTURNA",-1),pe=e("i",{class:"pi pi-bars"},null,-1),ve=[pe],he=e("i",{class:"pi pi-ellipsis-v"},null,-1),fe=[he],_e={class:"my-auto text-center"},me={class:"text-xs font-normal text-white my-2 dark:text-gray-300"},ye={class:"text-end"},be=e("i",{class:"pi pi-sign-out"},null,-1),ge=e("span",{class:"ml-2 inline text-xs"}," Cerrar SesiÃ³n ",-1),xe={__name:"AppTopBar",setup(t){const{onMenuToggle:l}=U(),a=$(null),s=$(!1);q(()=>{i()}),Q(()=>{k()});const x=()=>{s.value=!s.value},u=w(()=>({"layout-topbar-menu-mobile-active":s.value})),i=()=>{a.value||(a.value=c=>{_(c)&&(s.value=!1)},document.addEventListener("click",a.value))},k=()=>{a.value&&(document.removeEventListener("click",a),a.value=null)},_=c=>{if(!s.value)return;const v=document.querySelector(".layout-topbar-menu"),b=document.querySelector(".layout-topbar-menu-button");return!(v.isSameNode(c.target)||v.contains(c.target)||b.isSameNode(c.target)||b.contains(c.target))};return(c,v)=>(p(),f("div",re,[e("a",ce,[e("img",{src:g(te),alt:"logo"},null,8,ue),de]),e("button",{class:"p-link layout-menu-button layout-topbar-button text-white hover:bg-primary-100",onClick:v[0]||(v[0]=b=>g(l)())},ve),e("button",{class:"p-link layout-topbar-menu-button layout-topbar-button text-white hover:bg-primary-100",onClick:v[1]||(v[1]=b=>x())},fe),e("div",{class:j(["layout-topbar-menu-button layout-topbar-menu bg-primary-900",u.value])},[e("div",_e,[e("p",me,L(c.$page.props.auth.user.name),1)]),e("div",ye,[d(g(T),{href:c.route("logout"),method:"post",as:"button",class:"layout-topbar-button text-white hover:bg-primary-100 w-36 h-10 p-2 text-xs dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white"},{default:y(()=>[be,ge]),_:1},8,["href"])])],2)]))}},ke={class:"p-2 dark:bg-gray-800 dark:text-gray-100 text-base"},Me={class:"flex h-8 space-x-2"},we={class:"flex items-center space-x-2 hover:text-primary-100"},$e=e("svg",{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5 pr-1 dark:text-gray-400"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1),Se=e("span",null," Inicio ",-1),Ce={class:"flex items-center hover:fill-primary-100 space-x-2"},Ae={key:0},Te=e("i",{class:"fas fa-angle-right"},null,-1),Le={key:1,class:"text-primary-900/70"},Ee=e("i",{class:"fas fa-angle-right"},null,-1),Be={__name:"Breadcrumb",props:{pagina:{type:Array,default:[]}},setup(t){return(l,a)=>(p(),f("nav",ke,[e("ol",Me,[e("li",we,[d(g(T),{class:"hover:fill-primary-100 flex",href:"/inicio"},{default:y(()=>[$e,Se]),_:1})]),(p(!0),f(K,null,W(t.pagina,s=>(p(),f("li",Ce,[s.link==!0?(p(),f("div",Ae,[Te,d(g(T),{class:"hover:text-primary-100 pl-2",href:s.url},{default:y(()=>[O(L(s.label),1)]),_:2},1032,["href"])])):E("",!0),s.link==!1?(p(),f("div",Le,[Ee,O(" "+L(s.label),1)])):E("",!0)]))),256))])]))}},De={};function Ie(t,l){return p(),f("div",null,"Minimal Sidebar")}const Oe=se(De,[["render",Ie]]),P="/build/assets/audio_envio-TELKvCJd.mp3",Pe={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60"},Ve=e("div",{class:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin"},null,-1),qe=[Ve],je={__name:"Loader",setup(t){const l=oe();return(a,s)=>(p(),Y(G,{name:"fade"},{default:y(()=>[g(l).visible?(p(),f("div",Pe,qe)):E("",!0)]),_:1}))}},Ke=ae("echo",{state:()=>({echo:null,cluster:null,key:null,channels:new Map}),actions:{initEcho(){return this.echo?this.echo:(window.Pusher=ie,this.echo=new ne({broadcaster:"pusher",key:this.key,cluster:this.cluster,forceTLS:!1}),console.log("Echo inicializado"),this.echo)},subscribeChannel(t){if(this.channels.has(t))return console.log(`Ya estÃ¡ suscrito: ${t}`),this.channels.get(t);const l=this.echo.channel(t);return this.channels.set(t,l),console.log(`Suscrito a: ${t}`),l},unsubscribe(t){this.channels.has(t)&&(this.echo.leave(t),this.channels.delete(t),console.log(`ðŸ‘‹ Canal liberado: ${t}`))},setKey(t){this.key=t},setCluster(t){this.cluster=t}}}),Ue={class:"layout-sidebar bg-primary-900"},ze={class:"layout-main-container"},He={class:"layout-main"},Ne={class:"col-span-12 px-2 flex justify-start text-base font-medium"},Re={class:"card flex justify-content-center"},Fe=e("div",{class:"inline-flex align-items-center justify-content-center gap-2"},[e("span",{class:"font-bold white-space-nowrap"},"Envios")],-1),Je=e("span",{class:"text-center text-xl block mb-5"},"Se ha creado un envio",-1),Qe={class:"grid grid-cols-12 gap-4 px-2 pt-3 overflow-x-auto"},We=e("div",{class:"layout-mask"},null,-1),nt={__name:"AppLayout",props:{pagina:{type:Array,default:[]}},setup(t){const l=le(),a=Ke(),s=$(!1),{configuracion:x}=J().props.auth,{layoutConfig:u,layoutState:i,isSidebarActive:k}=U(),_=$(null),c=[{channel:"venta",events:[".envio"]}];q(()=>{const o=D("pusher-key"),n=D("pusher-cluster");a.setKey(o),a.setCluster(n),a.initEcho(),c.forEach(r=>{const S=a.subscribeChannel(r.channel);r.events.forEach(M=>{S.listen(M,C=>{switch(M){case".envio":v();break;case".question":F("success","Pregunta","Nueva Pregunta Recibida"),b();break}})})})}),X(()=>{a.channels.forEach((o,n)=>{a.unsubscribe(n)})});const v=()=>{s.value=!0,B(P),setTimeout(()=>{s.value=!1,window.open(self.location,"_self")},"5000")},b=()=>{B(P),setTimeout(()=>{window.open(self.location,"_self")},"3000")},B=o=>{{var n=new Audio(o);n.play()}};Z(k,o=>{o?H():N()});const z=w(()=>({"layout-theme-light":u.darkTheme.value==="light","layout-overlay":u.menuMode.value==="overlay","layout-static":u.menuMode.value==="static","layout-static-inactive":i.staticMenuDesktopInactive.value&&u.menuMode.value==="static","layout-overlay-active":i.overlayMenuActive.value,"layout-mobile-active":i.staticMenuMobileActive.value,"p-input-filled":u.inputStyle.value==="filled","p-ripple-disabled":!u.ripple.value})),H=()=>{_.value||(_.value=o=>{R(o)&&(i.overlayMenuActive.value=!1,i.staticMenuMobileActive.value=!1,i.menuHoverActive.value=!1)},document.addEventListener("click",_.value))},N=()=>{_.value&&(document.removeEventListener("click",_),_.value=null)},R=o=>{const n=document.querySelector(".layout-sidebar"),r=document.querySelector(".layout-menu-button");return!(n.isSameNode(o.target)||n.contains(o.target)||r.isSameNode(o.target)||r.contains(o.target))},D=o=>{var n=x.filter(r=>r.slug===o?r:"")[0];return n.value},F=(o,n,r)=>{l.add({severity:o,summary:n,detail:r,life:3e3})};return(o,n)=>{const r=A("Toast"),S=A("Button"),M=A("Dialog");return p(),f(K,null,[d(r),e("div",{class:j(["layout-wrapper layout-static",z.value])},[d(je),d(xe),e("div",Ue,[d(Oe)]),e("div",ze,[e("div",He,[e("div",Ne,[d(Be,{pagina:t.pagina},null,8,["pagina"])]),e("div",Re,[d(M,{visible:s.value,"onUpdate:visible":n[1]||(n[1]=C=>s.value=C),modal:"",header:"Edit Profile",style:{width:"28rem"}},{header:y(()=>[Fe]),footer:y(()=>[d(S,{label:"Aceptar",severity:"primary",onClick:n[0]||(n[0]=C=>s.value=!1),autofocus:""})]),default:y(()=>[Je]),_:1},8,["visible"])]),e("div",Qe,[ee(o.$slots,"default")])])]),We],2)],64)}}};export{nt as _};
