import{_ as lt}from"./AppLayout-ChcmoOn7.js";import{K as i,T as rt,Z as dt,O as A}from"./@inertiajs-B6DOW0KO.js";import{aH as j}from"./primevue-B_pu_EB_.js";import{i as P}from"./vue-datepicker-next-MGkLgL3F.js";import{h as _}from"./moment-D15uM1gO.js";import{a as F}from"./axios-Dq7h7Pqt.js";import{s as g,a as U,e as H,b as z,c as X}from"./date-fns-Bj3OEEs3.js";import{r as m,o as nt,R as v,S as ct,f as h,g as x,W as o,E as r,Y as d,j as t,D as n,T as $,u as E,U as it,F as G,A as mt,C as b}from"./@vue-BLfC86mR.js";import"./pusher-js-Ck_2Ecjm.js";import"./logo-C8Jea0Rc.js";import"./pinia-DeiM1QY_.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-DQJME8_f.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-Dzj_DFKn.js";import"./side-channel-DZFSYYHh.js";import"./get-intrinsic-gH0OeWJ1.js";import"./has-symbols-CABd5qHC.js";import"./has-proto-CpIZBmUT.js";import"./function-bind-C4RYm_-a.js";import"./has-D2ofp1JE.js";import"./call-bind-7ir4MDz-.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./date-format-parse-DuecP4dO.js";import"./@babel-QjJsDpFa.js";const ut={class:"card px-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-3 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},pt={class:"grid grid-cols-12 justify-center"},xt={class:"px-0 py-0 m-2 mt-0 text-white col-span-2 flex justify-end items-center"},ft=t("i",{class:"fas fa-edit"},null,-1),_t={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-0 rounded-t-xl max-w-xs md:max-w-5xl mx-auto bg-white"},ht={class:"w-2/3"},bt={class:"font-bold text-gray-800 md:text-2xl text-xl"},gt={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-0 rounded-b-xl p-3 max-w-xs md:max-w-5xl mx-auto border border-white bg-white"},vt={class:"w-full md:w-1/3 bg-white grid place-items-center"},wt=["alt","src"],yt={class:"w-full md:w-2/3 bg-white p-3 space-x-1 space-y-0"},Dt={class:"w-full flex flex-col md:flex-row pb-2"},Ct=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 md:text-2xl text-xl"},"Stock:")],-1),Yt={class:"w-full md:w-2/3"},kt={class:"font-normal text-gray-800 md:text-2xl text-xl"},Mt={class:"w-full flex flex-col md:flex-row pb-2"},At=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"},"SKU:")],-1),Et={class:"w-full md:w-2/3"},It={class:"font-normal text-gray-800 text-base"},St={class:"w-full flex flex-col md:flex-row pb-3"},Ot=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"},"CÓDIGO DE BARRA:")],-1),Tt={class:"w-full md:w-2/3"},Nt={class:"font-normal text-gray-800 text-base"},Rt=t("div",{class:"w-full flex flex-col md:flex-row pt-2"},[t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"PRÓXIMO INGRESO")])],-1),Vt=t("div",{class:"w-full flex"},[t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"IMPORTACIÓN")]),t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"CANTIDAD")]),t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"FECHA APROX.")])],-1),Bt={key:0,class:"w-full"},jt={class:"w-full flex py-1"},Pt={class:"w-full text-center"},Ft={class:"font-normal text-gray-800 text-lg"},Ut={class:"w-full text-center"},Ht={class:"font-normal text-gray-800 text-lg"},zt={class:"w-full text-center"},Xt={class:"font-normal text-gray-800 text-lg"},$t=t("div",{class:"w-full flex flex-col md:flex-row pt-2"},[t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"COSTO REAL")])],-1),Gt={class:"w-full flex flex-col md:flex-row py-1"},Kt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," USD (IVA INC.):")],-1),Lt={class:"w-full md:w-2/3"},Wt={class:"font-normal text-gray-800 text-base"},Zt={class:"w-full flex flex-col md:flex-row py-1"},qt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," Cotización Yuanes:")],-1),Jt={class:"w-full md:w-2/3"},Qt={class:"font-normal text-gray-800 text-base"},te={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},ee={class:"bg-gray-100 rounded-t-lg py-2 px-3"},oe={class:"text-2xl font-medium pb-0 pl-2"},ae=t("div",{class:"bg-gradient-to-r from-primary-900 to-primary-100 h-1 mb-4"},null,-1),se={class:"align-middle p-2"},le={class:"flex justify-content-end text-md"},re={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},de={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},ne=t("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),ce={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},ie={class:"bg-gray-100 rounded-t-lg py-2 px-3"},me={class:"text-2xl font-medium pb-0 pl-2"},ue=t("div",{class:"bg-gradient-to-r from-secondary-900 to-secondary-100 h-1 mb-4"},null,-1),pe={class:"align-middle p-2"},xe={class:"flex justify-content-end text-md"},fe={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},_e={class:"text-md"},he={class:"text-md"},be={class:"text-md"},I="Detalle Producto",w="productos",Ze={__name:"Show",setup(ge){const{permissions:K}=i().props.auth,L=m("/images/productos/sin_foto.png"),{roles:S}=i().props.auth,{costo_real:W}=i().props,{productoEnCamino:O}=i().props,{ultimo_yang:T}=i().props,y=m(),D=m(),C=m(),Y=m(),s=rt({id:"",origen:"",nombre:"",aduana:"",codigo_barra:"",stock:0,stock_minimo:0,imagen:"",photo:"",categorias:[]}),N=m([new Date,new Date]),R=m([new Date,new Date]),f=m([]),Z=e=>{e[0]!=null&&e[1]!=null?(f.value=[e[0],e[1]],F.get(route(w+".productoventa",[i().props.producto.id,_(e[0]).format("YYYY-MM-DD"),_(e[1]).format("YYYY-MM-DD")])).then(l=>{var u=l.data;y.value=u.cantidad,C.value=Array.from(u.productoventa,p=>p)})):location.reload()},q=e=>{f.value[0]!=null&&f.value[1]!=null?window.open(route("productos.exportproductoventas",[s.id,{inicio:f.value[0],fin:f.value[1]}]),"_blank"):window.open(route("productos.exportproductoventas",[s.id]),"_blank")},J=e=>{e[0]!=null&&e[1]!=null?F.get(route(w+".productoimportacion",[i().props.producto.id,_(e[0]).format("YYYY-MM-DD"),_(e[1]).format("YYYY-MM-DD")])).then(l=>{var u=l.data;D.value=u.cantidad_importacion,Y.value=Array.from(u.producto,p=>p)}):location.reload()},Q=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[g(new Date,1),g(new Date,1)]}},{text:"Este mes",onClick(){return[U(new Date),H(new Date)]}},{text:"Este año",onClick(){return[z(new Date),X(new Date)]}}],tt=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[g(new Date,1),g(new Date,1)]}},{text:"Este mes",onClick(){return[U(new Date),H(new Date)]}},{text:"Este año",onClick(){return[z(new Date),X(new Date)]}}],et=e=>_(e).format("DD/MM/YYYY");nt(()=>{C.value=Array.from(i().props.productoventa,l=>l),D.value=i().props.cantidad_importacion,y.value=i().props.cantidad,Y.value=Array.from(i().props.productoImportacion,l=>l);var e=i().props.producto;s.id=e.id,s.nombre=e.nombre,s.origen=e.origen,s.aduana=e.aduana,s.codigo_barra=e.codigo_barra,s.stock=e.stock,s.stock_minimo=e.stock_minimo,s.stock_futuro=e.stock_futuro,L.value=e.imagen,s.imagen=e.imagen,s.categorias=e.categorias});const k=m({global:{value:null,matchMode:j.CONTAINS}}),M=m({global:{value:null,matchMode:j.CONTAINS}}),ot=e=>{A.get(route(w+".edit",e))},at=e=>{A.get(route("ventas.show",e.data.venta_id))},st=e=>{A.get(route("importaciones.show",e.data.importacion_id))};return(e,l)=>{const u=v("Button"),p=v("InputText"),c=v("Column"),V=v("DataTable"),B=ct("tooltip");return x(),h(G,null,[o(r(dt),{title:I}),o(lt,{pagina:[{label:"Productos",link:!0,url:e.route(w+".index")},{label:I,link:!1}]},{default:d(()=>[t("div",ut,[t("div",pt,[t("div",{class:"px-3 col-span-10 flex justify-between items-center"},[t("h5",{class:"text-xl font-medium"},n(I))]),t("div",xt,[r(K).includes("editar-productos")?$((x(),it(u,{key:0,label:"Editar",onClick:l[0]||(l[0]=a=>ot(r(s).id)),pt:{root:{class:"flex items-center bg-primary-900 justify-center font-medium w-10"},label:{class:"hidden"}}},{default:d(()=>[ft]),_:1})),[[B,{value:"Editar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):E("",!0)])]),t("div",_t,[t("div",ht,[t("h3",bt,n(r(s).nombre),1)])]),t("div",gt,[t("div",vt,[t("img",{alt:r(s).nombre,src:r(s).imagen,class:"rounded-xl"},null,8,wt)]),t("div",yt,[t("div",Dt,[Ct,t("div",Yt,[t("h3",kt,n(r(s).stock),1)])]),t("div",Mt,[At,t("div",Et,[t("h3",It,n(r(s).origen),1)])]),t("div",St,[Ot,t("div",Tt,[t("h3",Nt,n(r(s).codigo_barra),1)])]),Rt,Vt,r(O).length>0?(x(),h("div",Bt,[(x(!0),h(G,null,mt(r(O),a=>(x(),h("div",jt,[t("div",Pt,[t("h3",Ft,n(a.nro_carpeta),1)]),t("div",Ut,[t("h3",Ht,n(a.cantidad_total),1)]),t("div",zt,[t("h3",Xt,n(a.fecha_arribado),1)])]))),256))])):E("",!0),$t,t("div",Gt,[Kt,t("div",Lt,[t("h3",Wt,n(r(W)),1)])]),t("div",Zt,[qt,t("div",Jt,[t("h3",Qt,n(r(T)>0?r(T):"-"),1)])])])]),t("div",te,[t("div",ee,[t("h2",oe,"Pedidos: "+n(y.value),1)]),ae,t("div",se,[o(V,{filters:k.value,onRowClick:at,value:C.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{numToleratedItems:30,itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:d(()=>[t("div",le,[o(p,{modelValue:k.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=a=>k.value.global.value=a),placeholder:"Buscar"},null,8,["modelValue"]),t("div",re,[o(r(P),{onChange:Z,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:N.value,"onUpdate:value":l[2]||(l[2]=a=>N.value=a),shortcuts:Q,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])]),r(S).includes("Super Administrador")||r(S).includes("Administrador")?$((x(),h("div",de,[o(u,{onClick:l[3]||(l[3]=a=>q(r(s).id)),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:d(()=>[ne]),_:1})])),[[B,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):E("",!0)])]),empty:d(()=>[b(" No existe Resultado ")]),loading:d(()=>[b(" Cargando... ")]),default:d(()=>[o(c,{field:"created_at",sortable:"",header:"Fecha",pt:{bodyCell:{class:"text-center"}}},{body:d(({data:a})=>[b(n(et(a.created_at)),1)]),_:1}),o(c,{field:"cantidad",sortable:"",header:"Cantidad",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"precio",sortable:"",header:"Precio",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"destino",sortable:"",header:"Destino",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])]),t("div",ce,[t("div",ie,[t("h2",me,"Importaciones: "+n(D.value),1)]),ue,t("div",pe,[o(V,{filters:M.value,onRowClick:st,value:Y.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:d(()=>[t("div",xe,[o(p,{modelValue:M.value.global.value,"onUpdate:modelValue":l[4]||(l[4]=a=>M.value.global.value=a),placeholder:"Buscar"},null,8,["modelValue"]),t("div",fe,[o(r(P),{onChange:J,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:R.value,"onUpdate:value":l[5]||(l[5]=a=>R.value=a),shortcuts:tt,lang:"es",placeholder:"seleccione Fecha",clearable:!1},null,8,["value"])])])]),empty:d(()=>[b(" No existe Resultado ")]),loading:d(()=>[b(" Cargando... ")]),default:d(()=>[o(c,{field:"importacion.nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}},{loading:d(()=>[]),body:d(a=>[t("span",_e,n(a.data.importacion.nro_carpeta),1)]),_:1}),o(c,{field:"importacion.fecha",header:"Fecha Arribo",sortable:"",pt:{bodyCell:{class:"text-center"}}},{body:d(a=>[t("span",he,n(a.data.importacion.fecha),1)]),_:1}),o(c,{header:"Costo Real",sortable:"",pt:{bodyCell:{class:"text-center"}}},{body:d(a=>[t("span",be,n(a.data.real_costo.length>0?a.data.real_costo[0].monto:"0.00"),1)]),_:1}),o(c,{field:"precio",sortable:"",header:"EXW Precio",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"pcs_bulto",sortable:"",header:"PCS/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"bultos",sortable:"",header:"Bulto",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"cantidad_total",sortable:"",header:"Cantidad Total",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"valor_total",sortable:"",header:"Valor Total",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"cbm_bulto",sortable:"",header:"CBM/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{Ze as default};
