import{_ as at}from"./AppLayout-595acd45.js";import{K as n,l as i,T as st,h as lt,F,m as h,p as rt,f as B,a as o,u as l,w as d,q as nt,o as b,Z as dt,b as t,t as c,v as j,c as P,g as x,d as u,B as R,O as V}from"./app-8c3dec3d.js";import{i as U}from"./es.es-c88e3db5.js";import{h as v}from"./moment-fbc5633a.js";import{_ as it}from"./InputError-3e95eb56.js";import{s as f,a as z,e as H,b as $,c as q}from"./index-3b59ec08.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const ct={class:"card px-4 py-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},ut={class:"px-0 py-1 m-2 mt-0 text-white col-span-full flex justify-end items-center"},pt=t("i",{class:"fas fa-edit"},null,-1),mt={class:"mx-auto grid max-w-2xl grid-cols-1 gap-2 sm:px-6 sm:py-5 lg:max-w-7xl lg:grid-cols-3 lg:px-8"},_t={class:"grid grid-cols-2 gap-2"},gt={class:"col-span-2"},bt=["alt","src"],ht={class:"col-span-2 grid grid-cols-4 gap-2"},xt={class:"col-span-4 border-b border-gray-200"},vt={class:"lg:text-2xl text-lg font-semibold leading-0 text-gray-800 mt-2"},ft={class:"col-span-2"},yt={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},wt=t("b",null," Origen: ",-1),Dt={class:"col-span-2"},kt={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},Ct=t("b",null," C칩digo barra: ",-1),Yt={class:"col-span-2"},Mt={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},St=t("b",null," Stock: ",-1),Bt={class:"col-span-2"},Vt={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},Et=t("b",null," Stock Futuro: ",-1),Ot={class:"col-span-4"},Tt={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},At=t("b",null," Costo aprox. USD (iva inc): ",-1),Nt={key:0,class:"col-span-4"},It={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},Ft=t("b",null," Cotizaci칩n Yuanes: ",-1),jt={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},Pt={class:"bg-gray-100 rounded-t-lg py-2 px-3"},Rt={class:"text-2xl font-medium pb-0 pl-2"},Ut=t("div",{class:"bg-gradient-to-r from-primary-900 to-primary-100 h-1 mb-4"},null,-1),zt={class:"align-middle p-2"},Ht={class:"flex justify-content-end text-md"},$t={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},qt={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},Kt=t("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),Wt={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},Xt={class:"bg-gray-100 rounded-t-lg py-2 px-3"},Zt={class:"text-2xl font-medium pb-0 pl-2"},Gt=t("div",{class:"bg-gradient-to-r from-secondary-900 to-secondary-100 h-1 mb-4"},null,-1),Jt={class:"align-middle p-2"},Lt={class:"flex justify-content-end text-md"},Qt={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},E="Detalle Producto",y="productos",ie={__name:"Show",setup(te){const{permissions:K}=n().props.auth,W=i("/images/productos/sin_foto.png"),{roles:O}=n().props.auth,{costo_aprox:X}=n().props,{ultimo_yang:w}=n().props;n().props;const D=i(),k=i(),C=i(),Y=i(),a=st({id:"",origen:"",nombre:"",aduana:"",codigo_barra:"",stock:0,stock_minimo:0,imagen:"",photo:""}),T=i([new Date,new Date]),A=i([new Date,new Date]),g=i([]),Z=e=>{e[0]!=null&&e[1]!=null?(g.value=[e[0],e[1]],R.get(route(y+".productoventa",[n().props.producto.id,v(e[0]).format("YYYY-MM-DD"),v(e[1]).format("YYYY-MM-DD")])).then(s=>{var m=s.data;D.value=m.cantidad,C.value=Array.from(m.productoventa,_=>_)})):location.reload()},G=e=>{g.value[0]!=null&&g.value[1]!=null?window.open(route("productos.exportproductoventas",[a.id,{inicio:g.value[0],fin:g.value[1]}]),"_blank"):window.open(route("productos.exportproductoventas",[a.id]),"_blank")},J=e=>{e[0]!=null&&e[1]!=null?R.get(route(y+".productoimportacion",[n().props.producto.id,v(e[0]).format("YYYY-MM-DD"),v(e[1]).format("YYYY-MM-DD")])).then(s=>{var m=s.data;k.value=m.cantidad_importacion,Y.value=Array.from(m.producto,_=>_)}):location.reload()},L=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[f(new Date,1),f(new Date,1)]}},{text:"Este mes",onClick(){return[z(new Date),H(new Date)]}},{text:"Este a침o",onClick(){return[$(new Date),q(new Date)]}}],Q=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[f(new Date,1),f(new Date,1)]}},{text:"Este mes",onClick(){return[z(new Date),H(new Date)]}},{text:"Este a침o",onClick(){return[$(new Date),q(new Date)]}}];lt(()=>{C.value=Array.from(n().props.productoventa,s=>s),k.value=n().props.cantidad_importacion,D.value=n().props.cantidad,Y.value=Array.from(n().props.productoImportacion,s=>s);var e=n().props.producto;a.id=e.id,a.nombre=e.nombre,a.origen=e.origen,a.aduana=e.aduana,a.codigo_barra=e.codigo_barra,a.stock=e.stock,a.stock_minimo=e.stock_minimo,a.stock_futuro=e.stock_futuro,W.value=e.imagen,a.imagen=e.imagen});const M=i({global:{value:null,matchMode:F.CONTAINS}}),S=i({global:{value:null,matchMode:F.CONTAINS}}),tt=e=>{V.get(route(y+".edit",e))},et=e=>{V.get(route("ventas.show",e.data.venta_id))},ot=e=>{V.get(route("importaciones.show",e.data.importacion_id))};return(e,s)=>{const m=h("Button"),_=h("InputText"),r=h("Column"),N=h("DataTable"),I=rt("tooltip");return b(),B(nt,null,[o(l(dt),{title:E}),o(at,{pagina:[{label:"Productos",link:!0,url:e.route(y+".index")},{label:E,link:!1}]},{default:d(()=>[t("div",ct,[t("div",{class:"px-3 col-span-full flex justify-between items-center"},[t("h5",{class:"text-2xl font-medium"},c(E))]),t("div",ut,[l(K).includes("editar-productos")?j((b(),P(m,{key:0,label:"Editar",onClick:s[0]||(s[0]=p=>tt(l(a).id)),pt:{root:{class:"flex items-center  bg-primary-900 justify-center font-medium w-10"},label:{class:"hidden"}}},{default:d(()=>[pt]),_:1})),[[I,{value:"Editar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):x("",!0)]),t("div",mt,[t("div",_t,[t("div",gt,[t("img",{class:"w-48 text-center rounded-xl",alt:l(a).nombre,src:l(a).imagen},null,8,bt)])]),t("div",ht,[t("div",xt,[t("h1",vt,c(l(a).nombre),1)]),t("div",ft,[t("p",yt,[wt,u(" "+c(l(a).origen),1)])]),t("div",Dt,[t("p",kt,[Ct,u(" "+c(l(a).codigo_barra),1)])]),t("div",Yt,[t("p",Mt,[St,u(" "+c(l(a).stock),1)])]),t("div",Bt,[t("p",Vt,[Et,u(" "+c(l(a).stock_futuro),1)])]),t("div",Ot,[t("p",Tt,[At,u(" "+c(l(X)),1)]),l(w)==0?(b(),P(it,{key:0,class:"mt-1 text-xs",message:"Debe de registrar tipo de cambio yuanes"})):x("",!0)]),l(w)>0?(b(),B("div",Nt,[t("p",It,[Ft,u(" "+c(l(w)),1)])])):x("",!0)])]),t("div",jt,[t("div",Pt,[t("h2",Rt,"Pedidos: "+c(D.value),1)]),Ut,t("div",zt,[o(N,{sortField:"fecha",sortOrder:-1,filters:M.value,onRowClick:et,value:C.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{numToleratedItems:30,itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:d(()=>[t("div",Ht,[o(_,{modelValue:M.value.global.value,"onUpdate:modelValue":s[1]||(s[1]=p=>M.value.global.value=p),placeholder:"Buscar"},null,8,["modelValue"]),t("div",$t,[o(l(U),{onChange:Z,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:T.value,"onUpdate:value":s[2]||(s[2]=p=>T.value=p),shortcuts:L,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])]),l(O).includes("Super Administrador")||l(O).includes("Administrador")?j((b(),B("div",qt,[o(m,{onClick:s[3]||(s[3]=p=>G(l(a).id)),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:d(()=>[Kt]),_:1})])),[[I,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):x("",!0)])]),empty:d(()=>[u(" No existe Resultado ")]),loading:d(()=>[u(" Cargando... ")]),default:d(()=>[o(r,{field:"fecha",sortable:"",header:"Fecha",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cantidad",sortable:"",header:"Cantidad",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"precio",sortable:"",header:"Precio",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"destino",sortable:"",header:"Destino",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])]),t("div",Wt,[t("div",Xt,[t("h2",Zt,"Importaciones: "+c(k.value),1)]),Gt,t("div",Jt,[o(N,{filters:S.value,onRowClick:ot,value:Y.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:d(()=>[t("div",Lt,[o(_,{modelValue:S.value.global.value,"onUpdate:modelValue":s[4]||(s[4]=p=>S.value.global.value=p),placeholder:"Buscar"},null,8,["modelValue"]),t("div",Qt,[o(l(U),{onChange:J,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:A.value,"onUpdate:value":s[5]||(s[5]=p=>A.value=p),shortcuts:Q,lang:"es",placeholder:"seleccione Fecha",clearable:!1},null,8,["value"])])])]),empty:d(()=>[u(" No existe Resultado ")]),loading:d(()=>[u(" Cargando... ")]),default:d(()=>[o(r,{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"fecha_arribado",header:"Fecha Arribo",sortable:"",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"precio",sortable:"",header:"EXW Precio",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"unidad",sortable:"",header:"Unidad",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"pcs_bulto",sortable:"",header:"PCS/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"bultos",sortable:"",header:"Bulto",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cantidad_total",sortable:"",header:"Cantidad Total",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"valor_total",sortable:"",header:"Valor Total",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cbm_bulto",sortable:"",header:"CBM/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{ie as default};
