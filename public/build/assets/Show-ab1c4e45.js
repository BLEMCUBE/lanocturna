import{_ as lt}from"./AppLayout-37436f11.js";import{K as d,l as p,T as rt,h as nt,F,m as v,p as dt,f as h,a as o,u as l,w as i,q as P,o as g,Z as it,b as t,t as c,v as R,c as ct,g as B,d as u,s as ut,B as U,O as E}from"./app-b68bc87f.js";import{i as z}from"./es.es-b3c7757d.js";import{h as x}from"./moment-fbc5633a.js";import{s as f,a as H,e as $,b as q,c as K}from"./index-3b59ec08.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const pt={class:"card px-4 py-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},mt={class:"px-0 py-1 m-2 mt-0 text-white col-span-full flex justify-end items-center"},_t=t("i",{class:"fas fa-edit"},null,-1),gt={class:"mx-auto grid max-w-2xl grid-cols-1 gap-2 sm:px-6 sm:py-5 lg:max-w-7xl lg:grid-cols-3 lg:px-8"},bt={class:"grid grid-cols-2 gap-2"},ht={class:"col-span-2"},xt=["alt","src"],vt={class:"col-span-2 grid grid-cols-4 gap-2"},ft={class:"col-span-4 border-b border-gray-200"},yt={class:"lg:text-2xl text-lg font-semibold leading-0 text-gray-800 mt-2"},wt={class:"col-span-2"},Dt={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},Ct=t("b",null," Origen: ",-1),kt={class:"col-span-2"},Yt={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},Mt=t("b",null," C칩digo barra: ",-1),Bt={class:"col-span-2"},Et={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},St=t("b",null," Stock: ",-1),Vt={key:0,class:"col-span-2 row-span-3"},Tt=t("b",{class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"}," En camino: ",-1),At={class:"list-disc list-outside"},Nt={class:"ml-3"},Ot={class:"text-xl leading-2 mt-0 text-gray-700 dark:text-gray-300"},It={class:"col-span-2"},jt={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},Ft=t("b",null," Costo aprox. USD (iva inc): ",-1),Pt={class:"col-span-2"},Rt={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},Ut=t("b",null," Cotizaci칩n Yuanes: ",-1),zt={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},Ht={class:"bg-gray-100 rounded-t-lg py-2 px-3"},$t={class:"text-2xl font-medium pb-0 pl-2"},qt=t("div",{class:"bg-gradient-to-r from-primary-900 to-primary-100 h-1 mb-4"},null,-1),Kt={class:"align-middle p-2"},Lt={class:"flex justify-content-end text-md"},Wt={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},Xt={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},Zt=t("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),Gt={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},Jt={class:"bg-gray-100 rounded-t-lg py-2 px-3"},Qt={class:"text-2xl font-medium pb-0 pl-2"},te=t("div",{class:"bg-gradient-to-r from-secondary-900 to-secondary-100 h-1 mb-4"},null,-1),ee={class:"align-middle p-2"},oe={class:"flex justify-content-end text-md"},ae={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},S="Detalle Producto",y="productos",pe={__name:"Show",setup(se){const{permissions:L}=d().props.auth,W=p("/images/productos/sin_foto.png"),{roles:V}=d().props.auth,{costo_aprox:X}=d().props,{productoEnCamino:T}=d().props,{ultimo_yang:A}=d().props,w=p(),D=p(),C=p(),k=p(),s=rt({id:"",origen:"",nombre:"",aduana:"",codigo_barra:"",stock:0,stock_minimo:0,imagen:"",photo:""}),N=p([new Date,new Date]),O=p([new Date,new Date]),b=p([]),Z=e=>{e[0]!=null&&e[1]!=null?(b.value=[e[0],e[1]],U.get(route(y+".productoventa",[d().props.producto.id,x(e[0]).format("YYYY-MM-DD"),x(e[1]).format("YYYY-MM-DD")])).then(a=>{var m=a.data;w.value=m.cantidad,C.value=Array.from(m.productoventa,_=>_)})):location.reload()},G=e=>{b.value[0]!=null&&b.value[1]!=null?window.open(route("productos.exportproductoventas",[s.id,{inicio:b.value[0],fin:b.value[1]}]),"_blank"):window.open(route("productos.exportproductoventas",[s.id]),"_blank")},J=e=>{e[0]!=null&&e[1]!=null?U.get(route(y+".productoimportacion",[d().props.producto.id,x(e[0]).format("YYYY-MM-DD"),x(e[1]).format("YYYY-MM-DD")])).then(a=>{var m=a.data;D.value=m.cantidad_importacion,k.value=Array.from(m.producto,_=>_)}):location.reload()},Q=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[f(new Date,1),f(new Date,1)]}},{text:"Este mes",onClick(){return[H(new Date),$(new Date)]}},{text:"Este a침o",onClick(){return[q(new Date),K(new Date)]}}],tt=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[f(new Date,1),f(new Date,1)]}},{text:"Este mes",onClick(){return[H(new Date),$(new Date)]}},{text:"Este a침o",onClick(){return[q(new Date),K(new Date)]}}],et=e=>x(e).format("DD/MM/YYYY");nt(()=>{C.value=Array.from(d().props.productoventa,a=>a),D.value=d().props.cantidad_importacion,w.value=d().props.cantidad,k.value=Array.from(d().props.productoImportacion,a=>a);var e=d().props.producto;s.id=e.id,s.nombre=e.nombre,s.origen=e.origen,s.aduana=e.aduana,s.codigo_barra=e.codigo_barra,s.stock=e.stock,s.stock_minimo=e.stock_minimo,s.stock_futuro=e.stock_futuro,W.value=e.imagen,s.imagen=e.imagen});const Y=p({global:{value:null,matchMode:F.CONTAINS}}),M=p({global:{value:null,matchMode:F.CONTAINS}}),ot=e=>{E.get(route(y+".edit",e))},at=e=>{E.get(route("ventas.show",e.data.venta_id))},st=e=>{E.get(route("importaciones.show",e.data.importacion_id))};return(e,a)=>{const m=v("Button"),_=v("InputText"),r=v("Column"),I=v("DataTable"),j=dt("tooltip");return g(),h(P,null,[o(l(it),{title:S}),o(lt,{pagina:[{label:"Productos",link:!0,url:e.route(y+".index")},{label:S,link:!1}]},{default:i(()=>[t("div",pt,[t("div",{class:"px-3 col-span-full flex justify-between items-center"},[t("h5",{class:"text-2xl font-medium"},c(S))]),t("div",mt,[l(L).includes("editar-productos")?R((g(),ct(m,{key:0,label:"Editar",onClick:a[0]||(a[0]=n=>ot(l(s).id)),pt:{root:{class:"flex items-center  bg-primary-900 justify-center font-medium w-10"},label:{class:"hidden"}}},{default:i(()=>[_t]),_:1})),[[j,{value:"Editar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):B("",!0)]),t("div",gt,[t("div",bt,[t("div",ht,[t("img",{class:"w-48 text-center rounded-xl",alt:l(s).nombre,src:l(s).imagen},null,8,xt)])]),t("div",vt,[t("div",ft,[t("h1",yt,c(l(s).nombre),1)]),t("div",wt,[t("p",Dt,[Ct,u(" "+c(l(s).origen),1)])]),t("div",kt,[t("p",Yt,[Mt,u(" "+c(l(s).codigo_barra),1)])]),t("div",Bt,[t("p",Et,[St,u(" "+c(l(s).stock),1)])]),l(T).length>0?(g(),h("div",Vt,[Tt,t("ul",At,[(g(!0),h(P,null,ut(l(T),n=>(g(),h("li",Nt,[t("p",Ot,[t("b",null,c(n.nro_carpeta),1),u(": "+c(n.cantidad_total),1)])]))),256))])])):B("",!0),t("div",It,[t("p",jt,[Ft,u(" "+c(l(X)),1)])]),t("div",Pt,[t("p",Rt,[Ut,u(" "+c(l(A)>0?l(A):"-"),1)])])])]),t("div",zt,[t("div",Ht,[t("h2",$t,"Pedidos: "+c(w.value),1)]),qt,t("div",Kt,[o(I,{filters:Y.value,onRowClick:at,value:C.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{numToleratedItems:30,itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:i(()=>[t("div",Lt,[o(_,{modelValue:Y.value.global.value,"onUpdate:modelValue":a[1]||(a[1]=n=>Y.value.global.value=n),placeholder:"Buscar"},null,8,["modelValue"]),t("div",Wt,[o(l(z),{onChange:Z,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:N.value,"onUpdate:value":a[2]||(a[2]=n=>N.value=n),shortcuts:Q,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])]),l(V).includes("Super Administrador")||l(V).includes("Administrador")?R((g(),h("div",Xt,[o(m,{onClick:a[3]||(a[3]=n=>G(l(s).id)),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:i(()=>[Zt]),_:1})])),[[j,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):B("",!0)])]),empty:i(()=>[u(" No existe Resultado ")]),loading:i(()=>[u(" Cargando... ")]),default:i(()=>[o(r,{field:"created_at",sortable:"",header:"Fecha",pt:{bodyCell:{class:"text-center"}}},{body:i(({data:n})=>[u(c(et(n.created_at)),1)]),_:1}),o(r,{field:"cantidad",sortable:"",header:"Cantidad",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"precio",sortable:"",header:"Precio",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"destino",sortable:"",header:"Destino",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])]),t("div",Gt,[t("div",Jt,[t("h2",Qt,"Importaciones: "+c(D.value),1)]),te,t("div",ee,[o(I,{filters:M.value,onRowClick:st,value:k.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:i(()=>[t("div",oe,[o(_,{modelValue:M.value.global.value,"onUpdate:modelValue":a[4]||(a[4]=n=>M.value.global.value=n),placeholder:"Buscar"},null,8,["modelValue"]),t("div",ae,[o(l(z),{onChange:J,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:O.value,"onUpdate:value":a[5]||(a[5]=n=>O.value=n),shortcuts:tt,lang:"es",placeholder:"seleccione Fecha",clearable:!1},null,8,["value"])])])]),empty:i(()=>[u(" No existe Resultado ")]),loading:i(()=>[u(" Cargando... ")]),default:i(()=>[o(r,{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"fecha_arribado",header:"Fecha Arribo",sortable:"",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"precio",sortable:"",header:"EXW Precio",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"unidad",sortable:"",header:"Unidad",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"pcs_bulto",sortable:"",header:"PCS/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"bultos",sortable:"",header:"Bulto",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cantidad_total",sortable:"",header:"Cantidad Total",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"valor_total",sortable:"",header:"Valor Total",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cbm_bulto",sortable:"",header:"CBM/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{pe as default};
