import{r as i,o as W,R as O,S as j,f as c,g as u,W as a,E as g,Y as Z,j as e,D as r,T as D,O as q,F as Y,A as T,z as S,C as m,y as G}from"./@vue-BLfC86mR.js";import{_ as J}from"./AppLayout-uReGjGr-.js";import{_ as k}from"./InputLabel-CkCrW4zf.js";import{K as Q,Z as X,O as C}from"./@inertiajs-CMyvZJ1U.js";import{i as ee}from"./vue-datepicker-next-MGkLgL3F.js";import{h as B}from"./moment-D15uM1gO.js";import{_ as te}from"./Pagination-CNhFcssC.js";import{s as F,a as oe,e as se,b as ae,c as le}from"./date-fns-Bj3OEEs3.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-DhUVDY3P.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./loader-D-Kjbgh8.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-Ck_2Ecjm.js";import"./primevue-DAb-R_om.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./date-format-parse-DuecP4dO.js";import"./@babel-QjJsDpFa.js";const ne={class:"px-4 py-3 mb-4 bg-white col-span-12 2xl:col-span-9"},re={class:"align-middle"},ie={class:"grid grid-cols-6 gap-4 mx-1.5 mt-3 mb-6"},de={class:"col-span-2"},ce={class:"col-span-2"},ue={class:"col-span-2"},me={class:"bg-white shadow-md border border-gray-300 overflow-hidden"},pe={class:"flex flex-col md:flex-row items-stretch border-b border-dashed border-gray-300"},fe={class:"flex-1 p-4"},ve={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},_e={class:"flex-1"},xe={class:"ml-6 my-1 text-lg text-gray-900"},ge={class:"font-semibold text-gray-800"},be={class:"flex flex-row items-center gap-2"},he={class:"w-10 h-10 flex-shrink-0"},we=["src","alt"],ye={class:"px-2"},De={class:"mt-1 text-gray-800 font-semibold"},Ye={class:"max-w-56 md:w-56 flex flex-col items-start md:items-start justify-between"},ke=e("div",{class:"font-semibold text-gray-700"},"Comprador",-1),Ce={class:"flex items-center gap-2"},Ve=e("i",{class:"fa-regular fa-user"},null,-1),Me=e("div",{class:"font-semibold text-gray-700"},"Fecha",-1),Ee={class:"flex items-center gap-2"},Oe=e("i",{class:"fa-regular fa-calendar"},null,-1),je={class:"w-50 h-full flex px-5 items-center justify-center py-auto"},Te=["onClick"],V="ML Ventas",M="mercadolibre.ventas",ht={__name:"Ventas",props:{datos:{type:Object,default:()=>({})},filtro:{type:Object,default:()=>({})}},setup(b){const d=b,{client_id:h}=Q().props,p=i(d.filtro.buscar??""),f=i(d.filtro.inicio??null),v=i(d.filtro.fin??null),_=i(d.filtro.estado??null);let l=i([d.filtro.inicio,d.filtro.fin]);const N=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[F(new Date,1),F(new Date,1)]}},{text:"Este mes",onClick(){return[oe(new Date),se(new Date)]}},{text:"Este año",onClick(){return[ae(new Date),le(new Date)]}}],$=(o,s,y)=>{C.get(route(M+".detalle",[o,s,y]))},x=i({name:"Todos",code:null}),L=i([{name:"Todos",code:null},{name:"Pagado",code:"paid"},{name:"Cancelado",code:"cancelled"}]),R=o=>{x.value.code!=_.value&&(_.value=x.value.code)},U=o=>{switch(o){case"paid":return"text-green-600";case"cancelled":return"text-red-600";default:return"text-black"}},z=o=>{switch(o){case"paid":return"bg-green-600";case"cancelled":return"bg-red-600";default:return"bg-white"}},A=o=>{switch(o){case"paid":return"Pagado";case"cancelled":return"Cancelado";default:return""}};W(()=>{});const w=()=>{C.get(route(M+".index",[h]),{buscar:p.value,inicio:f.value,estado:_.value,fin:v.value},{preserveState:!0,replace:!0})},I=o=>{o[0]!=null&&o[1]!=null?(l.value=[B(o[0]).format("YYYY-MM-DD"),B(o[1]).format("YYYY-MM-DD")],f.value=l.value[0],v.value=l.value[1]):(l.value=[],f.value=null,v.value=null),setTimeout(function(){C.get(route(M+".index",[h]),{buscar:p.value,inicio:f.value,estado:_.value,fin:v.value},{preserveState:!0,replace:!0})},100)};return(o,s)=>{const y=O("InputText"),P=O("Dropdown"),E=j("debounce"),H=j("tooltip");return u(),c(Y,null,[a(g(X),{title:V}),a(J,{pagina:[{label:V,link:!1}]},{default:Z(()=>[e("div",ne,[e("div",{class:"p-3 col-span-full flex justify-between items-center"},[e("h5",{class:"text-2xl font-medium"},r(V))]),e("div",re,[e("div",ie,[e("div",de,[a(k,{for:"buscar",value:"Buscar",class:"text-base font-medium leading-1 text-gray-900"}),D(a(y,{id:"buscar",modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t),"debounce-events":["keyup"],placeholder:"Numero de venta",pt:{root:{class:"col-span-6 lg:col-span-2 w-full"}}},null,8,["modelValue"]),[[E,w,"500ms"]])]),e("div",ce,[a(k,{for:"estado",value:"Estado",class:"text-base font-medium leading-1 text-gray-900"}),D(a(P,{id:"estado",modelValue:x.value,"onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t),onChange:s[2]||(s[2]=t=>{R(),w()}),options:L.value,optionLabel:"name",pt:{root:{class:"w-full"},trigger:{class:"fas fa-caret-down text-gray-200 my-auto"},item:({props:t,state:K,context:n})=>({class:n.selected?"text-white bg-primary-900":n.focused?"bg-blue-100":void 0})},placeholder:"Seleccione estado"},null,8,["modelValue","options","pt"]),[[E,w,"500ms"]])]),e("div",ue,[a(k,{for:"date1",value:"Rango de Fecha",class:"text-base font-medium leading-1 text-gray-900"}),a(g(ee),{id:"date1",onChange:I,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"col-span-6 lg:col-span-2 font-sans font-normal text-gray-700 bg-white transition-colors duration-200 border-0 text-sm",value:g(l),"onUpdate:value":s[3]||(s[3]=t=>q(l)?l.value=t:l=t),shortcuts:N,lang:"es",editable:"false",placeholder:"Seleccione Fecha"},null,8,["value"])])]),e("div",me,[(u(!0),c(Y,null,T(b.datos.data,(t,K)=>(u(),c("div",pe,[e("div",{class:S(["w-2 hidden md:block",z(t.estado)])},null,2),e("div",fe,[e("div",ve,[e("div",_e,[e("div",xe,[m("Venta "),e("span",ge,"#"+r(t.venta_id),1),m(),e("span",{class:S(["ml-3 px-2 py-0.5 text-[15px] rounded font-semibold",U(t.estado)])},r(A(t.estado)),3)]),(u(!0),c(Y,null,T(t.productos,n=>(u(),c("div",be,[e("div",he,[e("img",{src:n.imagen,alt:n.titulo,class:"w-10 h-10 object-cover rounded border border-gray-800"},null,8,we)]),e("div",ye,[e("div",De,r(n.cantidad)+" × "+r(n.titulo),1)])]))),256))]),e("div",Ye,[ke,e("div",Ce,[Ve,m(" "+r(t.comprador?.first_name)+" "+r(t.comprador?.last_name),1)]),Me,e("div",Ee,[Oe,m(" "+r(t.created_at),1)])]),e("div",je,[D((u(),c("button",{class:"rounded bg-blue-700 border border-white px-3 py-2 text-base font-normal text-white m-1 hover:bg-blue-600",onClick:G(n=>$(g(h),t.venta_id,t.tipo),["prevent"])},[m("Ver Detalle")],8,Te)),[[H,{value:"Ver Detalle",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]])])])])]))),256))]),a(te,{elements:b.datos.links},null,8,["elements"])])])]),_:1},8,["pagina"])],64)}}};export{ht as default};
