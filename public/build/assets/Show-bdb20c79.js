import{_ as ee}from"./AppLayout-33c170c3.js";import{K as c,l as d,T as te,h as oe,F as A,m as b,p as ae,f as N,a as o,u as s,w as n,q as le,o as Y,Z as se,b as t,t as p,v as F,c as re,g as I,d as m,B as j,O as M}from"./app-b07a0c55.js";import{i as P}from"./es.es-acf06c45.js";import{h}from"./moment-fbc5633a.js";import{s as x,a as R,e as U,b as z,c as H}from"./index-3b59ec08.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const ne={class:"card px-4 py-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},de={class:"px-0 py-1 m-2 mt-0 text-white col-span-full flex justify-end items-center"},ie=t("i",{class:"fas fa-edit"},null,-1),ce={class:"mx-auto grid max-w-2xl grid-cols-1 gap-2 sm:px-6 sm:py-5 lg:max-w-7xl lg:grid-cols-3 lg:px-8"},ue={class:"grid grid-cols-2 gap-2"},pe={class:"col-span-2"},me=["alt","src"],ge={class:"col-span-2 grid grid-cols-4 gap-2"},_e={class:"col-span-4 border-b border-gray-200"},be={class:"lg:text-2xl text-lg font-semibold leading-0 text-gray-800 mt-2"},he={class:"col-span-2"},xe={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},ve=t("b",null," Origen: ",-1),fe={class:"col-span-2"},ye={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},we=t("b",null," Código barra: ",-1),De={class:"col-span-2"},ke={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},Ce=t("b",null," Stock: ",-1),Ye={class:"col-span-2"},Me={class:"text-lg leading-2 mt-0 text-gray-700 dark:text-gray-300"},Be=t("b",null," Stock Futuro: ",-1),Se={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},Ve={class:"bg-gray-100 rounded-t-lg py-2 px-3"},Oe={class:"text-2xl font-medium pb-0 pl-2"},Ee=t("div",{class:"bg-gradient-to-r from-primary-900 to-primary-100 h-1 mb-4"},null,-1),Te={class:"align-middle p-2"},Ae={class:"flex justify-content-end text-md"},Ne={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},Fe={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},Ie=t("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),je={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},Pe={class:"bg-gray-100 rounded-t-lg py-2 px-3"},Re={class:"text-2xl font-medium pb-0 pl-2"},Ue=t("div",{class:"bg-gradient-to-r from-secondary-900 to-secondary-100 h-1 mb-4"},null,-1),ze={class:"align-middle p-2"},He={class:"flex justify-content-end text-md"},$e={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},B="Detalle Producto",v="productos",Qe={__name:"Show",setup(qe){const{permissions:$}=c().props.auth,q=d("/images/productos/sin_foto.png"),{roles:S}=c().props.auth,f=d(),y=d(),w=d(),D=d(),a=te({id:"",origen:"",nombre:"",aduana:"",codigo_barra:"",stock:0,stock_minimo:0,imagen:"",photo:""}),V=d([new Date,new Date]),O=d([new Date,new Date]),g=d([]),K=e=>{e[0]!=null&&e[1]!=null?(g.value=[e[0],e[1]],j.get(route(v+".productoventa",[c().props.producto.id,h(e[0]).format("YYYY-MM-DD"),h(e[1]).format("YYYY-MM-DD")])).then(l=>{var u=l.data;f.value=u.cantidad,w.value=Array.from(u.producto.detalles_ventas,_=>_)})):location.reload()},W=e=>{console.log(g),g.value[0]!=null&&g.value[1]!=null?window.open(route("productos.exportproductoventas",[a.id,{inicio:g.value[0],fin:g.value[1]}]),"_blank"):window.open(route("productos.exportproductoventas",[a.id]),"_blank")},X=e=>{e[0]!=null&&e[1]!=null?j.get(route(v+".productoimportacion",[c().props.producto.id,h(e[0]).format("YYYY-MM-DD"),h(e[1]).format("YYYY-MM-DD")])).then(l=>{var u=l.data;y.value=u.cantidad_importacion,D.value=Array.from(u.producto,_=>_)}):location.reload()},Z=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[x(new Date,1),x(new Date,1)]}},{text:"Este mes",onClick(){return[R(new Date),U(new Date)]}},{text:"Este año",onClick(){return[z(new Date),H(new Date)]}}],G=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[x(new Date,1),x(new Date,1)]}},{text:"Este mes",onClick(){return[R(new Date),U(new Date)]}},{text:"Este año",onClick(){return[z(new Date),H(new Date)]}}];oe(()=>{w.value=Array.from(c().props.producto.detalles_ventas,l=>l),y.value=c().props.cantidad_importacion,f.value=c().props.cantidad,D.value=Array.from(c().props.productoImportacion,l=>l);var e=c().props.producto;a.id=e.id,a.nombre=e.nombre,a.origen=e.origen,a.aduana=e.aduana,a.codigo_barra=e.codigo_barra,a.stock=e.stock,a.stock_minimo=e.stock_minimo,a.stock_futuro=e.stock_futuro,q.value=e.imagen,a.imagen=e.imagen});const k=d({global:{value:null,matchMode:A.CONTAINS}}),C=d({global:{value:null,matchMode:A.CONTAINS}}),J=e=>{M.get(route(v+".edit",e))},L=e=>{M.get(route("ventas.show",e.data.venta_id))},Q=e=>{M.get(route("importaciones.show",e.data.importacion_id))};return(e,l)=>{const u=b("Button"),_=b("InputText"),r=b("Column"),E=b("DataTable"),T=ae("tooltip");return Y(),N(le,null,[o(s(se),{title:B}),o(ee,{pagina:[{label:"Productos",link:!0,url:e.route(v+".index")},{label:B,link:!1}]},{default:n(()=>[t("div",ne,[t("div",{class:"px-3 col-span-full flex justify-between items-center"},[t("h5",{class:"text-2xl font-medium"},p(B))]),t("div",de,[s($).includes("editar-productos")?F((Y(),re(u,{key:0,label:"Editar",onClick:l[0]||(l[0]=i=>J(s(a).id)),pt:{root:{class:"flex items-center  bg-primary-900 justify-center font-medium w-10"},label:{class:"hidden"}}},{default:n(()=>[ie]),_:1})),[[T,{value:"Editar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):I("",!0)]),t("div",ce,[t("div",ue,[t("div",pe,[t("img",{class:"w-48 text-center rounded-xl",alt:s(a).nombre,src:s(a).imagen},null,8,me)])]),t("div",ge,[t("div",_e,[t("h1",be,p(s(a).nombre),1)]),t("div",he,[t("p",xe,[ve,m(" "+p(s(a).origen),1)])]),t("div",fe,[t("p",ye,[we,m(" "+p(s(a).codigo_barra),1)])]),t("div",De,[t("p",ke,[Ce,m(" "+p(s(a).stock),1)])]),t("div",Ye,[t("p",Me,[Be,m(" "+p(s(a).stock_futuro),1)])])])]),t("div",Se,[t("div",Ve,[t("h2",Oe,"Pedidos: "+p(f.value),1)]),Ee,t("div",Te,[o(E,{sortField:"venta.fecha",sortOrder:-1,filters:k.value,onRowClick:L,value:w.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{numToleratedItems:30,itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:n(()=>[t("div",Ae,[o(_,{modelValue:k.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=i=>k.value.global.value=i),placeholder:"Buscar"},null,8,["modelValue"]),t("div",Ne,[o(s(P),{onChange:K,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:V.value,"onUpdate:value":l[2]||(l[2]=i=>V.value=i),shortcuts:Z,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])]),s(S).includes("Super Administrador")||s(S).includes("Administrador")?F((Y(),N("div",Fe,[o(u,{onClick:l[3]||(l[3]=i=>W(s(a).id)),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:n(()=>[Ie]),_:1})])),[[T,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):I("",!0)])]),empty:n(()=>[m(" No existe Resultado ")]),loading:n(()=>[m(" Cargando... ")]),default:n(()=>[o(r,{field:"venta.fecha",sortable:"",header:"Fecha",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cantidad",sortable:"",header:"Cantidad",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"precio",sortable:"",header:"Precio",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"venta.destino",sortable:"",header:"Destino",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])]),t("div",je,[t("div",Pe,[t("h2",Re,"Importaciones: "+p(y.value),1)]),Ue,t("div",ze,[o(E,{sortField:"importacion.fecha",sortOrder:-1,filters:C.value,onRowClick:Q,value:D.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:n(()=>[t("div",He,[o(_,{modelValue:C.value.global.value,"onUpdate:modelValue":l[4]||(l[4]=i=>C.value.global.value=i),placeholder:"Buscar"},null,8,["modelValue"]),t("div",$e,[o(s(P),{onChange:X,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:O.value,"onUpdate:value":l[5]||(l[5]=i=>O.value=i),shortcuts:G,lang:"es",placeholder:"seleccione Fecha",clearable:!1},null,8,["value"])])])]),empty:n(()=>[m(" No existe Resultado ")]),loading:n(()=>[m(" Cargando... ")]),default:n(()=>[o(r,{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"fecha_arribado",header:"Fecha Arribo",sortable:"",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"precio",sortable:"",header:"EXW Precio",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"unidad",sortable:"",header:"Unidad",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"pcs_bulto",sortable:"",header:"PCS/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"bultos",sortable:"",header:"Bulto",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cantidad_total",sortable:"",header:"Cantidad Total",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"valor_total",sortable:"",header:"Valor Total",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cbm_bulto",sortable:"",header:"CBM/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(r,{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{Qe as default};
