import{l as g,K as x,k as S,T as N,h as P,F as D,m as d,f,a as e,u as c,w as s,q as L,o as m,Z as V,b as l,t as E,c as I,g as _,d as v,e as M,O as F}from"./app-c3233bd6.js";import{_ as O,S as $}from"./AppLayout-cda92b46.js";import R from"./CrearModal-e9d294eb.js";import j from"./EditarModal-d0cb93d7.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./InputError-241c72af.js";import"./InputLabel-98162fe3.js";import"./Modal-83b5be5a.js";import"./TextInput-510fda56.js";const q={class:"px-4 py-3 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},A={class:"px-5 pb-2 col-span-full flex justify-between items-center"},U={class:"align-middle"},z={class:"flex justify-content-end text-md"},K={key:0,class:"inline-block rounded bg-primary-900 px-2 py-1 text-base font-medium text-white mr-1 mb-1 hover:bg-primary-100"},Z={key:1,class:"inline-block rounded bg-red-700 px-2 py-1 text-base font-medium text-white mr-1 mb-1 hover:bg-red-600"},G=["onClick"],H=l("i",{class:"fas fa-trash-alt"},null,-1),J=[H],h="Clientes",y="clientes",re={__name:"Index",setup(Q){const b=g(),{permissions:u}=x().props.auth,k=S(),w=N({id:""});P(()=>{b.value=x().props.clientes.data});const C=(n,a)=>{$.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar "+a,text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red",confirmButtonColor:"#2563EB"}).then(p=>{p.isConfirmed&&w.delete(route(y+".destroy",n),{preserveScroll:!0,onSuccess:()=>{T("success","Eliminado","Se ha eliminado"),setTimeout(()=>{F.get(route(y+".index"))},1e3)}})})},T=(n,a,r)=>{k.add({severity:n,summary:a,detail:r,life:3e3})},i=g({global:{value:null,matchMode:D.CONTAINS}});return(n,a)=>{const r=d("Toast"),p=d("InputText"),t=d("Column"),B=d("DataTable");return m(),f(L,null,[e(c(V),{title:h}),e(O,{pagina:[{label:h,link:!1}]},{default:s(()=>[l("div",q,[e(r),l("div",A,[l("h5",{class:"text-2xl font-medium"},E(h)),c(u).includes("crear-clientes")?(m(),I(R,{key:0})):_("",!0)]),l("div",U,[e(B,{size:"small",filters:i.value,"onUpdate:filters":a[1]||(a[1]=o=>i.value=o),value:b.value,paginator:!0,rows:10,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",tableStyle:"width: 100%"},{header:s(()=>[l("div",z,[e(p,{modelValue:i.value.global.value,"onUpdate:modelValue":a[0]||(a[0]=o=>i.value.global.value=o),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:s(()=>[v(" No existe Resultado ")]),loading:s(()=>[v(" Cargando... ")]),default:s(()=>[e(t,{field:"id",header:"ID"}),e(t,{field:"nombre",header:"Nombre",sortable:""}),e(t,{field:"telefono",header:"Telefono",sortable:""}),e(t,{field:"localidad",header:"Localidad",sortable:""}),e(t,{field:"direccion",header:"DirecciÃ³n",sortable:""}),e(t,{field:"empresa",header:"Empresa",sortable:""}),e(t,{field:"rut",header:"Rut",sortable:""}),e(t,{field:"email",header:"Email",sortable:""}),e(t,{header:"Acciones",style:{width:"100px"}},{body:s(o=>[c(u).includes("editar-clientes")?(m(),f("span",K,[e(j,{"cliente-id":o.data.id},null,8,["cliente-id"])])):_("",!0),c(u).includes("eliminar-clientes")?(m(),f("span",Z,[l("button",{onClick:M(W=>C(o.data.id,o.data.name),["prevent"])},J,8,G)])):_("",!0)]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{re as default};
