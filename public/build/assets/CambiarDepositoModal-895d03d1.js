import{k as E,l as r,T,m as u,f as U,b as o,a,w as z,o as N,v as _,x as v,u as n,n as O,e as j,B as F,O as I}from"./app-9be62ce2.js";import{_ as x}from"./InputError-91a514c4.js";import{_ as c}from"./InputLabel-3f59d7d2.js";const $=o("i",{class:"fas fa-exchange-alt"},null,-1),L=[$],q=["onSubmit"],A={class:"px-2 grid grid-cols-6 gap-4 md:gap-3 lg:gap-6 mb-2"},G={class:"col-span-6 shadow-default"},H={class:"col-span-6 shadow-default"},J={class:"col-span-6 shadow-default"},K={class:"flex justify-end py-3"},P="Bultos",m="depositos",Y={__name:"CambiarDepositoModal",props:{detalleId:{type:Number,default:null}},setup(y){const h=y,w=E(),i=r(!1);r();const e=T({id:"",bultos:"",origen_id:"",destino_id:""}),k=()=>{M(h.detalleId)},M=d=>{F.get(route(m+".show",d)).then(t=>{i.value=!0;var s=t.data.deposito;e.id=s.id,e.bultos=s.bultos,e.nombre_deposito=s.deposito.nombre,e.origen_id=s.deposito.id,b.value=t.data.lista_depositos,e.origen_id=s.deposito.id})},C=d=>{e.destino_id=p.value.code},p=r(),b=r(),D=()=>{e.reset(),e.clearErrors(),i.value=!1},B=()=>{e.clearErrors(),e.post(route(m+".updateDeposito",e.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{i.value=!1,S("success","Mensaje","Se ha editado"),setTimeout(()=>{I.get(route(m+".index"))},1e3)},onFinish:()=>{},onError:()=>{}})},S=(d,t,s)=>{w.add({severity:d,summary:t,detail:s,life:3e3})};return(d,t)=>{const s=u("Dropdown"),g=u("Button"),V=u("Dialog");return N(),U("section",null,[o("button",{type:"button",onClick:k},L),a(V,{visible:i.value,"onUpdate:visible":t[3]||(t[3]=l=>i.value=l),modal:"",header:"Mover "+P,style:{width:"20vw"},breakpoints:{"960px":"75vw","641px":"100vw"},position:"top",pt:{header:{class:"mt-6 p-2 lg:p-4 "},content:{class:"p-4 lg:p-4"}}},{default:z(()=>[o("form",{onSubmit:j(B,["prevent"])},[o("div",A,[o("div",G,[a(c,{for:"origen",value:"Origen",class:"block text-base font-medium leading-6 text-gray-900"}),_(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>n(e).nombre_deposito=l),disabled:"",class:"p-inputtext p-component h-9 w-full font-sans font-normal text-gray-700 dark:text-white/80 bg-white dark:bg-gray-900 border border-gray-300 dark:border-blue-900/40 transition-colors duration-200 appearance-none rounded-md text-sm px-2 py-1"},null,512),[[v,n(e).nombre_deposito]])]),o("div",H,[a(c,{for:"destino",value:"Destino",class:"block text-base font-medium leading-6 text-gray-900"}),a(s,{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=l=>p.value=l),onChange:C,options:b.value,optionLabel:"name",pt:{root:{class:"w-full"},trigger:{class:"fas fa-caret-down text-gray-200 my-auto"},item:({props:l,state:Q,context:f})=>({class:f.selected?"text-white bg-primary-900":f.focused?"bg-blue-100":void 0})},placeholder:"Seleccione destino"},null,8,["modelValue","options","pt"]),a(x,{class:"mt-1 text-xs",message:n(e).errors.destino_id},null,8,["message"])]),o("div",J,[a(c,{for:"bultos",value:"Bultos",class:"block text-base font-medium leading-6 text-gray-900"}),_(o("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=l=>n(e).bultos=l),step:"1",class:"p-inputtext p-component h-9 w-full text-end font-normal text-gray-700 border border-gray-300 transition-colors duration-200 appearance-none rounded-md text-sm px-3 py-1"},null,512),[[v,n(e).bultos]]),a(x,{class:"mt-1 text-xs",message:n(e).errors.bultos},null,8,["message"])])]),o("div",K,[a(g,{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:D,type:"button"}),a(g,{label:"Mover",size:"small",type:"submit",class:O({"opacity-50":n(e).processing}),disabled:n(e).processing},null,8,["class","disabled"])])],40,q)]),_:1},8,["visible","header"])])}}};export{Y as default};
