import{_ as rt}from"./AppLayout-CiOD__YY.js";import{K as i,T as dt,Z as nt,O as A}from"./@inertiajs-CMyvZJ1U.js";import{aH as P}from"./primevue-B_pu_EB_.js";import{i as j}from"./vue-datepicker-next-MGkLgL3F.js";import{h as f}from"./moment-D15uM1gO.js";import{a as F}from"./axios-ngrFHoWO.js";import{s as g,a as U,e as H,b as z,c as X}from"./date-fns-Bj3OEEs3.js";import{r as m,o as ct,R as v,S as it,f as h,g as x,W as o,E as r,Y as n,j as t,D as d,T as $,u as E,U as mt,F as G,A as pt,C as b}from"./@vue-BLfC86mR.js";import"./pusher-js-Ck_2Ecjm.js";import"./logo-C8Jea0Rc.js";import"./pinia-DeiM1QY_.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-5zhdP7Ax.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./date-format-parse-DuecP4dO.js";import"./@babel-QjJsDpFa.js";const ut={class:"card px-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-3 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},xt={class:"grid grid-cols-12 justify-center"},_t={class:"px-0 py-0 m-2 mt-0 text-white col-span-2 flex justify-end items-center"},ft=t("i",{class:"fas fa-edit"},null,-1),ht={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-0 rounded-t-xl max-w-xs md:max-w-5xl mx-auto bg-white"},bt={class:"w-2/3"},gt={class:"font-bold text-gray-800 md:text-2xl text-xl"},vt={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-0 rounded-b-xl p-3 max-w-xs md:max-w-5xl mx-auto border border-white bg-white"},wt={class:"w-full md:w-1/3 bg-white grid place-items-center"},yt=["alt","src"],Dt={class:"w-full md:w-2/3 bg-white p-3 space-x-1 space-y-0"},Ct={class:"w-full flex flex-col md:flex-row pb-2"},Yt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 md:text-2xl text-xl"},"Stock:")],-1),kt={class:"w-full md:w-2/3"},Mt={class:"font-normal text-gray-800 md:text-2xl text-xl"},At={class:"w-full flex flex-col md:flex-row pb-2"},Et=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"},"SKU:")],-1),It={class:"w-full md:w-2/3"},St={class:"font-normal text-gray-800 text-base"},Ot={class:"w-full flex flex-col md:flex-row pb-3"},Tt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"},"CÓDIGO DE BARRA:")],-1),Nt={class:"w-full md:w-2/3"},Rt={class:"font-normal text-gray-800 text-base"},Vt=t("div",{class:"w-full flex flex-col md:flex-row pt-2"},[t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"PRÓXIMO INGRESO")])],-1),Bt=t("div",{class:"w-full flex"},[t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"IMPORTACIÓN")]),t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"CANTIDAD")]),t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"FECHA APROX.")])],-1),Pt={key:0,class:"w-full"},jt={class:"w-full flex py-1"},Ft={class:"w-full text-center"},Ut={class:"font-normal text-gray-800 text-lg"},Ht={class:"w-full text-center"},zt={class:"font-normal text-gray-800 text-lg"},Xt={class:"w-full text-center"},$t={class:"font-normal text-gray-800 text-lg"},Gt=t("div",{class:"w-full flex flex-col md:flex-row pt-2"},[t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"COSTO REAL")])],-1),Kt={class:"w-full flex flex-col md:flex-row py-1"},Lt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," USD (IVA INC.):")],-1),Wt={class:"w-full md:w-2/3"},Zt={class:"font-normal text-gray-800 text-base"},qt={class:"w-full flex flex-col md:flex-row py-1"},Jt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," Precio Aprox:")],-1),Qt={class:"w-full md:w-2/3"},te={class:"font-normal text-gray-800 text-base"},ee={class:"w-full flex flex-col md:flex-row py-1"},oe=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," Cotización Yuanes:")],-1),se={class:"w-full md:w-2/3"},ae={class:"font-normal text-gray-800 text-base"},le={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},re={class:"bg-gray-100 rounded-t-lg py-2 px-3"},de={class:"text-2xl font-medium pb-0 pl-2"},ne=t("div",{class:"bg-gradient-to-r from-primary-900 to-primary-100 h-1 mb-4"},null,-1),ce={class:"align-middle p-2"},ie={class:"flex justify-content-end text-md"},me={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},pe={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},ue=t("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),xe={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},_e={class:"bg-gray-100 rounded-t-lg py-2 px-3"},fe={class:"text-2xl font-medium pb-0 pl-2"},he=t("div",{class:"bg-gradient-to-r from-secondary-900 to-secondary-100 h-1 mb-4"},null,-1),be={class:"align-middle p-2"},ge={class:"flex justify-content-end text-md"},ve={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},we={class:"text-md"},ye={class:"text-md"},De={class:"text-md"},I="Detalle Producto",w="productos",co={__name:"Show",setup(Ce){const{permissions:K}=i().props.auth,L=m("/images/productos/sin_foto.png"),{roles:S}=i().props.auth,{costo_real:W}=i().props,{costo_aprox:Z}=i().props,{productoEnCamino:O}=i().props,{ultimo_yang:T}=i().props,y=m(),D=m(),C=m(),Y=m(),a=dt({id:"",origen:"",nombre:"",aduana:"",codigo_barra:"",stock:0,stock_minimo:0,imagen:"",photo:"",categorias:[]}),N=m([new Date,new Date]),R=m([new Date,new Date]),_=m([]),q=e=>{e[0]!=null&&e[1]!=null?(_.value=[e[0],e[1]],F.get(route(w+".productoventa",[i().props.producto.id,f(e[0]).format("YYYY-MM-DD"),f(e[1]).format("YYYY-MM-DD")])).then(l=>{var p=l.data;y.value=p.cantidad,C.value=Array.from(p.productoventa,u=>u)})):location.reload()},J=e=>{_.value[0]!=null&&_.value[1]!=null?window.open(route("productos.exportproductoventas",[a.id,{inicio:_.value[0],fin:_.value[1]}]),"_blank"):window.open(route("productos.exportproductoventas",[a.id]),"_blank")},Q=e=>{e[0]!=null&&e[1]!=null?F.get(route(w+".productoimportacion",[i().props.producto.id,f(e[0]).format("YYYY-MM-DD"),f(e[1]).format("YYYY-MM-DD")])).then(l=>{var p=l.data;D.value=p.cantidad_importacion,Y.value=Array.from(p.producto,u=>u)}):location.reload()},tt=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[g(new Date,1),g(new Date,1)]}},{text:"Este mes",onClick(){return[U(new Date),H(new Date)]}},{text:"Este año",onClick(){return[z(new Date),X(new Date)]}}],et=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[g(new Date,1),g(new Date,1)]}},{text:"Este mes",onClick(){return[U(new Date),H(new Date)]}},{text:"Este año",onClick(){return[z(new Date),X(new Date)]}}],ot=e=>f(e).format("DD/MM/YYYY");ct(()=>{C.value=Array.from(i().props.productoventa,l=>l),D.value=i().props.cantidad_importacion,y.value=i().props.cantidad,Y.value=Array.from(i().props.productoImportacion,l=>l);var e=i().props.producto;a.id=e.id,a.nombre=e.nombre,a.origen=e.origen,a.aduana=e.aduana,a.codigo_barra=e.codigo_barra,a.stock=e.stock,a.stock_minimo=e.stock_minimo,a.stock_futuro=e.stock_futuro,L.value=e.imagen,a.imagen=e.imagen,a.categorias=e.categorias});const k=m({global:{value:null,matchMode:P.CONTAINS}}),M=m({global:{value:null,matchMode:P.CONTAINS}}),st=e=>{A.get(route(w+".edit",e))},at=e=>{A.get(route("ventas.show",e.data.venta_id))},lt=e=>{A.get(route("importaciones.show",e.data.importacion_id))};return(e,l)=>{const p=v("Button"),u=v("InputText"),c=v("Column"),V=v("DataTable"),B=it("tooltip");return x(),h(G,null,[o(r(nt),{title:I}),o(rt,{pagina:[{label:"Productos",link:!0,url:e.route(w+".index")},{label:I,link:!1}]},{default:n(()=>[t("div",ut,[t("div",xt,[t("div",{class:"px-3 col-span-10 flex justify-between items-center"},[t("h5",{class:"text-xl font-medium"},d(I))]),t("div",_t,[r(K).includes("productos-editar")?$((x(),mt(p,{key:0,label:"Editar",onClick:l[0]||(l[0]=s=>st(r(a).id)),pt:{root:{class:"flex items-center bg-primary-900 justify-center font-medium w-10"},label:{class:"hidden"}}},{default:n(()=>[ft]),_:1})),[[B,{value:"Editar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):E("",!0)])]),t("div",ht,[t("div",bt,[t("h3",gt,d(r(a).nombre),1)])]),t("div",vt,[t("div",wt,[t("img",{alt:r(a).nombre,src:r(a).imagen,class:"rounded-xl shadow-lg"},null,8,yt)]),t("div",Dt,[t("div",Ct,[Yt,t("div",kt,[t("h3",Mt,d(r(a).stock),1)])]),t("div",At,[Et,t("div",It,[t("h3",St,d(r(a).origen),1)])]),t("div",Ot,[Tt,t("div",Nt,[t("h3",Rt,d(r(a).codigo_barra),1)])]),Vt,Bt,r(O).length>0?(x(),h("div",Pt,[(x(!0),h(G,null,pt(r(O),s=>(x(),h("div",jt,[t("div",Ft,[t("h3",Ut,d(s.nro_carpeta),1)]),t("div",Ht,[t("h3",zt,d(s.cantidad_total),1)]),t("div",Xt,[t("h3",$t,d(s.fecha_arribado),1)])]))),256))])):E("",!0),Gt,t("div",Kt,[Lt,t("div",Wt,[t("h3",Zt,d(r(W)),1)])]),t("div",qt,[Jt,t("div",Qt,[t("h3",te,d(r(Z)??"-"),1)])]),t("div",ee,[oe,t("div",se,[t("h3",ae,d(r(T)>0?r(T):"-"),1)])])])]),t("div",le,[t("div",re,[t("h2",de,"Pedidos: "+d(y.value),1)]),ne,t("div",ce,[o(V,{filters:k.value,onRowClick:at,value:C.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{numToleratedItems:30,itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:n(()=>[t("div",ie,[o(u,{modelValue:k.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=s=>k.value.global.value=s),placeholder:"Buscar"},null,8,["modelValue"]),t("div",me,[o(r(j),{onChange:q,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:N.value,"onUpdate:value":l[2]||(l[2]=s=>N.value=s),shortcuts:tt,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])]),r(S).includes("Super Administrador")||r(S).includes("Administrador")?$((x(),h("div",pe,[o(p,{onClick:l[3]||(l[3]=s=>J(r(a).id)),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:n(()=>[ue]),_:1})])),[[B,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):E("",!0)])]),empty:n(()=>[b(" No existe Resultado ")]),loading:n(()=>[b(" Cargando... ")]),default:n(()=>[o(c,{field:"created_at",sortable:"",header:"Fecha",pt:{bodyCell:{class:"text-center"}}},{body:n(({data:s})=>[b(d(ot(s.created_at)),1)]),_:1}),o(c,{field:"cantidad",sortable:"",header:"Cantidad",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"precio",sortable:"",header:"Precio",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"destino",sortable:"",header:"Destino",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])]),t("div",xe,[t("div",_e,[t("h2",fe,"Importaciones: "+d(D.value),1)]),he,t("div",be,[o(V,{filters:M.value,onRowClick:lt,value:Y.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:n(()=>[t("div",ge,[o(u,{modelValue:M.value.global.value,"onUpdate:modelValue":l[4]||(l[4]=s=>M.value.global.value=s),placeholder:"Buscar"},null,8,["modelValue"]),t("div",ve,[o(r(j),{onChange:Q,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:R.value,"onUpdate:value":l[5]||(l[5]=s=>R.value=s),shortcuts:et,lang:"es",placeholder:"seleccione Fecha",clearable:!1},null,8,["value"])])])]),empty:n(()=>[b(" No existe Resultado ")]),loading:n(()=>[b(" Cargando... ")]),default:n(()=>[o(c,{field:"importacion.nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}},{loading:n(()=>[]),body:n(s=>[t("span",we,d(s.data.importacion.nro_carpeta),1)]),_:1}),o(c,{field:"importacion.fecha",header:"Fecha Arribo",sortable:"",pt:{bodyCell:{class:"text-center"}}},{body:n(s=>[t("span",ye,d(s.data.importacion.fecha),1)]),_:1}),o(c,{header:"Costo Real",sortable:"",pt:{bodyCell:{class:"text-center"}}},{body:n(s=>[t("span",De,d(s.data.real_costo.length>0?s.data.real_costo[0].monto:"0.00"),1)]),_:1}),o(c,{field:"precio",sortable:"",header:"EXW Precio",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"pcs_bulto",sortable:"",header:"PCS/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"bultos",sortable:"",header:"Bulto",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"cantidad_total",sortable:"",header:"Cantidad Total",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"valor_total",sortable:"",header:"Valor Total",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"cbm_bulto",sortable:"",header:"CBM/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{co as default};
