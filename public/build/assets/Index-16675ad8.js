import{k as F,l as b,K as _,T as M,h as N,F as j,m as u,p as z,f as v,a as e,u as t,w as l,q as O,o as p,Z as R,b as s,t as A,z as g,d as y,A as o,v as w,c as $,e as q,O as m}from"./app-5cc98171.js";import{_ as H,S as G}from"./AppLayout-104d07ae.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const K={class:"card px-4 py-3 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},L={class:"px-3 pb-2 col-span-full flex justify-between items-center"},U={class:"align-middle"},W={class:"flex justify-content-end text-md"},Z={class:"p-0 text-white flex justify-center items-center"},J={class:"w-8 h-8 rounded bg-green-600 flex justify-center items-center text-base font-semibold text-white mr-1 hover:bg-green-600"},Q=["href"],X=s("i",{class:"fas fa-file-excel text-white"},null,-1),Y=[X],P=s("i",{class:"fas fa-trash-alt"},null,-1),h="Importaciones",d="importaciones",re={__name:"Index",setup(ee){const C=F(),x=b();_().props.auth;const T=M({id:""}),B=a=>{m.get(route(d+".show",a))},S=a=>{G.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar ",text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red",confirmButtonColor:"#2563EB"}).then(n=>{n.isConfirmed&&T.delete(route(d+".destroy",a),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{D("success","Eliminado","Se ha eliminado"),setTimeout(()=>{m.get(route(d+".index"))},1e3)}})})},k=a=>{B(a.data.id)};N(()=>{x.value=_().props.productos.data});const D=(a,r,n)=>{C.add({severity:a,summary:r,detail:n,life:3e3})},E=()=>{m.get(route(d+".create"))},c=b({global:{value:null,matchMode:j.STARTS_WITH}});return(a,r)=>{const n=u("Toast"),I=u("InputText"),V=u("DataTable"),f=z("tooltip");return p(),v(O,null,[e(t(R),{title:h}),e(H,{pagina:[{label:h,link:!1}]},{default:l(()=>[s("div",K,[e(n),s("div",L,[s("h5",{class:"text-2xl font-medium"},A(h)),e(t(g),{size:"small",label:"Importar Excel",severity:"success",onClick:E})]),s("div",U,[e(V,{showGridlines:"",sortField:"created_at",sortOrder:-1,filters:c.value,value:x.value,pt:{bodyRow:{class:"hover:cursor-pointer"}},scrollable:"",scrollHeight:"400px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem",onRowClick:k,size:"small"},{header:l(()=>[s("div",W,[e(I,{modelValue:c.value.global.value,"onUpdate:modelValue":r[0]||(r[0]=i=>c.value.global.value=i),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:l(()=>[y(" No existe Resultado ")]),loading:l(()=>[y(" Cargando... ")]),default:l(()=>[e(t(o),{field:"id",header:"ID",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"nro_contenedor",header:"BL o No. de Contenedor",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"estado",header:"Estado de pedido",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"total",sortable:"",header:"Total",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"cantidad_productos",sortable:"",header:"Cantidad productos",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"created_at",sortable:"",header:"Fecha",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{header:"Acciones",style:{width:"130px"},pt:{bodycell:{class:"px-auto text-center"}}},{body:l(i=>[s("div",Z,[w((p(),v("span",J,[s("a",{href:a.route("importaciones.exportar",i.data.id),target:"_blank",class:"py-auto"},Y,8,Q)])),[[f,{value:"Descargar Excel",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]),w((p(),$(t(g),{class:"w-8 h-8 rounded bg-red-700 border-0 px-2 text-base font-normal text-white m-1 hover:bg-red-600",onClick:q(te=>S(i.data.id),["prevent"])},{default:l(()=>[P]),_:2},1032,["onClick"])),[[f,{value:"Eliminar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]])])]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{re as default};
