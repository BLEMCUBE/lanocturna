import{r as _,o as j,O as p,P as A,g as m,S as t,E as s,V as r,F as I,f,j as o,A as M,Q as v,z as w,t as O,n as z}from"./@vue-1043e4d5.js";import{_ as R}from"./AppLayout-86ce6f8f.js";import{K as y,T as $,Z as q,O as h}from"./@inertiajs-ab1bf9dd.js";import{S as H}from"./sweetalert2-c47eda61.js";import{aG as P,aH as G,h as K,q as i}from"./primevue-232ee6f7.js";import"./logo-e22dfca4.js";import"./pinia-ff353768.js";import"./@vueuse-54bafaaf.js";import"./@headlessui-edafee9e.js";import"./@heroicons-7e6153ac.js";import"./axios-4a70c6fc.js";import"./deepmerge-34bd70bf.js";import"./apexcharts-f697a6eb.js";import"./qs-ba0d1d34.js";import"./side-channel-009c6bc3.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-0f5d75dd.js";import"./nprogress-a144f12f.js";import"./lodash.clonedeep-6a476b09.js";import"./lodash.isequal-cbdfea98.js";const Q={class:"card px-4 mb-4 bg-white col-span-12 rounded-lg shadow-lg 2xl:col-span-12"},U={class:"px-3 pb-2 col-span-full flex justify-end items-center"},Z={class:"w-8 h-8 rounded bg-green-600 flex justify-center mr-5 items-center text-base font-semibold text-white hover:bg-green-600"},J=["href"],L=o("i",{class:"fas fa-file-excel text-white"},null,-1),W=[L],X={class:"align-middle"},Y={class:"flex justify-content-end text-md"},ee=["src"],te=["onClick"],oe=o("i",{class:"fas fa-trash-alt"},null,-1),se=[oe],x="Productos",c="productos",Ee={__name:"CIndex",setup(re){const C=P(),b=_(),{permissions:k}=y().props.auth,F=$({id:""}),S=e=>{if(parseFloat(e.stock)<=parseFloat(e.stock_minimo)&&parseFloat(e.stock)==parseFloat(e.stock_futuro))return["bg-red-700 text-xs text-white"];if(parseFloat(e.stock)<=parseFloat(e.stock_minimo)&&parseFloat(e.stock_futuro)>parseFloat(e.stock))return"bg-orange-500 text-xs text-white"},T=e=>{h.get(route(c+".show",e))},B=(e,a)=>{H.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar "+a,text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red",confirmButtonColor:"#2563EB"}).then(u=>{u.isConfirmed&&F.delete(route(c+".destroy",e),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{D("success","Eliminado","Se ha eliminado"),setTimeout(()=>{h.get(route(c+".index"))},1e3)}})})};j(()=>{b.value=Array.from(y().props.productos.data,e=>e)});const D=(e,a,n)=>{C.add({severity:e,summary:a,detail:n,life:3e3})},V=()=>{h.get(route(c+".create"))},E=e=>{T(e.data.id)},d=_({global:{value:null,matchMode:G.CONTAINS}});return(e,a)=>{const n=p("Toast"),u=p("InputText"),N=p("DataTable"),g=A("tooltip");return f(),m(I,null,[t(s(q),{title:x}),t(R,{pagina:[{label:x,link:!1}]},{default:r(()=>[o("div",Q,[t(n),o("div",{class:"px-3 p-2 col-span-full flex justify-start items-center"},[o("h5",{class:"text-2xl font-medium pr-5"},M(x))]),o("div",U,[v((f(),m("span",Z,[o("a",{href:e.route("productos.exportar"),target:"_blank",class:"py-auto"},W,8,J)])),[[g,{value:"Descargar Excel",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]),t(s(K),{size:"small",label:"Agregar Producto",severity:"success",onClick:V})]),o("div",X,[t(N,{rowClass:S,filters:d.value,value:b.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},globalFilterFields:["codigo_barra","origen","nombre"],scrollable:"",scrollHeight:"700px",paginator:"",rows:50,onRowClick:E,size:"small"},{header:r(()=>[o("div",Y,[t(u,{modelValue:d.value.global.value,"onUpdate:modelValue":a[0]||(a[0]=l=>d.value.global.value=l),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:r(()=>[w(" No existe Resultado ")]),loading:r(()=>[w(" Cargando... ")]),default:r(()=>[t(s(i),{field:"stock",sortable:"",header:"Stock",pt:{bodyCell:{class:"text-center w-12"}}}),t(s(i),{field:"stock_futuro",sortable:"",header:"Stock futuro",pt:{bodyCell:{class:"text-center w-12"}}}),t(s(i),{field:"imagen",header:"Imagen",pt:{bodyCell:{class:"flex justify-center text-center w-12"},headerCell:{class:"w-10"}}},{loading:r(()=>[]),body:r(l=>[o("img",{class:"rounded bg-white shadow-2xl border-2 text-center w-10 h-10 object-contain",src:l.data.imagen,alt:"image"},null,8,ee)]),_:1}),t(s(i),{field:"origen",header:"Origen",sortable:"",pt:{bodyCell:{class:"text-center w-36"}}}),t(s(i),{field:"nombre",header:"Nombre",sortable:"",pt:{bodyCell:{class:"text-center"}}}),t(s(i),{header:"Acciones",style:{width:"80px"},class:"px-auto"},{loading:r(()=>[]),body:r(l=>[s(k).includes("eliminar-productos")?v((f(),m("button",{key:0,class:"w-8 h-8 rounded bg-red-700 border border-white px-2 py-1 text-base font-normal text-white m-1 hover:bg-red-600",onClick:O(ae=>B(l.data.id,l.data.nombre),["prevent"])},se,8,te)),[[g,{value:"Eliminar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):z("",!0)]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{Ee as default};
