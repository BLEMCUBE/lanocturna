import{r as E,o as T,O as h,g as c,S as l,E as s,V as x,F,f as n,j as t,R as j,t as k,n as p,A as a,z as r,Q as N,a2 as B,u as O}from"./@vue-1043e4d5.js";import{_ as z}from"./AppLayout-c524edf2.js";import{T as w,K as Y,Z as $,O as R}from"./@inertiajs-ab1bf9dd.js";import{_ as U}from"./InputLabel-bc304214.js";import{_ as G}from"./InputError-933cc936.js";import{aG as I}from"./primevue-232ee6f7.js";import{h as K}from"./moment-fbc5633a.js";import"./sweetalert2-c47eda61.js";import"./logo-e22dfca4.js";import"./pinia-ff353768.js";import"./@vueuse-54bafaaf.js";import"./@headlessui-edafee9e.js";import"./@heroicons-7e6153ac.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./axios-4a70c6fc.js";import"./deepmerge-34bd70bf.js";import"./apexcharts-f697a6eb.js";import"./qs-ba0d1d34.js";import"./side-channel-009c6bc3.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-0f5d75dd.js";import"./nprogress-a144f12f.js";import"./lodash.clonedeep-6a476b09.js";import"./lodash.isequal-cbdfea98.js";const P={class:"card px-4 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},A={class:"px-0 py-1 m-2 mt-0 col-span-full flex justify-start items-center"},Q=t("span",{class:"text-white font-semibold"},"Validar",-1),Z={class:"mx-auto grid max-w-2xl grid-cols-1 gap-x-1 gap-y-1 px-4 py-2 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-8"},q={class:"col-span-1"},H={class:"text-lg leading-6 mt-0 text-gray-700"},J=t("b",null," Fecha Ingreso: ",-1),L={class:"col-span-1"},W={class:"text-lg leading-6 mt-0 text-gray-700"},X=t("b",null," N° de Servicio: ",-1),tt={class:"col-span-1"},ot={class:"text-lg leading-6 mt-0 text-gray-700"},et=t("b",null," Estado ",-1),st={class:"col-span-1"},at={class:"text-lg leading-6 mt-0 text-gray-700"},rt=t("b",null," Ingresado/Entregado ",-1),dt={key:0,class:"col-span-1"},it={class:"text-lg leading-6 mt-0 text-gray-700"},lt=t("b",null," Fecha Compra: ",-1),nt={key:1,class:"col-span-1"},ct={class:"text-lg leading-6 mt-0 text-gray-700"},pt=t("b",null," N° de Factura: ",-1),_t={key:2,class:"col-span-1"},mt={class:"text-lg leading-6 mt-0 text-gray-700"},gt=t("b",null," Costo Presupuestado: ",-1),ut={class:"col-span-1"},ht={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},xt=t("b",null," Vendedor: ",-1),bt={class:"col-span-1"},ft={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},yt=t("b",null," Destino: ",-1),vt={class:"col-span-1"},kt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},wt=t("b",null," Cliente: ",-1),Ct={class:"col-span-1"},Dt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},Mt=t("b",null," Dirección: ",-1),St={class:"col-span-1"},Vt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},Et=t("b",null," Télefono: ",-1),Tt={class:"col-span-1"},Ft={class:"text-lg leading-6 mt-0 text-red-600 font-bold"},jt=t("b",{class:"text-lg leading-6 mt-0 text-gray-700 font-bold"}," MUEVE STOCK: ",-1),Nt={class:"col-span-3"},Bt={class:"text-lg leading-6 mt-0 text-gray-700"},Ot=t("b",null," Defecto: ",-1),zt={class:"col-span-3"},Yt={class:"text-lg leading-6 mt-0 text-gray-700"},$t=t("b",null," Observaciones: ",-1),Rt=t("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[t("h5",{class:"text-2xl font-medium"},"Productos")],-1),Ut={class:"mx-auto grid max-w-2xl grid-cols-1 overflow-auto gap-x-1 gap-y-1 px-2 py-2 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-1"},Gt={class:"table-auto mx-2 border border-gray-300 col-span-12"},It={class:"p-2 bg-secondary-900 border"},Kt=t("th",{class:"border border-gray-300 w-24"},"Cantidad",-1),Pt=t("th",{class:"border border-gray-300 p-2 w-24"},"Origen",-1),At=t("th",{class:"border border-gray-300"},"Nombre",-1),Qt={key:0,class:"border border-gray-300"},Zt={class:"font-sans text-center font-normal text-gray-800 border border-gray-300"},qt={class:"border border-gray-300 p-2"},Ht={class:"border border-gray-300 p-2"},Jt={class:"border border-gray-300 p-2"},Lt={key:0,class:"border border-gray-300 p-2"},Wt=["onSubmit"],Xt={class:"px-2 grid grid-cols-6 gap-4 md:gap-3 2xl:gap-6 mb-2"},to={class:"col-span-6 shadow-default xl:col-span-6"},oo={class:"flex justify-end py-3"},b="Detalle Envio Rma",f="rmas",No={__name:"ValidacionShow",setup(eo){const _=E(!1),C=I(),y=()=>{d.reset(),d.clearErrors(),_.value=!1},D=e=>{d.index=e,_.value=!0},d=w({id:"",codigo:"",index:""}),M=()=>{d.post(route(f+".maestro"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{S("success","Mensaje","Se ha Validado"),setTimeout(()=>{R.get(route(f+".validacion"))},1e3),y()},onFinish:()=>{},onError:()=>{}})},o=w({id:"",vendedor:"",destino:"",codigo:"",total:0,fecha:"",total_sin_iva:0,moneda:"",tipo_cambio:"",facturado:"",estado:"",observaciones:"",productos:[],cliente:"",direccion:"",parametro:[],rma:[],opt:[],localidad:"",telefono:""}),v=e=>K(e).format("DD/MM/YYYY"),S=(e,i,g)=>{C.add({severity:e,summary:i,detail:g,life:3e3})};return T(()=>{var e=Y().props.venta.data;o.id=e.id,o.fecha=e.fecha,o.vendedor=e.vendedor,o.facturado=e.facturado,o.facturador=e.facturador,o.validador=e.validador,o.observaciones=e.observaciones,o.destino=e.destino,o.cliente=e.cliente,o.empresa=e.empresa,o.rut=e.rut,o.direccion=e.direccion,o.localidad=e.localidad,o.telefono=e.telefono,o.moneda=e.moneda,o.estado=e.estado,o.productos=e.productos,o.parametro=e.parametro,o.rma=e.parametro.rma,o.opt=e.parametro.opt,o.total_sin_iva=e.total_sin_iva,o.total=e.total,o.codigo=e.codigo,o.tipo_cambio=e.tipo_cambio.toFixed(2)}),(e,i)=>{const g=h("Toast"),u=h("Button"),V=h("Dialog");return n(),c(F,null,[l(s($),{title:b}),l(z,{pagina:[{label:"Validación Rma",link:!0,url:e.route(f+".validacion")},{label:b,link:!1}]},{default:x(()=>[t("div",P,[l(g),t("div",A,[s(o).facturado=="0"?(n(),j(u,{key:0,class:"rounded border-0 bg-green-700 px-2 py-0.5 text-base font-normal m-2 hover:bg-green-600",onClick:i[0]||(i[0]=k(m=>D(s(o).id),["prevent"]))},{default:x(()=>[Q]),_:1})):p("",!0)]),t("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[t("h5",{class:"text-2xl font-medium"},a(b))]),t("div",Z,[t("div",q,[t("p",H,[J,r(" "+a(v(s(o).rma.fecha_ingreso)),1)])]),t("div",L,[t("p",W,[X,r(" "+a(s(o).rma.nro_servicio),1)])]),t("div",tt,[t("p",ot,[et,r(" "+a(s(o).estado),1)])]),t("div",st,[t("p",at,[rt,r(" "+a(s(o).rma.modo),1)])]),s(o).fecha_compra?(n(),c("div",dt,[t("p",it,[lt,r(" "+a(v(s(o).rma.fecha_compra)),1)])])):p("",!0),s(o).rma.nro_factura?(n(),c("div",nt,[t("p",ct,[pt,r(" "+a(s(o).rma.nro_factura),1)])])):p("",!0),s(o).rma.costo_presupuestado>0?(n(),c("div",_t,[t("p",mt,[gt,r(" "+a(s(o).rma.costo_presupuestado),1)])])):p("",!0),t("div",ut,[t("p",ht,[xt,r(" "+a(s(o).rma.vendedor),1)])]),t("div",bt,[t("p",ft,[yt,r(" "+a(s(o).destino),1)])]),t("div",vt,[t("p",kt,[wt,r(" "+a(s(o).cliente),1)])]),t("div",Ct,[t("p",Dt,[Mt,r(" "+a(s(o).direccion),1)])]),t("div",St,[t("p",Vt,[Et,r(" "+a(s(o).telefono),1)])]),t("div",Tt,[t("p",Ft,[jt,r(" "+a(s(o).opt.mueve_stock),1)])]),t("div",Nt,[t("p",Bt,[Ot,r(" "+a(s(o).rma.defecto),1)])]),t("div",zt,[t("p",Yt,[$t,r(" "+a(s(o).rma.observaciones),1)])])]),Rt,t("div",Ut,[t("table",Gt,[t("thead",null,[t("tr",It,[Kt,Pt,At,s(o).rma.prod_serie?(n(),c("th",Qt,"Serie")):p("",!0)])]),t("tbody",null,[t("tr",Zt,[t("td",qt,a(s(o).rma.prod_cantidad),1),t("td",Ht,a(s(o).rma.prod_origen),1),t("td",Jt,a(s(o).rma.prod_nombre),1),s(o).rma.prod_serie?(n(),c("td",Lt,a(s(o).rma.prod_serie),1)):p("",!0)])])])]),l(V,{visible:_.value,"onUpdate:visible":i[2]||(i[2]=m=>_.value=m),modal:"",header:"Código Maestro",style:{width:"50vw"},position:"top",pt:{header:{class:"mt-6 p-2 lg:p-4 "},content:{class:"p-4 lg:p-4"}}},{default:x(()=>[t("form",{onSubmit:k(M,["prevent"])},[t("div",Xt,[t("div",to,[l(U,{for:"codigo",value:"Código",class:"block text-base font-medium leading-6 text-gray-900"}),N(t("input",{type:"password","onUpdate:modelValue":i[1]||(i[1]=m=>s(d).codigo=m),class:"p-inputtext text-end p-component h-9 w-full font-sans font-normal text-gray-700 dark:text-white/80 bg-white dark:bg-gray-900 border border-gray-300 dark:border-blue-900/40 transition-colors duration-200 appearance-none rounded-md text-sm px-2 py-1"},null,512),[[B,s(d).codigo]]),l(G,{class:"mt-1 text-xs",message:s(d).errors.codigo},null,8,["message"])])]),t("div",oo,[l(u,{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:y,type:"button"}),l(u,{label:"Guardar",size:"small",type:"submit",class:O({"opacity-50":s(d).processing}),disabled:s(d).processing},null,8,["class","disabled"])])],40,Wt)]),_:1},8,["visible"])])]),_:1},8,["pagina"])],64)}}};export{No as default};
