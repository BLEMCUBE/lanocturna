import{l as k,k as c,T as V,m as C,f as S,b as t,a as s,w as E,o as U,t as B,e as I,u as a,s as M,n as N,q as $,O as j}from"./app-da52df30.js";import{_ as u,a as i}from"./InputLabel-6e5e15c8.js";import{_ as z}from"./Modal-5cc12250.js";import{s as O}from"./multiselect-e0a12eff.js";import{_ as m}from"./TextInput-e93984f3.js";const T=t("i",{class:"fas fa-edit"},null,-1),D=[T],F={class:"p-2"},K=["onSubmit"],q={class:"px-2 grid grid-cols-6 gap-4 md:gap-3 2xl:gap-6 mb-2"},G={class:"col-span-6 shadow-default xl:col-span-3"},P={class:"col-span-6 shadow-default xl:col-span-3"},R={class:"col-span-6 shadow-default xl:col-span-3"},W={class:"col-span-6 shadow-default xl:col-span-3"},A={class:"flex justify-end pt-3"},H="Usuario",p="usuarios",Z={__name:"EditarModal",props:{clienteId:{type:Number,default:null}},setup(g){const x=g,_=k(),d=c(!1);c();const e=V({id:"",name:"",username:"",password:"",rol:""}),f=c({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!0,options:[]}),y=(n,o,l)=>{_.add({severity:n,summary:o,detail:l,life:3e3})},h=()=>{v(x.clienteId)},v=n=>{$.get(route(p+".show",n)).then(o=>{d.value=!0;var l=o.data.usuario;e.id=l.id,e.name=l.name,e.username=l.username,e.rol=o.data.id_rol,f.value.options=o.data.lista_roles})},b=()=>{e.clearErrors(),e.reset(),d.value=!1},w=()=>{e.clearErrors(),e.post(route(p+".update",e.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{d.value=!1,y("success","Mensaje","Se ha editado"),setTimeout(()=>{j.get(route(p+".index"))},1e3)},onFinish:()=>{},onError:()=>{}})};return(n,o)=>{const l=C("Button");return U(),S("section",null,[t("button",{type:"button",onClick:h},D),s(z,{show:d.value,onClose:b,maxWidth:"lg"},{default:E(()=>[t("div",F,[t("div",{class:"p-4 mb-4 rounded-t flex justify-between items-center border-b border-gray-200 dark:border-gray-600"},[t("h5",{class:"text-xl font-normal"},"Editar "+B(H))]),t("form",{onSubmit:I(w,["prevent"])},[t("div",q,[t("div",G,[s(u,{for:"name",value:"Nombre",class:"block text-base font-normal leading-6 text-gray-900"}),s(m,{id:"name",type:"text",modelValue:a(e).name,"onUpdate:modelValue":o[0]||(o[0]=r=>a(e).name=r),autocomplete:"nombre",placeholder:"Ingrese Nombre"},null,8,["modelValue"]),s(i,{class:"mt-1 text-xs",message:a(e).errors.name},null,8,["message"])]),t("div",P,[s(u,{for:"username",value:"Usuario",class:"block text-base font-normal leading-6 text-gray-900"}),s(m,{id:"username",type:"text",onKeyup:n.deleteSpaces,modelValue:a(e).username,"onUpdate:modelValue":o[1]||(o[1]=r=>a(e).username=r),autocomplete:"username",placeholder:"Ingrese usuario"},null,8,["onKeyup","modelValue"]),s(i,{class:"mt-1 text-xs",message:a(e).errors.username},null,8,["message"])]),t("div",R,[s(u,{for:"password",value:"Contraseña",class:"block text-base font-normal leading-6 text-gray-900"}),s(m,{id:"password",type:"password",modelValue:a(e).password,"onUpdate:modelValue":o[2]||(o[2]=r=>a(e).password=r),placeholder:"Ingrese Contraseña",class:"block w-full text-gray-900 border border-gray-300 rounded bg-gray-50 sm:text-base focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["modelValue"]),s(i,{class:"mt-1 text-xs",message:a(e).errors.password},null,8,["message"])]),t("div",W,[s(u,{for:"rol",value:"Rol",class:"block text-base font-normal leading-6 text-gray-900"}),s(a(O),M({id:"rol",modelValue:a(e).rol,"onUpdate:modelValue":o[3]||(o[3]=r=>a(e).rol=r)},f.value),null,16,["modelValue"]),s(i,{class:"mt-1 text-xs",message:a(e).errors.rol},null,8,["message"])])]),t("div",A,[s(l,{label:"Cancelar",pt:{root:"mr-5"},severity:"danger",size:"small",onClick:b,type:"button"}),s(l,{label:"Guardar",size:"small",type:"submit",class:N({"opacity-50":a(e).processing}),disabled:a(e).processing},null,8,["class","disabled"])])],40,K)])]),_:1},8,["show"])])}}};export{Z as default};
