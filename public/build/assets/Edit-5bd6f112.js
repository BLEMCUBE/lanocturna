import{k as I,l as S,T as C,h as E,K as T,m as b,f as U,a as o,u as t,w as z,p as D,o as M,Z as F,b as s,t as P,e as j,D as g,E as f,y as A,x as _,n as B,O as y,z as $,A as N}from"./app-1b9937d6.js";import{_ as O}from"./AppLayout-fc777f9c.js";import{_ as n}from"./InputError-3de72184.js";import{_ as i}from"./InputLabel-e347ec28.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./logo-e22dfca4.js";const R=m=>($("data-v-1e9e2ab7"),m=m(),N(),m),G={class:"card px-4 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},K={class:"align-middle"},L=["onSubmit"],W={class:"px-2 pt-4 pb-0 grid grid-cols-12 gap-4 mb-2"},Z={class:"col-span-12 shadow-default xl:col-span-3"},H={class:"col-span-12 shadow-default xl:col-span-3"},J={class:"col-span-12 shadow-default xl:col-span-3"},Q={class:"col-span-12 shadow-default xl:col-span-3"},X={class:"col-span-12 shadow-default xl:col-span-3"},Y={class:"col-span-12 shadow-default xl:col-span-3"},ee={class:"col-span-12 shadow-default xl:col-span-6"},te=R(()=>s("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-300",id:"imagen"},"Peso máximo de la foto 2MB",-1)),oe={class:"col-span-12 shadow-default xl:col-span-3"},ae={class:"flex justify-end pt-2"},x="Editar Producto",c="productos",se={__name:"Edit",setup(m){const p=I("/images/productos/sin_foto.png"),k=S(),e=C({id:"",origen:"",nombre:"",aduana:"",codigo_barra:"",stock:0,stock_minimo:0,imagen:"",photo:""});E(()=>{var l=T().props.producto;e.id=l.id,e.nombre=l.nombre,e.origen=l.origen,e.aduana=l.aduana,e.codigo_barra=l.codigo_barra,e.stock=l.stock,e.stock_minimo=l.stock_minimo,p.value=l.imagen,e.imagen=l.imagen});const v=()=>{e.clearErrors(),e.post(route(c+".update",e.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{h("success","Mensaje","Producto Actualizado"),setTimeout(()=>{y.get(route(c+".index"))},1e3)},onFinish:()=>{},onError:()=>{}})},h=(l,a,d)=>{k.add({severity:l,summary:a,detail:d,life:3e3})},w=()=>{y.get(route(c+".index"))},V=l=>{l.preventDefault(),e.photo=l.target.files[0];let a=l.target.files;if(a&&a[0]){let d=new FileReader;d.onload=u=>{p.value=u.target.result},d.readAsDataURL(a[0])}};return(l,a)=>{const d=b("Toast"),u=b("InputText");return M(),U(D,null,[o(t(F),{title:x}),o(O,{pagina:[{label:"Productos",link:!0,url:l.route(c+".index")},{label:x,link:!1}]},{default:z(()=>[s("div",G,[o(d),s("div",{class:"px-3 col-span-full flex justify-between items-center"},[s("h5",{class:"text-2xl font-medium"},P(x))]),s("div",K,[s("form",{onSubmit:j(v,["prevent"])},[s("div",W,[s("div",Z,[o(i,{for:"origen",value:"Origen",class:"block text-base font-medium leading-6 text-gray-900"}),o(u,{type:"text",id:"origen",modelValue:t(e).origen,"onUpdate:modelValue":a[0]||(a[0]=r=>t(e).origen=r),placeholder:"Ingrese origen",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),o(n,{class:"mt-1 text-xs",message:t(e).errors.origen},null,8,["message"])]),s("div",H,[o(i,{for:"nombre",value:"Nombre",class:"block text-base font-medium leading-6 text-gray-900"}),o(u,{type:"text",id:"nombre",modelValue:t(e).nombre,"onUpdate:modelValue":a[1]||(a[1]=r=>t(e).nombre=r),placeholder:"Ingrese nombre",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),o(n,{class:"mt-1 text-xs",message:t(e).errors.nombre},null,8,["message"])]),s("div",J,[o(i,{for:"aduana",value:"Aduana",class:"block text-base font-medium leading-6 text-gray-900"}),o(u,{type:"text",id:"aduana",modelValue:t(e).aduana,"onUpdate:modelValue":a[2]||(a[2]=r=>t(e).aduana=r),placeholder:"Ingrese aduana",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),o(n,{class:"mt-1 text-xs",message:t(e).errors.aduana},null,8,["message"])]),s("div",Q,[o(i,{for:"codigo_barra",value:"Código barra",class:"block text-base font-medium leading-6 text-gray-900"}),o(u,{type:"text",id:"codigo_barra",modelValue:t(e).codigo_barra,"onUpdate:modelValue":a[3]||(a[3]=r=>t(e).codigo_barra=r),placeholder:"Ingrese Código barra",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),o(n,{class:"mt-1 text-xs",message:t(e).errors.codigo_barra},null,8,["message"])]),s("div",X,[o(i,{for:"stock",value:"Stock",class:"block text-base font-medium leading-6 text-gray-900"}),g(s("input",{type:"number",required:"","onUpdate:modelValue":a[4]||(a[4]=r=>t(e).stock=r),step:"1",min:"0","on:update:modelValue":a[5]||(a[5]=r=>l.setStock(r)),class:"p-inputtext text-end p-component h-9 w-full font-sans font-normal text-gray-700 dark:text-white/80 bg-white dark:bg-gray-900 border border-gray-300 dark:border-blue-900/40 transition-colors duration-200 appearance-none rounded-md text-sm px-2 py-1"},null,544),[[f,t(e).stock]]),o(n,{class:"mt-1 text-xs",message:t(e).errors.stock},null,8,["message"])]),s("div",Y,[o(i,{for:"stock_minimo",value:"Stock Minimo",class:"block text-base font-medium leading-6 text-gray-900"}),g(s("input",{type:"number",required:"","onUpdate:modelValue":a[6]||(a[6]=r=>t(e).stock_minimo=r),step:"1",min:"0",class:"p-inputtext text-end p-component h-9 w-full font-sans font-normal text-gray-700 dark:text-white/80 bg-white dark:bg-gray-900 border border-gray-300 dark:border-blue-900/40 transition-colors duration-200 appearance-none rounded-md text-sm px-2 py-1"},null,512),[[f,t(e).stock_minimo]]),o(n,{class:"mt-1 text-xs",message:t(e).errors.stock_minimo},null,8,["message"])]),g(s("input",{type:"hidden",id:"stock_futuro","onUpdate:modelValue":a[7]||(a[7]=r=>t(e).stock_futuro=r)},null,512),[[f,t(e).stock_futuro]]),s("div",ee,[o(i,{for:"file_input1",value:"Imagen",class:"block text-base font-medium leading-6 text-gray-900"}),s("input",{onInput:V,type:"file",class:"block w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-gray-200 file:text-gray-700 hover:file:bg-gray-300 hover:file:cursor-pointer",accept:"image/x-png,image/gif,image/jpeg"},null,32),te,o(n,{class:"mt-1 text-xs",message:t(e).errors.imagen},null,8,["message"])]),s("div",oe,[s("div",{class:"imagePreviewWrapper",style:A({"background-image":`url(${p.value})`})},null,4)])]),s("div",ae,[o(t(_),{label:"Cancelar",pt:{root:"mr-5"},severity:"danger",size:"small",onClick:w,type:"button"}),o(t(_),{label:"Guardar",size:"small",type:"submit",class:B({"opacity-50":t(e).processing}),disabled:t(e).processing},null,8,["class","disabled"])])],40,L)])])]),_:1},8,["pagina"])],64)}}},me=q(se,[["__scopeId","data-v-1e9e2ab7"]]);export{me as default};
