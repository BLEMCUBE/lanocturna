import{_ as R}from"./AppLayout-CMdAZySw.js";import{K as D,Z as E,O as v}from"./@inertiajs-CMyvZJ1U.js";import{aH as F,aI as V,q as r}from"./primevue-DAb-R_om.js";import P from"./DetalleModal-BPJKkJeU.js";import $ from"./AgregarModal-DdzY9gh-.js";import{r as n,o as B,R as _,f as O,g as b,W as t,E as o,Y as l,j as s,U as x,u as y,D as f,C,F as S}from"./@vue-BLfC86mR.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-DhUVDY3P.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./loader-D-Kjbgh8.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-Ck_2Ecjm.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./vue-datepicker-next-MGkLgL3F.js";import"./date-format-parse-DuecP4dO.js";import"./moment-D15uM1gO.js";import"./InputError-DdpGOVhM.js";import"./InputLabel-CkCrW4zf.js";const j={class:"card p-3 bg-white col-span-12 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},G={class:"align-middle py-1 px-3"},L={class:"flex justify-content-end text-md"},z={class:"w-72"},k="Pagos Compra en Plaza",w="pagos-compras",Ee={__name:"Index",setup(H){const h=n([]),c=n(null),i=n(!1),d=n(!1),I=F();B(()=>{h.value=D().props.productos.data});const T=e=>{c.value=e.data.id,i.value=!0},m=n({global:{value:null,matchMode:V.CONTAINS}}),A=e=>{switch(i.value=!1,e.store){case"CANCELAR":i.value=!1;break;case"AGREGAR":c.value=e.importacionId,d.value=!0;break;case"ELIMINADO":g("success","Mensaje","Pago eliminado"),setTimeout(()=>{v.get(route(w+".index"))},1e3);break}},M=e=>{switch(e.store){case"CANCELAR":d.value=!1;break;case"AGREGAR":g("success","Mensaje","Pago Agregado");break;case"ELIMINADO":setTimeout(()=>{v.get(route(w+".index"))},1e3);break}},g=(e,p,u)=>{I.add({severity:e,summary:p,detail:u,life:3e3})};return(e,p)=>{const u=_("InputText"),N=_("DataTable");return b(),O(S,null,[t(o(E),{title:k}),t(R,{pagina:[{label:k,link:!1}]},{default:l(()=>[s("div",j,[s("div",G,[t(N,{filters:m.value,value:h.value,scrollable:"",scrollHeight:"700px",paginator:"",rows:50,columnResizeMode:"expand",pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"text-base"}},onRowClick:T,size:"small"},{header:l(()=>[s("div",L,[s("div",z,[t(u,{modelValue:m.value.global.value,"onUpdate:modelValue":p[0]||(p[0]=a=>m.value.global.value=a),placeholder:"Buscar",class:"w-full"},null,8,["modelValue"])])])]),empty:l(()=>[C(" No existe Resultado ")]),loading:l(()=>[C(" Cargando... ")]),default:l(()=>[t(o(r),{field:"fecha",header:"Fecha y Hora",sortable:"",pt:{bodyCell:{class:"text-center p-2"},headerTitle:{class:"text-center"}}}),t(o(r),{field:"nro_factura",header:"NÂº Factura",sortable:"",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}}),t(o(r),{field:"proveedor",header:"Proveedor",sortable:"",pt:{bodyCell:{class:"text-center border"}}}),t(o(r),{field:"moneda",header:"Moneda",sortable:"",pt:{bodyCell:{class:"text-center border"}}}),t(o(r),{sortable:"",header:"%",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}},{body:l(a=>[s("span",null,f(e.$numberFormat(a.data.porcentaje)),1)]),_:1}),t(o(r),{sortable:"",header:"Saldo",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}},{body:l(a=>[s("span",null,f(e.$numberFormat(a.data.total-a.data.total_pagado)),1)]),_:1}),t(o(r),{sortable:"",header:"Total",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}},{body:l(a=>[s("span",null,f(e.$numberFormat(a.data.total)),1)]),_:1})]),_:1},8,["filters","value"])])]),i.value?(b(),x(P,{key:0,onPassInfo:A,"importacion-id":c.value,"show-detalle":i.value},null,8,["importacion-id","show-detalle"])):y("",!0),d.value?(b(),x($,{key:1,onPassInfo:M,"importacion-id":c.value,"show-detalle":d.value},null,8,["importacion-id","show-detalle"])):y("",!0)]),_:1},8,["pagina"])],64)}}};export{Ee as default};
