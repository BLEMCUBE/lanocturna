import{r as j,o as B,f as c,g as l,W as m,E as d,Y as h,j as e,y as F,D as f,F as p,A as x,C as g,U as G,z as P}from"./@vue-BLfC86mR.js";import{_ as $}from"./AppLayout-BSm2L3NG.js";import{_ as D}from"./CheckboxName-CMAnPr3H.js";import{_ as N}from"./PrimaryButton-D6PjcS9z.js";import{K as u,T,Z as U}from"./@inertiajs-CMyvZJ1U.js";import{aH as V}from"./primevue-DAb-R_om.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-DhUVDY3P.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./loader-D-Kjbgh8.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-Ck_2Ecjm.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";const z={class:"px-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 sm:p-2 dark:bg-gray-800"},M=["onSubmit"],A={class:"grid gap-6 md:grid-cols-2 xl:grid-cols-3"},H={class:"px-5 pb-2 col-span-full flex justify-between items-center"},I={class:"text-2xl font-medium"},K={class:"w-full max-w-md mx-4 bg-white rounded-xl shadow-lg overflow-hidden md:max-w-2xl"},L=e("div",{class:"h-2 bg-gradient-to-r from-blue-500 to-cyan-400"},null,-1),O={class:"p-3"},R={class:"flex items-center"},W={class:"text-xl pb-2 font-bold text-gray-800"},Y=e("hr",null,null,-1),Z={class:"flex items-center gap-2 text-sm text-blue-600 cursor-pointer"},q=["checked","onChange"],J=e("div",{class:"my-2 border-t border-gray-200"},null,-1),Q={class:"space-y-2"},X={class:"grid grid-cols-1 gap-2"},ee={class:"flex justify-start pt-5"},se="Permisos",Me={__name:"Edit",setup(te){const{role:_}=u().props,{rolePermissions:n}=u().props,{namedGroups:b}=u().props,v=V(),r=j([]),y=o=>{const t=o.permissions.map(s=>s.id),i=t.every(s=>r.value.includes(s));r.value=i?r.value.filter(s=>!t.includes(s)):[...new Set([...r.value,...t])]},k=o=>o.permissions.every(t=>r.value.includes(t.id)),a=T({id:"",permisos:[]});B(()=>{a.id=_.id,a.permisos=n,r.value=n});const w=()=>{a.permisos=r.value,a.post(route("roles.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{C("success","Confirmado","Rol Editado")},onFinish:()=>{},onError:()=>{}})},S=(o,t)=>{t?n.push(o):n.splice(n.indexOf(o),1)},C=(o,t,i)=>{v.add({severity:o,summary:t,detail:i,life:2e3})};return(o,t)=>(l(),c(p,null,[m(d(U),{title:"Permisos"}),m($,{pagina:[{label:se,link:!1}]},{default:h(()=>[e("div",z,[e("form",{onSubmit:F(w,["prevent"])},[e("div",A,[e("div",H,[e("h5",I,"Permisos de "+f(d(_).name),1)]),(l(!0),c(p,null,x(d(b),i=>(l(),c("div",{key:i.key,class:"flex items-start justify-center"},[e("div",K,[L,e("div",O,[e("div",R,[e("div",null,[e("h2",W,f(i.name),1),Y,e("label",Z,[e("input",{type:"checkbox",class:"w-5 h-5 rounded-md border-gray-300 text-xl text-primary-900 bg-primary-900 hover:bg-primary-100 shadow-sm cursor-pointer",checked:k(i),onChange:s=>y(i)},null,40,q),g(" Seleccionar todo ")])])]),J,e("div",Q,[e("div",X,[(l(!0),c(p,null,x(i.permissions,s=>(l(),c("label",{key:s.id,class:"flex items-center gap-2 text-sm text-gray-700"},[(l(),G(D,{checked:r.value.includes(s.id),"onUpdate:checked":E=>S(s.id,E),fieldId:"perm.id",label:s.description,key:s.id},null,8,["checked","onUpdate:checked","fieldId","label"]))]))),128))])])])])]))),128))]),e("div",ee,[m(N,{class:P(["inline-block rounded bg-primary-900 p-2 text-sm font-medium text-white mr-1 mb-1 hover:bg-primary-100",{"opacity-50":d(a).processing}]),disabled:d(a).processing},{default:h(()=>[g(" Guardar ")]),_:1},8,["class","disabled"])])],40,M)])]),_:1},8,["pagina"])],64))}};export{Me as default};
