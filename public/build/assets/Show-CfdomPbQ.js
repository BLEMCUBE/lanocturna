import{_ as mt}from"./AppLayout-Dcv1NtsU.js";import{K as c,T as pt,Z as xt,O as E}from"./@inertiajs-CMyvZJ1U.js";import{aH as ft,aI as U}from"./primevue-DAb-R_om.js";import{i as H}from"./vue-datepicker-next-MGkLgL3F.js";import{h as b}from"./moment-D15uM1gO.js";import{a as z}from"./axios-ngrFHoWO.js";import{s as w,a as $,e as X,b as G,c as K}from"./date-fns-Bj3OEEs3.js";import{r as m,o as _t,R as y,S as ht,f as x,g as p,W as r,E as l,Y as n,j as t,D as d,T as I,u as _,U as L,F as T,A as W,C as g}from"./@vue-BLfC86mR.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-DhUVDY3P.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./loader-D-Kjbgh8.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-Ck_2Ecjm.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./date-format-parse-DuecP4dO.js";import"./@babel-QjJsDpFa.js";const bt={class:"card px-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-3 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},gt={class:"grid grid-cols-12 justify-center"},vt={class:"mx-3 py-0 mt-0 text-white col-span-2 flex justify-end items-center"},wt=t("i",{class:"fa-regular fa-copy"},null,-1),yt=t("i",{class:"fas fa-edit"},null,-1),Dt={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-0 rounded-t-xl max-w-xs md:max-w-5xl mx-auto bg-white"},Ct={class:"w-2/3"},kt={class:"font-bold text-gray-800 md:text-2xl text-xl"},Yt={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-0 rounded-b-xl p-3 max-w-xs md:max-w-5xl mx-auto border border-white bg-white"},Mt={class:"w-full md:w-1/3 bg-white grid place-items-center"},At=["alt","src"],St={class:"w-full md:w-2/3 bg-white p-3 space-x-1 space-y-0"},Et={class:"w-full flex flex-col md:flex-row pb-2"},It=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 md:text-2xl text-xl"},"Stock:")],-1),Tt={class:"w-full md:w-2/3"},Ot={class:"font-normal text-gray-800 md:text-2xl text-xl"},Rt={class:"w-full flex flex-col md:flex-row pb-2"},Bt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"},"SKU:")],-1),Nt={class:"w-full md:w-2/3"},Vt={class:"font-normal text-gray-800 text-base"},jt={class:"w-full flex flex-col md:flex-row pb-3"},Pt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"},"CÓDIGO DE BARRA:")],-1),Ft={class:"w-full md:w-2/3"},Ut={class:"font-normal text-gray-800 text-base"},Ht=t("div",{class:"w-full flex flex-col md:flex-row pt-2"},[t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"PRÓXIMO INGRESO")])],-1),zt=t("div",{class:"w-full flex"},[t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"IMPORTACIÓN")]),t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"CANTIDAD")]),t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"FECHA APROX.")])],-1),$t={key:0,class:"w-full"},Xt={class:"w-full flex py-1"},Gt={class:"w-full text-center"},Kt={class:"font-normal text-gray-800 text-lg"},Lt={class:"w-full text-center"},Wt={class:"font-normal text-gray-800 text-lg"},Zt={class:"w-full text-center"},qt={class:"font-normal text-gray-800 text-lg"},Jt=t("div",{class:"w-full flex flex-col md:flex-row pt-2"},[t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"COSTO REAL")])],-1),Qt={class:"w-full flex flex-col md:flex-row py-1"},te=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," USD (IVA INC.):")],-1),ee={class:"w-full md:w-2/3"},oe={class:"font-normal text-gray-800 text-base"},se={class:"w-full flex flex-col md:flex-row py-1"},le=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," Precio Aprox:")],-1),ae={class:"w-full md:w-2/3"},re={class:"font-normal text-gray-800 text-base"},de={class:"w-full flex flex-col md:flex-row py-1"},ne=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," Cotización Yuanes:")],-1),ie={class:"w-full md:w-2/3"},ce={class:"font-normal text-gray-800 text-base"},ue={class:"w-full flex flex-col md:flex-row py-1"},me=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," Observaciones:")],-1),pe={class:"w-full md:w-2/3"},xe={class:"font-normal text-gray-800 text-base"},fe={key:1,class:"w-full flex flex-col md:flex-row pt-2"},_e=t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"ATRIBUTOS")],-1),he=[_e],be={class:"w-full flex flex-col md:flex-row py-1"},ge={class:"w-full md:w-1/3 xl:w-1/3 mr-2"},ve={class:"font-semibold text-gray-800 text-base"},we={class:"w-full md:w-2/3"},ye={class:"font-normal text-gray-800 text-base"},De={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},Ce={class:"bg-gray-100 rounded-t-lg py-2 px-3"},ke={class:"text-2xl font-medium pb-0 pl-2"},Ye=t("div",{class:"bg-gradient-to-r from-primary-900 to-primary-100 h-1 mb-4"},null,-1),Me={class:"align-middle p-2"},Ae={class:"flex justify-content-end text-md"},Se={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},Ee={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},Ie=t("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),Te={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},Oe={class:"bg-gray-100 rounded-t-lg py-2 px-3"},Re={class:"text-2xl font-medium pb-0 pl-2"},Be=t("div",{class:"bg-gradient-to-r from-secondary-900 to-secondary-100 h-1 mb-4"},null,-1),Ne={class:"align-middle p-2"},Ve={class:"flex justify-content-end text-md"},je={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},Pe={class:"text-md"},Fe={class:"text-md"},Ue={class:"text-md"},O="Detalle Producto",v="productos",Eo={__name:"Show",setup(He){const{permissions:R}=c().props.auth,Z=m("/images/productos/sin_foto.png"),{roles:B}=c().props.auth,{costo_real:q}=c().props,{costo_aprox:J}=c().props,{productoEnCamino:N}=c().props,{atributos:Q}=c().props,{ultimo_yang:V}=c().props,D=m(),tt=ft(),C=m(),k=m(),Y=m(),o=pt({id:"",origen:"",nombre:"",aduana:"",codigo_barra:"",observaciones:"",stock:0,stock_minimo:0,imagen:"",photo:"",categorias:[],atributos:[]}),j=m([new Date,new Date]),P=m([new Date,new Date]),h=m([]),et=e=>{e[0]!=null&&e[1]!=null?(h.value=[e[0],e[1]],z.get(route(v+".productoventa",[c().props.producto.id,b(e[0]).format("YYYY-MM-DD"),b(e[1]).format("YYYY-MM-DD")])).then(a=>{var u=a.data;D.value=u.cantidad,k.value=Array.from(u.productoventa,f=>f)})):location.reload()},ot=(e,a,u)=>{tt.add({severity:e,summary:a,detail:u,life:3e3})},st=e=>{o.clearErrors(),o.post(route(v+".duplicar",e),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{ot("success","Mensaje","Producto Duplicado"),setTimeout(()=>{location.reload()},500)},onFinish:()=>{},onError:()=>{}})},lt=e=>{h.value[0]!=null&&h.value[1]!=null?window.open(route("productos.exportproductoventas",[o.id,{inicio:h.value[0],fin:h.value[1]}]),"_blank"):window.open(route("productos.exportproductoventas",[o.id]),"_blank")},at=e=>{e[0]!=null&&e[1]!=null?z.get(route(v+".productoimportacion",[c().props.producto.id,b(e[0]).format("YYYY-MM-DD"),b(e[1]).format("YYYY-MM-DD")])).then(a=>{var u=a.data;C.value=u.cantidad_importacion,Y.value=Array.from(u.producto,f=>f)}):location.reload()},rt=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[w(new Date,1),w(new Date,1)]}},{text:"Este mes",onClick(){return[$(new Date),X(new Date)]}},{text:"Este año",onClick(){return[G(new Date),K(new Date)]}}],dt=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[w(new Date,1),w(new Date,1)]}},{text:"Este mes",onClick(){return[$(new Date),X(new Date)]}},{text:"Este año",onClick(){return[G(new Date),K(new Date)]}}],nt=e=>b(e).format("DD/MM/YYYY");_t(()=>{k.value=Array.from(c().props.productoventa,a=>a),C.value=c().props.cantidad_importacion,D.value=c().props.cantidad,Y.value=Array.from(c().props.productoImportacion,a=>a);var e=c().props.producto;o.id=e.id,o.nombre=e.nombre,o.origen=e.origen,o.aduana=e.aduana,o.codigo_barra=e.codigo_barra,o.stock=e.stock,o.stock_minimo=e.stock_minimo,o.stock_futuro=e.stock_futuro,o.observaciones=e.observaciones,Z.value=e.imagen,o.imagen=e.imagen,o.categorias=e.categorias,o.atributos=Q});const M=m({global:{value:null,matchMode:U.CONTAINS}}),A=m({global:{value:null,matchMode:U.CONTAINS}}),it=e=>{E.get(route(v+".edit",e))},ct=e=>{E.get(route("ventas.show",e.data.venta_id))},ut=e=>{E.get(route("importaciones.show",e.data.importacion_id))};return(e,a)=>{const u=y("Button"),f=y("InputText"),i=y("Column"),F=y("DataTable"),S=ht("tooltip");return p(),x(T,null,[r(l(xt),{title:O}),r(mt,{pagina:[{label:"Productos",link:!0,url:e.route(v+".index")},{label:O,link:!1}]},{default:n(()=>[t("div",bt,[t("div",gt,[t("div",{class:"px-3 col-span-10 flex justify-between items-center"},[t("h5",{class:"text-xl font-medium"},d(O))]),t("div",vt,[l(R).includes("productos-editar")?I((p(),L(u,{key:0,label:"Duplicar",onClick:a[0]||(a[0]=s=>st(l(o).id)),pt:{root:{class:"flex items-center bg-green-700 hover:bg-green-600 justify-center font-medium w-10 mx-3"},label:{class:"hidden"}}},{default:n(()=>[wt]),_:1})),[[S,{value:"Duplicar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):_("",!0),l(R).includes("productos-editar")?I((p(),L(u,{key:1,label:"Editar",onClick:a[1]||(a[1]=s=>it(l(o).id)),pt:{root:{class:"flex items-center bg-primary-900 justify-center font-medium w-10"},label:{class:"hidden"}}},{default:n(()=>[yt]),_:1})),[[S,{value:"Editar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):_("",!0)])]),t("div",Dt,[t("div",Ct,[t("h3",kt,d(l(o).nombre),1)])]),t("div",Yt,[t("div",Mt,[t("img",{alt:l(o).nombre,src:l(o).imagen,class:"rounded-xl shadow-lg"},null,8,At)]),t("div",St,[t("div",Et,[It,t("div",Tt,[t("h3",Ot,d(l(o).stock),1)])]),t("div",Rt,[Bt,t("div",Nt,[t("h3",Vt,d(l(o).origen),1)])]),t("div",jt,[Pt,t("div",Ft,[t("h3",Ut,d(l(o).codigo_barra),1)])]),Ht,zt,l(N).length>0?(p(),x("div",$t,[(p(!0),x(T,null,W(l(N),s=>(p(),x("div",Xt,[t("div",Gt,[t("h3",Kt,d(s.nro_carpeta),1)]),t("div",Lt,[t("h3",Wt,d(s.cantidad_total),1)]),t("div",Zt,[t("h3",qt,d(s.fecha_arribado),1)])]))),256))])):_("",!0),Jt,t("div",Qt,[te,t("div",ee,[t("h3",oe,d(l(q)),1)])]),t("div",se,[le,t("div",ae,[t("h3",re,d(l(J)??"-"),1)])]),t("div",de,[ne,t("div",ie,[t("h3",ce,d(l(V)>0?l(V):"-"),1)])]),t("div",ue,[me,t("div",pe,[t("h3",xe,d(l(o).observaciones),1)])]),l(o).atributos.length>0?(p(),x("div",fe,he)):_("",!0),l(o).atributos.length>0?(p(!0),x(T,{key:2},W(l(o).atributos,(s,ze)=>(p(),x("div",be,[t("div",ge,[t("h3",ve,d(s.nombre)+": ",1)]),t("div",we,[t("h3",ye,d(s.valor),1)])]))),256)):_("",!0)])]),t("div",De,[t("div",Ce,[t("h2",ke,"Pedidos: "+d(D.value),1)]),Ye,t("div",Me,[r(F,{filters:M.value,onRowClick:ct,value:k.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{numToleratedItems:30,itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:n(()=>[t("div",Ae,[r(f,{modelValue:M.value.global.value,"onUpdate:modelValue":a[2]||(a[2]=s=>M.value.global.value=s),placeholder:"Buscar"},null,8,["modelValue"]),t("div",Se,[r(l(H),{onChange:et,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:j.value,"onUpdate:value":a[3]||(a[3]=s=>j.value=s),shortcuts:rt,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])]),l(B).includes("Super Administrador")||l(B).includes("Administrador")?I((p(),x("div",Ee,[r(u,{onClick:a[4]||(a[4]=s=>lt(l(o).id)),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:n(()=>[Ie]),_:1})])),[[S,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):_("",!0)])]),empty:n(()=>[g(" No existe Resultado ")]),loading:n(()=>[g(" Cargando... ")]),default:n(()=>[r(i,{field:"created_at",sortable:"",header:"Fecha",pt:{bodyCell:{class:"text-center"}}},{body:n(({data:s})=>[g(d(nt(s.created_at)),1)]),_:1}),r(i,{field:"cantidad",sortable:"",header:"Cantidad",pt:{bodyCell:{class:"text-center"}}}),r(i,{field:"precio",sortable:"",header:"Precio",pt:{bodyCell:{class:"text-center"}}}),r(i,{field:"destino",sortable:"",header:"Destino",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])]),t("div",Te,[t("div",Oe,[t("h2",Re,"Importaciones: "+d(C.value),1)]),Be,t("div",Ne,[r(F,{filters:A.value,onRowClick:ut,value:Y.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:n(()=>[t("div",Ve,[r(f,{modelValue:A.value.global.value,"onUpdate:modelValue":a[5]||(a[5]=s=>A.value.global.value=s),placeholder:"Buscar"},null,8,["modelValue"]),t("div",je,[r(l(H),{onChange:at,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:P.value,"onUpdate:value":a[6]||(a[6]=s=>P.value=s),shortcuts:dt,lang:"es",placeholder:"seleccione Fecha",clearable:!1},null,8,["value"])])])]),empty:n(()=>[g(" No existe Resultado ")]),loading:n(()=>[g(" Cargando... ")]),default:n(()=>[r(i,{field:"importacion.nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}},{loading:n(()=>[]),body:n(s=>[t("span",Pe,d(s.data.importacion.nro_carpeta),1)]),_:1}),r(i,{field:"importacion.fecha",header:"Fecha Arribo",sortable:"",pt:{bodyCell:{class:"text-center"}}},{body:n(s=>[t("span",Fe,d(s.data.importacion.fecha),1)]),_:1}),r(i,{header:"Costo Real",sortable:"",pt:{bodyCell:{class:"text-center"}}},{body:n(s=>[t("span",Ue,d(s.data.real_costo.length>0?s.data.real_costo[0].monto:"0.00"),1)]),_:1}),r(i,{field:"precio",sortable:"",header:"EXW Precio",pt:{bodyCell:{class:"text-center"}}}),r(i,{field:"pcs_bulto",sortable:"",header:"PCS/Bulto",pt:{bodyCell:{class:"text-center"}}}),r(i,{field:"bultos",sortable:"",header:"Bulto",pt:{bodyCell:{class:"text-center"}}}),r(i,{field:"cantidad_total",sortable:"",header:"Cantidad Total",pt:{bodyCell:{class:"text-center"}}}),r(i,{field:"valor_total",sortable:"",header:"Valor Total",pt:{bodyCell:{class:"text-center"}}}),r(i,{field:"cbm_bulto",sortable:"",header:"CBM/Bulto",pt:{bodyCell:{class:"text-center"}}}),r(i,{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{Eo as default};
