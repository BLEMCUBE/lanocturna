import{k as F,l as i,K as k,T as O,h as j,F as R,m as _,p as $,f as w,a,u as o,w as e,q,o as h,Z as H,b as t,t as K,z as S,d as B,A as n,v as z,c as U,e as Z,g as G,O as b}from"./app-30657582.js";import{_ as J,S as Q}from"./AppLayout-e9b37aea.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const W={class:"card px-4 py-3 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},X={class:"px-3 pb-2 col-span-full flex justify-between items-center"},Y={class:"align-middle p-3"},P={class:"flex justify-content-end text-md"},ee=t("div",{class:"flex items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),te=t("div",{class:"flex align-items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),le=t("div",{class:"flex align-items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),ae=t("div",{class:"flex align-items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),oe=t("div",{class:"flex align-items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),se=t("div",{class:"flex align-items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),re={key:0,class:"p-0 text-white flex justify-center items-center"},ne={class:"w-8 h-8 rounded bg-green-600 flex justify-center items-center text-base font-semibold text-white mr-1 hover:bg-green-600"},ie=["href"],ce=t("i",{class:"fas fa-file-excel text-white"},null,-1),de=[ce],ue=t("i",{class:"fas fa-trash-alt"},null,-1),y="Importaciones",m="importaciones",ve={__name:"Index",setup(pe){const D=F(),x=i([]);k().props.auth;const E=O({id:""}),C=i(),d=i();j(()=>{x.value=k().props.productos.data,C.value=Array.from(x.value,l=>l),d.value=Array.from({length:x.value.length})});const u=i(!1),f=i(),N=l=>{!u.value&&(u.value=!0),f.value&&clearTimeout(f.value),f.value=setTimeout(()=>{let r=[...d.value],{first:s,last:p}=l;const v=C.value.slice(s,p);Array.prototype.splice.apply(r,[s,p-s,...v]),d.value=r,u.value=!1},Math.random()*1e3+250)},V=l=>{b.get(route(m+".show",l))},A=l=>{Q.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar ",text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red",confirmButtonColor:"#2563EB"}).then(s=>{s.isConfirmed&&E.delete(route(m+".destroy",l),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{M("success","Eliminado","Se ha eliminado"),setTimeout(()=>{b.get(route(m+".index"))},1e3)}})})},I=l=>{V(l.data.id)},M=(l,r,s)=>{D.add({severity:l,summary:r,detail:s,life:3e3})},L=()=>{b.get(route(m+".create"))},g=i({global:{value:null,matchMode:R.CONTAINS}});return(l,r)=>{const s=_("Toast"),p=_("InputText"),v=_("DataTable"),T=$("tooltip");return h(),w(q,null,[a(o(H),{title:y}),a(J,{pagina:[{label:y,link:!1}]},{default:e(()=>[t("div",W,[a(s),t("div",X,[t("h5",{class:"text-2xl font-medium"},K(y)),a(o(S),{size:"small",label:"Importar Excel",severity:"success",onClick:L})]),t("div",Y,[a(v,{filters:g.value,value:d.value,scrollable:"",scrollHeight:"400px",tableStyle:"min-width: 50rem",virtualScrollerOptions:{lazy:!0,onLazyLoad:N,itemSize:46,delay:100,showLoader:!0,loading:u.value,numToleratedItems:15},pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"}},onRowClick:I,size:"small"},{header:e(()=>[t("div",P,[a(p,{modelValue:g.value.global.value,"onUpdate:modelValue":r[0]||(r[0]=c=>g.value.global.value=c),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:e(()=>[B(" No existe Resultado ")]),loading:e(()=>[B(" Cargando... ")]),default:e(()=>[a(o(n),{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerCell:{class:"p-0 m-0 w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"text-center w-56"}}},{loading:e(()=>[ee]),_:1}),a(o(n),{field:"fecha_arribado",sortable:"",header:"Fecha Arribado",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerTitle:{class:"text-center  w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"flex align-items-center text-center w-56"}}},{loading:e(()=>[te]),_:1}),a(o(n),{field:"estado",header:"Estado de pedido",sortable:"",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerCell:{class:"p-0 m-0 w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"text-center w-56"}}},{loading:e(()=>[le]),_:1}),a(o(n),{field:"total",sortable:"",header:"Total",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerCell:{class:"p-0 m-0 w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"text-center w-56"}}},{loading:e(()=>[ae]),_:1}),a(o(n),{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerCell:{class:"p-0 m-0 w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"text-center w-56"}}},{loading:e(()=>[oe]),_:1}),a(o(n),{field:"cantidad_productos",sortable:"",header:"Cantidad productos",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerCell:{class:"p-0 m-0 w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"text-center w-56"}}},{loading:e(()=>[se]),_:1}),a(o(n),{header:"Acciones",style:{width:"130px"},pt:{bodycell:{class:"px-auto text-center"}}},{loading:e(()=>[]),body:e(c=>[c.data!=null?(h(),w("div",re,[z((h(),w("span",ne,[t("a",{href:l.route("importaciones.exportar",c.data.id),target:"_blank",class:"py-auto"},de,8,ie)])),[[T,{value:"Descargar Excel",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]),z((h(),U(o(S),{class:"w-8 h-8 rounded bg-red-700 border-0 px-2 text-base font-normal text-white m-1 hover:bg-red-600",onClick:Z(he=>A(c.data.id),["prevent"])},{default:e(()=>[ue]),_:2},1032,["onClick"])),[[T,{value:"Eliminar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]])])):G("",!0)]),_:1})]),_:1},8,["filters","value","virtualScrollerOptions"])])])]),_:1},8,["pagina"])],64)}}};export{ve as default};
