import{r as c,o as H,R as D,f as u,g as f,W as t,E as s,Y as R,j as l,D as p,u as h,O as W,T as Z,a5 as q,y as J,z as Q,F as X}from"./@vue-BLfC86mR.js";import{_ as ee}from"./AppLayout-Dcv1NtsU.js";import{K as M,T as oe,Z as te,O as U}from"./@inertiajs-CMyvZJ1U.js";import{aH as se,h as T}from"./primevue-DAb-R_om.js";import{_ as n}from"./InputError-DdpGOVhM.js";import{_ as r}from"./InputLabel-CkCrW4zf.js";import{i as I}from"./vue-datepicker-next-MGkLgL3F.js";import{h as ae}from"./moment-D15uM1gO.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-DhUVDY3P.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./loader-D-Kjbgh8.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-Ck_2Ecjm.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./date-format-parse-DuecP4dO.js";const le={class:"grid grid-cols-12 p-0 m-0 gap-4 mb-4 bg-white col-span-12 py-2 rounded-lg shadow-lg lg:col-span-12 2xl:col-span-10"},re={class:"m-4 col-span-12 lg:col-span-12"},ne={class:"grid grid-cols-12 gap-2 py-0"},ie={class:"col-span-12 mx-2 py-1 shadow-default xl:col-span-4"},de={class:"col-span-12 mx-2 py-1 shadow-default xl:col-span-4"},ce={class:"col-span-12 mx-2 py-1 shadow-default xl:col-span-4"},pe={class:"col-span-12 mx-2 py-1 shadow-default xl:col-span-4"},me={class:"col-span-12 mx-2 py-1 shadow-default xl:col-span-4"},ue={key:0,class:"col-span-12 mx-2 py-1 shadow-default xl:col-span-4"},fe={key:1,class:"col-span-12 mx-2 py-1 shadow-default xl:col-span-4"},ge={class:"col-span-12 mx-2 py-0 shadow-default xl:col-span-4"},xe={class:"col-span-12 mx-2 py-0 shadow-default xl:col-span-4"},ve={key:2,class:"col-span-12 mx-2 py-0 shadow-default xl:col-span-4"},_e=l("div",{class:"px-0 py-1 m-2 mt-3 bg-primary-900 text-white col-span-full flex justify-center items-center"},[l("h5",{class:"text-2xl font-medium"},"Detalle")],-1),ye={class:"col-span-12 mx-2 py-1 shadow-default xl:col-span-8"},be={key:0,class:"flex align-items-center"},he=["alt","src"],we={key:1},Ee={class:"flex align-items-center"},De=["alt","src"],Re={key:3,class:"col-span-12 mx-2 py-1 shadow-default xl:col-span-4"},Ve={class:"col-span-12 mx-2 py-0 shadow-default xl:col-span-6"},Oe={class:"col-span-12 mx-2 py-0 shadow-default xl:col-span-6"},Se={class:"flex justify-end py-3"},V="Ingresar RMA",O="rmas",xo={__name:"RmaCreate",setup(Ae){const x=c(null),S=c(null),Y=se(),{nro_servicio:w}=M().props,A=c(),g=c(),k=i=>{_.value.code!=e.estado&&(e.estado=_.value.code)},N=i=>{v.value.code!=e.modo&&(e.modo=v.value.code)},B=i=>{e.clearErrors(),y.value.code!=e.tipo&&(e.tipo=y.value.code)},P=i=>{e.clearErrors("producto_id"),e.producto_id!=g.value.id&&(e.producto_id=g.value.id,e.prod_origen=g.value.origen,e.prod_nombre=g.value.nombre)},G=i=>{e.fecha_compra=i},e=oe({vendedor_id:"",fecha_ingreso:"",fecha_compra:"",nro_factura:"",costo_presupuestado:"",modo:"INGRESADO",estado:"RECIBIDO",tipo:"RMA",producto_id:"",prod_origen:"",prod_cantidad:1,prod_nombre:"",prod_serie:"",observaciones:"",defecto:"",cliente:{nombre:"",telefono:""}});H(()=>{x.value=ae(new Date).format("YYYY-MM-DD"),e.fecha_ingreso=x.value,A.value=Array.from(M().props.productos.data,i=>i)});const v=c({name:"INGRESADO",code:"INGRESADO"}),_=c({name:"RECIBIDO",code:"RECIBIDO"}),F=c([{name:"RECIBIDO",code:"RECIBIDO"},{name:"PRESUPUESTADO",code:"PRESUPUESTADO"},{name:"REPARADO",code:"REPARADO"},{name:"CAMBIO PRODUCTO",code:"CAMBIO PRODUCTO"},{name:"ESPERANDO STOCK",code:"ESPERANDO STOCK"}]),j=c([{name:"INGRESADO",code:"INGRESADO"},{name:"ENTREGADO",code:"ENTREGADO"}]),y=c({name:"RMA",code:"RMA"}),z=c([{name:"RMA",code:"RMA"},{name:"PRESUPUESTO",code:"PRESUPUESTO"}]),L=()=>{e.clearErrors(),e.post(route(O+".rma-store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{K("success","Mensaje","RMA creado"),setTimeout(()=>{U.get(route(O+".index"))},1e3)},onFinish:()=>{},onError:()=>{}})},K=(i,a,m)=>{Y.add({severity:i,summary:a,detail:m,life:3e3})},$=()=>{U.get(route("rmas.index"))};return(i,a)=>{const m=D("InputText"),b=D("Dropdown"),C=D("Textarea");return f(),u(X,null,[t(s(te),{title:V}),t(ee,{pagina:[{label:"RMA",link:!1,url:i.route(O+".index")},{label:V,link:!1}]},{default:R(()=>[l("div",le,[l("div",re,[l("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[l("h5",{class:"text-2xl font-medium"},p(V))]),l("form",null,[l("div",ne,[l("div",ie,[t(r,{for:"fecha_ingreso",value:"Fecha Ingreso",class:"text-base font-medium leading-1 text-gray-900"}),t(s(I),{id:"fecha_ingreso",type:"date","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"col-span-6 lg:col-span-2 text-2xl text-gray-700 bg-white transition-colors duration-200 border-0",value:x.value,"onUpdate:value":a[0]||(a[0]=o=>x.value=o),lang:"es",placeholder:"Seleccione",disabled:"",clearable:!1},null,8,["value"])]),l("div",de,[t(r,{for:"nro_servicio",value:"Número servicio",class:"text-base font-medium leading-1 text-gray-900"}),t(m,{type:"text",id:"nro_servicio",modelValue:s(w),"onUpdate:modelValue":a[1]||(a[1]=o=>W(w)?w.value=o:null),readonly:"",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),t(n,{class:"mt-1 text-xs",message:s(e).errors.nro_servicio},null,8,["message"])]),l("div",ce,[t(r,{for:"tipo",value:"Tipo",class:"text-base font-medium leading-1 text-gray-900"}),t(b,{modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=o=>y.value=o),id:"tipo",onChange:B,options:z.value,optionLabel:"name",pt:{root:{class:"w-full"},trigger:{class:"fas fa-caret-down text-gray-400 my-auto"},item:({props:o,state:E,context:d})=>({class:d.selected?"text-white bg-primary-900 p-2":d.focused?"bg-blue-100 p-2":void 0})},placeholder:"Seleccione"},null,8,["modelValue","options","pt"]),t(n,{class:"mt-1 text-xs",message:s(e).errors.tipo},null,8,["message"])]),l("div",pe,[t(r,{for:"modo",value:"Ingresado/Entregado",class:"text-base font-medium leading-1 text-gray-900"}),t(b,{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=o=>v.value=o),disabled:"",id:"modo",onChange:N,filter:"",options:j.value,optionLabel:"name",pt:{root:{class:"w-full"},trigger:{class:"fas fa-caret-down text-gray-400 my-auto"},item:({props:o,state:E,context:d})=>({class:d.selected?"text-white bg-primary-900 p-2":d.focused?"bg-blue-100 p-2":void 0})},placeholder:"Seleccione"},null,8,["modelValue","options","pt"]),t(n,{class:"mt-1 text-xs",message:s(e).errors.modo},null,8,["message"])]),l("div",me,[t(r,{for:"estado",value:"Estado",class:"text-base font-medium leading-1 text-gray-900"}),t(b,{modelValue:_.value,"onUpdate:modelValue":a[4]||(a[4]=o=>_.value=o),disabled:"",id:"estado",onChange:k,filter:"",options:F.value,optionLabel:"name",pt:{root:{class:"w-full"},trigger:{class:"fas fa-caret-down text-gray-400 my-auto"},item:({props:o,state:E,context:d})=>({class:d.selected?"text-white bg-primary-900 p-2":d.focused?"bg-blue-100 p-2":void 0})},placeholder:"Seleccione"},null,8,["modelValue","options","pt"]),t(n,{class:"mt-1 text-xs",message:s(e).errors.estado},null,8,["message"])]),s(e).tipo=="RMA"?(f(),u("div",ue,[t(r,{for:"fecha_compra",value:"Fecha de compra",class:"text-base font-medium leading-1 text-gray-900"}),t(s(I),{id:"fecha_compra",type:"date","value-type":"YYYY-MM-DD",onChange:G,format:"DD/MM/YYYY",class:"col-span-6 lg:col-span-2 text-base text-gray-700 bg-white transition-colors duration-200 border-0",value:S.value,"onUpdate:value":a[5]||(a[5]=o=>S.value=o),lang:"es",placeholder:"Seleccione Fecha",clearable:!1},null,8,["value"]),t(n,{class:"mt-1 text-xs",message:s(e).errors.fecha_compra},null,8,["message"])])):h("",!0),s(e).tipo=="RMA"?(f(),u("div",fe,[t(r,{for:"nro_factura",value:"Número de factura",class:"text-base font-medium leading-1 text-gray-900"}),t(m,{type:"text",id:"nro_factura",modelValue:s(e).nro_factura,"onUpdate:modelValue":a[6]||(a[6]=o=>s(e).nro_factura=o),pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),t(n,{class:"mt-1 text-xs",message:s(e).errors.nro_factura},null,8,["message"])])):h("",!0),l("div",ge,[t(r,{for:"cliente",value:"Cliente",class:"text-base font-medium leading-6 text-gray-900"}),t(m,{type:"text",id:"cliente",modelValue:s(e).cliente.nombre,"onUpdate:modelValue":a[7]||(a[7]=o=>s(e).cliente.nombre=o),placeholder:"ingrese nombre cliente",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),t(n,{class:"mt-1 text-xs",message:s(e).errors["cliente.nombre"]},null,8,["message"])]),l("div",xe,[t(r,{for:"telefono",value:"Telefono",class:"text-base font-medium leading-6 text-gray-900"}),t(m,{type:"text",id:"telefono",modelValue:s(e).cliente.telefono,"onUpdate:modelValue":a[8]||(a[8]=o=>s(e).cliente.telefono=o),placeholder:"ingrese telefono",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),t(n,{class:"mt-1 text-xs",message:s(e).errors["cliente.telefono"]},null,8,["message"])]),s(e).tipo=="PRESUPUESTO"?(f(),u("div",ve,[t(r,{for:"costo_presupuestado",value:"Costo presupuestado",class:"text-base font-medium leading-6 text-gray-900"}),Z(l("input",{type:"number","onUpdate:modelValue":a[9]||(a[9]=o=>s(e).costo_presupuestado=o),step:"1",min:"0",class:"p-inputtext text-end h-9 w-full text-gray-700 bg-white border border-gray-300 transition-colors duration-200 appearance-none px-1 py-1"},null,512),[[q,s(e).costo_presupuestado]]),t(n,{class:"mt-1 text-xs",message:s(e).errors.costo_presupuestado},null,8,["message"])])):h("",!0),_e,l("div",ye,[t(r,{for:"prod_origen",value:"Producto",class:"text-base font-medium leading-1 text-gray-900"}),t(b,{modelValue:g.value,"onUpdate:modelValue":a[10]||(a[10]=o=>g.value=o),id:"productos",onChange:P,filter:"",options:A.value,optionLabel:"nombre",virtualScrollerOptions:{itemSize:46},class:"w-full md:w-14rem",pt:{root:{class:"w-1/2"},trigger:{class:"fas fa-caret-down text-gray-400 my-auto"},item:({props:o,state:E,context:d})=>({class:d.selected?"text-white bg-primary-900 p-2":d.focused?"bg-blue-100 p-2":void 0})},placeholder:"Seleccione Producto"},{value:R(o=>[o.value?(f(),u("div",be,[l("img",{alt:o.value.nombre,src:o.value.imagen,style:{width:"20px","margin-right":"5px"}},null,8,he),l("div",null,p(o.value.origen)+" - "+p(o.value.nombre)+" - stock:"+p(o.value.stock),1)])):(f(),u("span",we,p(o.placeholder),1))]),option:R(o=>[l("div",Ee,[l("img",{alt:o.option.nombre,src:o.option.imagen,style:{width:"20px","margin-right":"5px"}},null,8,De),l("div",null,p(o.option.origen)+" - "+p(o.option.nombre)+" - stock:"+p(o.option.stock),1)])]),_:1},8,["modelValue","options","pt"]),t(n,{class:"mt-1 text-xs",message:s(e).errors.producto_id},null,8,["message"])]),s(e).tipo=="RMA"?(f(),u("div",Re,[t(r,{for:"prod_serie",value:"Número de Serie",class:"text-base font-medium leading-1 text-gray-900"}),t(m,{type:"text",id:"prod_serie",modelValue:s(e).prod_serie,"onUpdate:modelValue":a[11]||(a[11]=o=>s(e).prod_serie=o),pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),t(n,{class:"mt-1 text-xs",message:s(e).errors.origen},null,8,["message"])])):h("",!0),l("div",Ve,[t(r,{for:"defecto",value:"Defecto",class:"text-base font-medium leading-6 text-gray-900"}),t(C,{modelValue:s(e).defecto,"onUpdate:modelValue":a[12]||(a[12]=o=>s(e).defecto=o),pt:{root:{rows:"2",class:"w-full"}}},null,8,["modelValue"]),t(n,{class:"mt-1 text-xs",message:s(e).errors.defecto},null,8,["message"])]),l("div",Oe,[t(r,{for:"observaciones",value:"Observaciones",class:"text-base font-medium leading-6 text-gray-900"}),t(C,{modelValue:s(e).observaciones,"onUpdate:modelValue":a[13]||(a[13]=o=>s(e).observaciones=o),pt:{root:{rows:"2",class:"w-full"}}},null,8,["modelValue"])])]),l("div",Se,[t(s(T),{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:$,type:"button"}),t(s(T),{label:"Guardar",size:"small",type:"button",class:Q({"opacity-50":s(e).processing}),disabled:s(e).processing,onClick:J(L,["prevent"])},null,8,["class","disabled","onClick"])])])])])]),_:1},8,["pagina"])],64)}}};export{xo as default};
