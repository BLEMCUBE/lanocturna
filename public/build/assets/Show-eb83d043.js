import{_ as D}from"./AppLayout-cc6f826a.js";import{K as b,k as S,T as j,h as B,m as x,f as _,a as p,u as s,w as g,q as m,o as l,Z as O,b as t,c as h,g as y,t as a,d as n,s as V,O as f}from"./app-445a63a2.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const P={class:"card px-4 py-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},$={class:"px-0 py-1 m-2 mt-0 col-span-full flex justify-start items-center"},A=t("span",{class:"text-black font-semibold"},"Editar",-1),E=t("span",{class:"text-white font-semibold"},"Facturar",-1),N={class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},U={class:"text-2xl font-medium"},M={class:"mx-auto grid max-w-2xl grid-cols-1 gap-x-1 gap-y-1 px-4 py-2 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-8"},R={class:"col-span-1"},q={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},K=t("b",null," Fecha: ",-1),L={class:"col-span-1"},Z={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},z=t("b",null," Moneda: ",-1),G={class:"col-span-1"},H={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},I=t("b",null," Vendedor: ",-1),J={class:"col-span-1"},Q={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},W=t("b",null," Destino: ",-1),X={class:"col-span-1"},Y={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},tt=t("b",null," Cliente: ",-1),ot={class:"col-span-3"},et={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},st=t("b",null," Observaciones: ",-1),at=t("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[t("h5",{class:"text-2xl font-medium"},"Productos")],-1),rt={class:"mx-auto grid max-w-2xl grid-cols-12 overflow-auto gap-x-1 gap-y-0 px-2 py-0 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-1"},dt={class:"table-auto mx-2 border border-gray-300 col-span-full"},nt=t("thead",null,[t("tr",{class:"p-2 bg-secondary-900 border"},[t("th",{class:"border border-gray-300 p-1"},"Cantidad"),t("th",{class:"border border-gray-300"},"Origen"),t("th",{class:"border border-gray-300"},"Producto"),t("th",{class:"border border-gray-300"},"CÃ³digo de Barras"),t("th",{class:"border border-gray-300"},"Precio"),t("th",{class:"border border-gray-300"},"Total")])],-1),lt={class:"border border-gray-300 p-1"},ct={class:"border border-gray-300 p-1"},it={class:"border border-gray-300 p-1"},_t={class:"border border-gray-300 p-1"},pt={class:"border border-gray-300 p-1"},gt={class:"border border-gray-300 p-1"},ut=t("td",{colspan:"5",class:"border border-gray-300 p-1 text-end pr-2"},[t("b",null,"Subtotal: ")],-1),bt={class:"border border-gray-300 p-1 text-center"},xt=t("td",{colspan:"5",class:"border border-gray-300 p-1 text-end pr-2"},[t("b",null,"Total (con impuesto): ")],-1),mt={class:"border border-gray-300 p-1 text-center"},v="Detalle Venta",c="cajas",wt={__name:"Show",setup(ht){b().props.auth;const k=S(),o=j({id:"",vendedor:"",destino:"",codigo:"",total:0,fecha:"",total_sin_iva:0,moneda:"",tipo_cambio:"",estado:"",observaciones:"",productos:[],cliente:"",direccion:"",localidad:"",telefono:""}),w=e=>{f.get(route(c+".edit",e))},F=e=>{o.get(route(c+".facturar",e),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{C("success","Mensaje","Se ha Facturado"),setTimeout(()=>{f.get(route(c+".index"))},1e3)},onFinish:()=>{},onError:()=>{}})},C=(e,d,i)=>{k.add({severity:e,summary:d,detail:i,life:3e3})};return B(()=>{var e=b().props.venta.data;o.id=e.id,o.fecha=e.fecha,o.vendedor=e.vendedor,o.facturador=e.facturador,o.validador=e.validador,o.observaciones=e.observaciones,o.destino=e.destino,o.cliente=e.cliente,o.direccion=e.direccion,o.localidad=e.localidad,o.telefono=e.telefono,o.moneda=e.moneda,o.estado=e.estado,o.productos=e.productos,o.total_sin_iva=e.total_sin_iva,o.total=e.total,o.codigo=e.codigo}),(e,d)=>{const i=x("Toast"),u=x("Button");return l(),_(m,null,[p(s(O),{title:v}),p(D,{pagina:[{label:"Caja",link:!0,url:e.route(c+".index")},{label:v,link:!1}]},{default:g(()=>[t("div",P,[p(i),t("div",$,[s(o).estado!="FACTURADO"?(l(),h(u,{key:0,onClick:d[0]||(d[0]=r=>w(s(o).id)),class:"rounded border-0 bg-yellow-500 px-2 py-0.5 text-base font-normal m-2 hover:bg-yellow-600"},{default:g(()=>[A]),_:1})):y("",!0),s(o).estado!="FACTURADO"?(l(),h(u,{key:1,onClick:d[1]||(d[1]=r=>F(s(o).id)),class:"rounded border-0 bg-green-700 px-2 py-0.5 text-base font-normal m-2 hover:bg-green-600"},{default:g(()=>[E]),_:1})):y("",!0)]),t("div",N,[t("h5",U,"Cliente: "+a(s(o).cliente),1)]),t("div",M,[t("div",R,[t("p",q,[K,n(" "+a(s(o).fecha),1)])]),t("div",L,[t("p",Z,[z,n(" "+a(s(o).moneda),1)])]),t("div",G,[t("p",H,[I,n(" "+a(s(o).vendedor),1)])]),t("div",J,[t("p",Q,[W,n(" "+a(s(o).destino),1)])]),t("div",X,[t("p",Y,[tt,n(" "+a(s(o).cliente),1)])]),t("div",ot,[t("p",et,[st,n(" "+a(s(o).observaciones),1)])])]),at,t("div",rt,[t("table",dt,[nt,t("tbody",null,[(l(!0),_(m,null,V(s(o).productos,(r,T)=>(l(),_("tr",{key:T,class:"font-sans text-center font-normal text-gray-800 border border-gray-300"},[t("td",lt,a(r.cantidad),1),t("td",ct,a(r.producto.origen),1),t("td",it,a(r.producto.nombre),1),t("td",_t,a(r.producto.codigo_barra),1),t("td",pt,a(r.precio_sin_iva.toFixed(2)),1),t("td",gt,a(r.total_sin_iva.toFixed(2)),1)]))),128))]),t("tfoot",null,[t("tr",null,[ut,t("td",bt,[t("b",null,a(s(o).moneda=="Pesos"?"$ ":"USD ")+" "+a(s(o).total_sin_iva.toFixed(2)),1)])]),t("tr",null,[xt,t("td",mt,[t("b",null,a(s(o).moneda=="Pesos"?"$ ":"USD ")+" "+a(s(o).total.toFixed(2)),1)])])])])])])]),_:1},8,["pagina"])],64)}}};export{wt as default};
