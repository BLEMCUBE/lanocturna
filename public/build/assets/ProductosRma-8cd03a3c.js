import{_ as j}from"./AppLayout-50b5d09a.js";import{K as d,O as N,Z as O}from"./@inertiajs-ab1bf9dd.js";import{i as T}from"./vue-datepicker-next-31061510.js";import{h as c}from"./moment-fbc5633a.js";import{aH as V}from"./primevue-232ee6f7.js";import{s as f,a as A,e as L,b as S,c as E}from"./date-fns-7c3f4903.js";import{r as p,o as R,O as u,P as B,g as b,S as t,E as m,V as r,F,f as w,j as o,A as D,Q as I,n as U,z as g}from"./@vue-1043e4d5.js";import"./logo-e22dfca4.js";import"./pinia-ff353768.js";import"./@vueuse-54bafaaf.js";import"./sweetalert2-c47eda61.js";import"./apexcharts-f697a6eb.js";import"./@headlessui-edafee9e.js";import"./@heroicons-7e6153ac.js";import"./axios-4a70c6fc.js";import"./deepmerge-34bd70bf.js";import"./qs-ba0d1d34.js";import"./side-channel-009c6bc3.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-0f5d75dd.js";import"./nprogress-a144f12f.js";import"./lodash.clonedeep-6a476b09.js";import"./lodash.isequal-cbdfea98.js";import"./date-format-parse-388037e5.js";import"./@babel-7fd5df1e.js";const z={class:"card px-4 mb-4 col-span-12 rounded-lg"},H=o("div",{class:"col-span-full flex justify-between items-center"},[o("h5",{class:"text-2xl font-medium"},"Listado Productos RMA")],-1),K={class:"grid grid-cols-12 gap-4 mt-4 mb-2"},$={class:"grid grid-cols-1 col-span-full gap-4 lg:grid-cols-12 mt-2 2lg:grid-cols-12"},Q={class:"col-span-1 md:col-span-3 lg:col-span-3"},Z={class:"card p-3 bg-white col-span-12 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},q={class:"flex justify-content-end text-md"},G={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},J=o("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),W=["src"],X="Productos Rma",ee="reportes",Te={__name:"ProductosRma",setup(te){d().props.auth;const{roles:x}=d().props.auth,_=p([]),v=p(),s=p(),h=e=>{e[0]!=null&&e[1]!=null&&(N.get(route(ee+".productosrma"),{inicio:c(e[0]).format("YYYY-MM-DD"),fin:c(e[1]).format("YYYY-MM-DD")},{preserveState:!0,onSuccess:()=>{v.value=d().props.total_cantidad,_.value=d().props.total_productos}}),s.value=[c(e[0]).format("YYYY-MM-DD"),c(e[1]).format("YYYY-MM-DD")])},Y=()=>{if(s.value[0]!=null&&s.value[1]!=null)window.open(route("reportes.exportproductorma",[{inicio:s.value[0],fin:s.value[1]}]),"_blank");else return};R(()=>{s.value=[f(new Date,30),new Date],h(s.value)});const i=p({global:{value:null,matchMode:V.CONTAINS}}),y=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[f(new Date,1),f(new Date,1)]}},{text:"Este mes",onClick(){return[A(new Date),L(new Date)]}},{text:"Este aÃ±o",onClick(){return[S(new Date),E(new Date)]}}];return(e,l)=>{const C=u("InputText"),k=u("Button"),n=u("Column"),M=u("DataTable"),P=B("tooltip");return w(),b(F,null,[t(m(O),{title:"Reporte Ventas"}),t(j,{pagina:[{label:"Reportes",link:!1},{label:X,link:!1}]},{default:r(()=>[o("div",z,[H,o("div",K,[o("div",$,[o("div",Q,[t(m(T),{onChange:h,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:s.value,"onUpdate:value":l[0]||(l[0]=a=>s.value=a),shortcuts:y,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])])]),o("div",Z,[o("b",null," TOTAL CANTIDADES : "+D(v.value)+" ",1),t(M,{size:"small",filters:i.value,"onUpdate:filters":l[3]||(l[3]=a=>i.value=a),value:_.value,paginator:!0,rows:20,rowsPerPageOptions:[20,40,100,200],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},{header:r(()=>[o("div",q,[t(C,{modelValue:i.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=a=>i.value.global.value=a),placeholder:"Buscar"},null,8,["modelValue"]),m(x).includes("Super Administrador")||m(x).includes("Administrador")?I((w(),b("div",G,[t(k,{onClick:l[2]||(l[2]=a=>Y()),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:r(()=>[J]),_:1})])),[[P,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):U("",!0)])]),empty:r(()=>[g(" No existe Resultado ")]),loading:r(()=>[g(" Cargando... ")]),default:r(()=>[t(n,{field:"sku",header:"SKU"}),t(n,{field:"imagen",header:"Imagen",pt:{bodyCell:{class:"flex justify-center text-center w-12"},headerCell:{class:"w-10"}}},{loading:r(()=>[]),body:r(a=>[o("img",{class:"rounded bg-white shadow-2xl border-2 text-center w-10 h-10 object-contain",src:a.data.imagen,alt:"image"},null,8,W)]),_:1}),t(n,{field:"nombre",header:"Nombre",sortable:""}),t(n,{field:"ventas_totales",header:"Cantidad",sortable:"",pt:{bodyCell:{class:"flex justify-center text-center w-14"},headerCell:{class:"w-14"}}}),t(n,{field:"porcentaje",header:"Porcentaje",sortable:"",pt:{bodyCell:{class:"text-center w-20"},headerCell:{class:"w-20"}}},{body:r(a=>[g(D(a.data.porcentaje)+" % ",1)]),_:1})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{Te as default};
