import{r as c,o as G,R as T,S,f as l,g as r,W as n,E as h,Y as J,j as e,D as a,T as k,O as P,F as C,A as B,z as N,C as m,u as Q,y as X}from"./@vue-BLfC86mR.js";import{_ as ee}from"./AppLayout-uReGjGr-.js";import{_ as M}from"./InputLabel-CkCrW4zf.js";import{K as $,Z as te,O as R}from"./@inertiajs-CMyvZJ1U.js";import{i as oe}from"./vue-datepicker-next-MGkLgL3F.js";import{h as F}from"./moment-D15uM1gO.js";import{_ as se}from"./Pagination-CNhFcssC.js";import{s as L,a as ae,e as le,b as re,c as ne}from"./date-fns-Bj3OEEs3.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-DhUVDY3P.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./loader-D-Kjbgh8.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-Ck_2Ecjm.js";import"./primevue-DAb-R_om.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./date-format-parse-DuecP4dO.js";import"./@babel-QjJsDpFa.js";const ie={class:"px-4 py-3 mb-4 bg-white col-span-12 2xl:col-span-9"},de={class:"align-middle"},ce={class:"grid grid-cols-6 gap-4 mx-1.5 mt-3 mb-6"},ue={class:"col-span-2"},me={class:"col-span-2"},pe={class:"col-span-2"},fe={class:"bg-white shadow-md border border-gray-300 overflow-hidden"},_e={class:"flex flex-col md:flex-row items-stretch border-b border-dashed border-gray-300"},ve={class:"flex-1 p-4"},xe={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},be={class:"flex-1"},ge={class:"ml-6 my-1 text-lg text-gray-900"},he={class:"font-semibold text-gray-800"},ye={class:"flex flex-row items-center gap-2"},we={class:"w-10 h-10 flex-shrink-0"},De=["src","alt"],Ye={class:"px-2"},ke={class:"mt-1 text-gray-800 font-semibold"},Ce={class:"ml-6"},Me=e("i",{class:"fa-solid fa-circle-exclamation"},null,-1),Re={class:"max-w-56 md:w-56 flex flex-col items-start md:items-start justify-between"},Ve={key:0,class:"font-semibold text-gray-700"},Ee={key:1,class:"font-semibold text-gray-700"},Oe={class:"flex items-center gap-2"},je=e("i",{class:"fa-regular fa-user"},null,-1),Te={class:"flex items-center gap-2"},Se=e("i",{class:"fa-regular fa-calendar"},null,-1),Be={class:"w-50 h-full flex px-5 items-center justify-center py-auto"},Ne=["onClick"],V="mercadolibre.reclamos",Yt={__name:"Reclamos",props:{datos:{type:Object,default:()=>({})},filtro:{type:Object,default:()=>({})}},setup(E){const u=E,{tienda:U}=$().props,y=`ML Reclamos "${U}"`,{client_id:w}=$().props,p=c(u.filtro.buscar??""),f=c(u.filtro.inicio??null),_=c(u.filtro.fin??null),v=c(u.filtro.estado??null);let i=c([u.filtro.inicio,u.filtro.fin]);const O=c([]),z=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[L(new Date,1),L(new Date,1)]}},{text:"Este mes",onClick(){return[ae(new Date),le(new Date)]}},{text:"Este año",onClick(){return[re(new Date),ne(new Date)]}}],A=(o,s)=>{R.get(route(V+".detalle",[o,s]))},x=c({name:"Todos",code:null}),I=c([{name:"Todos",code:null},{name:"Reclamo abierto",code:"opened"},{name:"Reclamo cerrado",code:"closed"}]),H=o=>{x.value.code!=v.value&&(v.value=x.value.code)},K=o=>{switch(o){case"opened":return"Reclamo abierto";case"closed":return"Reclamo cerrado";default:return""}},D=o=>{switch(o){case"seller":return["Esperando tu respuesta","text-red-600","bg-red-500"];case"buyer":return["Esperando al comprador","text-green-600","bg-green-300"];default:return["Reclamo cerrado","text-gray-600","bg-gray-500"]}};G(()=>{O.value=[...u.datos.data].sort((o,s)=>{const b=g=>g.espera==="seller"?1:g.espera==="buyer"?2:3;return b(o)-b(s)})});const Y=()=>{R.get(route(V+".index",[w]),{buscar:p.value,inicio:f.value,estado:v.value,fin:_.value},{preserveState:!0,replace:!0})},W=o=>{o[0]!=null&&o[1]!=null?(i.value=[F(o[0]).format("YYYY-MM-DD"),F(o[1]).format("YYYY-MM-DD")],f.value=i.value[0],_.value=i.value[1]):(i.value=[],f.value=null,_.value=null),setTimeout(function(){R.get(route(V+".index",[w]),{buscar:p.value,inicio:f.value,estado:v.value,fin:_.value},{preserveState:!0,replace:!0})},100)};return(o,s)=>{const b=T("InputText"),g=T("Dropdown"),j=S("debounce"),Z=S("tooltip");return r(),l(C,null,[n(h(te),{title:y}),n(ee,{pagina:[{label:y,link:!1}]},{default:J(()=>[e("div",ie,[e("div",{class:"p-3 col-span-full flex justify-between items-center"},[e("h5",{class:"text-2xl font-medium"},a(y))]),e("div",de,[e("div",ce,[e("div",ue,[n(M,{for:"buscar",value:"Buscar",class:"text-base font-medium leading-1 text-gray-900"}),k(n(b,{id:"buscar",modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t),"debounce-events":["keyup"],placeholder:"Numero de reclamo",pt:{root:{class:"col-span-6 lg:col-span-2 w-full"}}},null,8,["modelValue"]),[[j,Y,"500ms"]])]),e("div",me,[n(M,{for:"estado",value:"Estado",class:"text-base font-medium leading-1 text-gray-900"}),k(n(g,{id:"estado",modelValue:x.value,"onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t),onChange:s[2]||(s[2]=t=>{H(),Y()}),options:I.value,optionLabel:"name",pt:{root:{class:"w-full"},trigger:{class:"fas fa-caret-down text-gray-200 my-auto"},item:({props:t,state:q,context:d})=>({class:d.selected?"text-white bg-primary-900":d.focused?"bg-blue-100":void 0})},placeholder:"Seleccione estado"},null,8,["modelValue","options","pt"]),[[j,Y,"500ms"]])]),e("div",pe,[n(M,{for:"date1",value:"Rango de Fecha",class:"text-base font-medium leading-1 text-gray-900"}),n(h(oe),{id:"date1",onChange:W,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"col-span-6 lg:col-span-2 font-sans font-normal text-gray-700 bg-white transition-colors duration-200 border-0 text-sm",value:h(i),"onUpdate:value":s[3]||(s[3]=t=>P(i)?i.value=t:i=t),shortcuts:z,lang:"es",editable:"false",placeholder:"Seleccione Fecha"},null,8,["value"])])]),e("div",fe,[(r(!0),l(C,null,B(O.value,(t,q)=>(r(),l("div",_e,[e("div",{class:N(["w-2 hidden md:block",D(t.espera)[2]])},null,2),e("div",ve,[e("div",xe,[e("div",be,[e("div",ge,[m("Reclamo "),e("span",he,"#"+a(t.reclamo_id),1),t.estado!=="closed"?(r(),l("span",{key:0,class:N(["ml-3 px-2 py-0.5 text-[15px] rounded font-semibold",D(t.espera)[1]])},a(D(t.espera)[0]),3)):Q("",!0)]),(r(!0),l(C,null,B(t.productos,d=>(r(),l("div",ye,[e("div",we,[e("img",{src:d.imagen,alt:d.titulo,class:"w-10 h-10 object-cover rounded border border-gray-800"},null,8,De)]),e("div",Ye,[e("div",ke,a(d.cantidad)+" × "+a(d.titulo),1)])]))),256)),e("div",Ce,[Me,m(" "+a(t.motivo),1)])]),e("div",Re,[t.venta_estado=="cancelled"?(r(),l("div",Ve,"Venta Cancelada")):(r(),l("div",Ee,a(K(t.estado)),1)),e("div",Oe,[je,m(" "+a(t.comprador?.first_name)+" "+a(t.comprador?.last_name),1)]),e("div",Te,[Se,m(" "+a(t.fecha_creacion),1)])]),e("div",Be,[k((r(),l("button",{class:"rounded bg-blue-700 border border-white px-3 py-2 text-base font-normal text-white m-1 hover:bg-blue-600",onClick:X(d=>A(h(w),t.reclamo_id),["prevent"])},[m("Ver Reclamo")],8,Ne)),[[Z,{value:"Ver Reclamo",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]])])])])]))),256))]),n(se,{elements:E.datos.links},null,8,["elements"])])])]),_:1},8,["pagina"])],64)}}};export{Yt as default};
