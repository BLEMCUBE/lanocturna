import{r as m,o as U,M as Y,e as f,f as _,Q as a,ab as t,S as b,i as e,y as g,l as z,q as T,p as $,F as k,u as j,ac as L,ad as O}from"./@vue-BG0wrCoO.js";import{_ as P}from"./AppLayout-DGXGhT07.js";import{T as q,Z as G,O as D}from"./@inertiajs-BPLxF6VH.js";import{aH as H,h as x}from"./primevue-DlS7f910.js";import{_ as n}from"./InputError-cOM6HFrc.js";import{_ as i}from"./InputLabel-BIVuqiPx.js";import{s as Q}from"./@vueform-CSVNwuWD.js";import{i as M}from"./vue-datepicker-next-BBtlwD79.js";import{h as C}from"./moment-D15uM1gO.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-C8Jea0Rc.js";import"./loader-DTMt_fBO.js";import"./pinia-f5v7c1ZR.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-CipxKyPu.js";import"./axios-ngrFHoWO.js";import"./deepmerge-CejY7WQD.js";import"./qs-DSMFT7gQ.js";import"./side-channel-C2E4DO94.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-sCGRVelf.js";import"./nprogress-D6y_-DtI.js";import"./lodash.clonedeep-DcClQ2Wp.js";import"./lodash.isequal-qgBWtdDc.js";import"./date-format-parse-DuecP4dO.js";const h=c=>(L("data-v-d010357d"),c=c(),O(),c),J={class:"card px-4 mb-4 bg-white col-span-12 rounded-lg shadow-lg lg:col-span-12 dark:border-gray-700 dark:bg-gray-800"},K={class:"align-middle"},R={class:"px-2 pt-4 pb-0 grid grid-cols-12 gap-4 mb-2"},W={class:"col-span-12 shadow-default lg:col-span-3"},X={class:"col-span-12 shadow-default lg:col-span-3"},ee={class:"col-span-12 shadow-default lg:col-span-3"},te={class:"col-span-12 shadow-default lg:col-span-3 my-auto"},oe={class:"col-span-12 shadow-default lg:col-span-3 my-auto"},ae={class:"col-span-12 shadow-default lg:col-span-12"},se={class:"flex justify-end pt-2"},le=h(()=>e("p",{class:"mb-2 font-bold text-md"}," Los siguientes productos no estan registrado , por favor registre y vuelva a intentar. ",-1)),re={class:"w-full border"},ne=h(()=>e("thead",null,[e("tr",{class:"w-full border"},[e("th",{class:"w-26 text-center border"}," Fila "),e("th",{class:"text-center border"}," Sku ")])],-1)),ie={class:"w-full text-center border"},ce={class:"text-center border"},de={class:"text-center border"},pe=h(()=>e("div",{class:"flex flex-column align-items-center",style:{flex:"1"}},[e("div",{class:"text-center"},[e("i",{class:"pi pi-exclamation-triangle text-yellow-500",style:{"font-size":"3rem"}})]),e("div",{class:"font-bold text-2xl m-3"},"No se ha podido importar")],-1)),me={class:"flex justify-end py-3"},v="Subir Bultos a DepÃ³sito",u="depositos",ue={__name:"Create",setup(c){const S=H(),y=m(null),d=m(!1),w=m(),o=q({nro_carpeta:"",nro_contenedor:"",estado:"",archivo:"",fecha_arribado:"",fecha_camino:"",mueve_stock:!1});U(()=>{o.fecha_arribado=C(new Date).format("YYYY-MM-DD"),o.fecha_camino=C(new Date).format("YYYY-MM-DD")});const F=m({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!1,options:[{value:"Arribado",label:"Arribado"},{value:"En camino",label:"En camino"}]}),I=()=>{o.clearErrors(),o.post(route(u+".store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{E("success","Mensaje","Importacion bultos creado"),setTimeout(()=>{D.get(route(u+".bultos"))},1e3)},onFinish:()=>{},onError:r=>{r.filas!=null&&r.filas.length>1&&(w.value=r.filas.slice(1),d.value=!0)}})},V=()=>{y.value.value=null,o.reset("archivo"),d.value=!1},E=(r,s,p)=>{S.add({severity:r,summary:s,detail:p,life:3e3})},A=()=>{D.get(route(u+".bultos"))},B=r=>{r.preventDefault(),o.archivo=r.target.files[0]};return(r,s)=>{const p=Y("InputText"),N=Y("Dialog");return _(),f(k,null,[a(t(G),{title:v}),a(P,{pagina:[{label:"Bultos Importados",link:!0,url:r.route(u+".bultos")},{label:v,link:!1}]},{default:b(()=>[e("div",J,[e("div",{class:"px-3 col-span-full flex justify-between items-center"},[e("h5",{class:"text-2xl font-medium"},g(v))]),e("div",K,[e("form",null,[e("div",R,[e("div",W,[a(i,{for:"nro_carpeta",value:"No. de Carpeta",class:"block text-base font-medium leading-6 text-gray-900"}),a(p,{type:"text",id:"nro_carpeta",modelValue:t(o).nro_carpeta,"onUpdate:modelValue":s[0]||(s[0]=l=>t(o).nro_carpeta=l),placeholder:"Ingrese No. de Carpeta",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),a(n,{class:"mt-1 text-xs",message:t(o).errors.nro_carpeta},null,8,["message"])]),e("div",X,[a(i,{for:"nro_contenedor",value:"BL o No. de Contenedor",class:"block text-base font-medium leading-6 text-gray-900"}),a(p,{type:"text",id:"nro_carpeta",modelValue:t(o).nro_contenedor,"onUpdate:modelValue":s[1]||(s[1]=l=>t(o).nro_contenedor=l),placeholder:"Ingrese BL o No. de Contenedor",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),a(n,{class:"mt-1 text-xs",message:t(o).errors.nro_contenedor},null,8,["message"])]),e("div",ee,[a(i,{for:"estado",value:"Estado",class:"block text-base font-medium leading-6 text-gray-900"}),a(t(Q),z({id:"rol",modelValue:t(o).estado,"onUpdate:modelValue":s[2]||(s[2]=l=>t(o).estado=l)},F.value),null,16,["modelValue"]),a(n,{class:"mt-1 text-xs",message:t(o).errors.estado},null,8,["message"])]),e("div",te,[a(i,{for:"fecha_camino",value:"Fecha En Camino",class:"block text-base font-medium leading-6 text-gray-900"}),a(t(M),{clearable:!1,editable:!0,type:"date","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"p-inputtext p-component col-span-6 text-gray-700 bg-white transition-colors duration-200 border-0 px-0 py-0",value:t(o).fecha_camino,"onUpdate:value":s[3]||(s[3]=l=>t(o).fecha_camino=l),lang:"es",placeholder:"Seleccione Fecha"},null,8,["value"]),a(n,{class:"mt-1 text-xs",message:t(o).errors.fecha_camino},null,8,["message"])]),e("div",oe,[a(i,{for:"estado",value:"Fecha Arribado",class:"block text-base font-medium leading-6 text-gray-900"}),a(t(M),{clearable:!1,editable:!0,type:"date","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"p-inputtext p-component col-span-6 text-gray-700 bg-white transition-colors duration-200 border-0 px-0 py-0",value:t(o).fecha_arribado,"onUpdate:value":s[4]||(s[4]=l=>t(o).fecha_arribado=l),lang:"es",placeholder:"Seleccione Fecha"},null,8,["value"]),a(n,{class:"mt-1 text-xs",message:t(o).errors.fecha_arribado},null,8,["message"])]),e("div",ae,[a(i,{for:"file_input1",value:"Archivo Excel",class:"block text-base font-medium leading-6 text-gray-900"}),e("input",{ref_key:"inputArchivo",ref:y,onInput:B,type:"file",class:"block w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-gray-200 file:text-gray-700 hover:file:bg-gray-300 hover:file:cursor-pointer",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"},null,544),a(n,{class:"mt-1 text-xs",message:t(o).errors.archivo},null,8,["message"])])]),e("div",se,[a(t(x),{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:A,type:"button"}),a(t(x),{label:"Guardar",onClick:$(I,["prevent"]),size:"small",type:"button",class:T({"opacity-50":t(o).processing}),disabled:t(o).processing},null,8,["onClick","class","disabled"])])])]),a(N,{visible:d.value,"onUpdate:visible":s[6]||(s[6]=l=>d.value=l),modal:"",style:{width:"25vw"},pt:{header:{class:"mt-5 pb-2 px-5"},content:{class:"p-4"}}},{header:b(()=>[pe]),default:b(()=>[le,e("table",re,[ne,e("tbody",null,[(_(!0),f(k,null,j(w.value,l=>(_(),f("tr",ie,[e("td",ce,g(l.fila),1),e("td",de,g(l.sku),1)]))),256))])]),e("div",me,[a(t(x),{label:"Aceptar",size:"small",type:"button",onClick:s[5]||(s[5]=l=>V())})])]),_:1},8,["visible"])])]),_:1},8,["pagina"])],64)}}},Re=Z(ue,[["__scopeId","data-v-d010357d"]]);export{Re as default};
