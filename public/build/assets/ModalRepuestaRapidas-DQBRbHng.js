import{r as m,o as K,R as B,f as n,g as r,j as s,W as f,F as g,A as x,a4 as T,y as C,D as X,C as D,Y as Z,T as v,a5 as b,z as j,u as ee,E as a,U as V}from"./@vue-BLfC86mR.js";import{T as se,O as te}from"./@inertiajs-CMyvZJ1U.js";import{_ as h}from"./InputError-DdpGOVhM.js";import{a as I}from"./axios-ngrFHoWO.js";import{aH as oe}from"./primevue-DAb-R_om.js";import{u as le}from"./loader-D-Kjbgh8.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./pinia-IH2nVPr3.js";const re=["onClick"],ae=["onClick"],ne=s("i",{class:"fas fa-pen"},null,-1),ie={class:"grid grid-cols-12 gap-4 p-2"},ue={class:"w-full flex flex-col items-center col-span-12 sm:col-span-3 md:col-span-3 lg:col-span-3 text-white rounded-lg text-center"},ce={class:"flex flex-wrap justify-center mt-2"},de=["onMouseover","onClick"],pe={class:"col-span-12 sm:col-span-7 md:col-span-7 lg:col-span-7 rounded-lg text-center"},me={class:"col-span-12 sm:col-span-2 md:col-span-2 lg:col-span-2 text-white rounded-lg text-center"},fe=["onClick"],ge=["onSubmit"],xe=s("p",null," Repuestas agregadas ",-1),ve={key:0,class:"col-span-12 p-2 xl:col-span-12"},be={class:"grid grid-cols-12 gap-4 p-2 mt-3"},he={class:"w-full flex flex-col items-center col-span-12 sm:col-span-3 md:col-span-3 lg:col-span-3 text-white rounded-lg text-center"},_e=["onUpdate:modelValue"],ye={class:"col-span-12 sm:col-span-7 md:col-span-7 lg:col-span-7 rounded-lg text-center"},we=["onUpdate:modelValue"],Ce={class:"col-span-12 sm:col-span-2 md:col-span-2 lg:col-span-2 text-white rounded-lg text-center"},ke=["onClick"],Ee=s("i",{class:"fas fa-trash-alt"},null,-1),qe={class:"grid grid-cols-12 gap-4 p-2 mt-3"},Te={class:"w-full flex flex-col items-start col-span-12 sm:col-span-6 md:col-span-6 lg:col-span-6 rounded-lg text-center"},Ue=s("label",{class:"px-2 text-gray-900 font-medium"},"Saludo inicial:",-1),Me=s("p",{class:"px-2 text-gray-400 font-medium text-xs"},"Lo pondremos al inicio de tus respuestas.",-1),Se={class:"w-full flex flex-col items-start col-span-12 sm:col-span-6 md:col-span-6 lg:col-span-6"},Ve=s("label",{class:"px-2 text-gray-900 font-medium"},"Firma:",-1),ze=s("p",{class:"px-2 text-gray-400 font-medium text-xs"},"Lo pondremos al final de tus respuestas.",-1),Re={class:"flex justify-end py-3"},Be="Respuestas Rapidas",z="respuestasrapidas",De="mercadolibre",us={__name:"ModalRepuestaRapidas",props:{tipo:{type:String}},emits:["addTexto"],setup($,{emit:F}){const U=$,A=le(),L=oe(),_=m(!1),o=se({etiquetas:[],saludo:[],firma:[]}),M=[{bg:"#ff9191"},{bg:"#ffb15e"},{bg:"#7ad690"},{bg:"#91cdff"},{bg:"#c591ff"},{bg:"#ff91d5"}],S=m(null),k=m([]),d=m(""),E=m(null),y=m(""),q=m(null),N=()=>{_.value=!0},O=l=>{let t=k.value[l].descripcion;P(t,l)};function P(l,t){F("addTexto",{respuesta:l,index:t})}const Q=l=>{q.value=l.bg,E.value=l.bg},Y=()=>{o.clearErrors(),d.value.trim().length===0?w("error","Error","Por favor ingresá un nombre a la etiqueta."):y.value.trim().length===0?w("error","Error","Por favor ingresá la respuesta rápida."):o.etiquetas.some(t=>t.titulo===d.value)?w("error","Error","Ya existe el nombre de la etiqueta."):(o.etiquetas.push({id:null,titulo:d.value,tipo:U.tipo,descripcion:y.value,color:E.value}),w("success","Mensaje","Respuesta agregada, no te olvides de guardar los cambios."),d.value=null,y.value=null,E.value=null)},G=async l=>{const t=o.etiquetas[l];if(o.etiquetas.splice(l,1),t.id!==null)try{await I.delete(route(z+".destroy",t.id))}catch(i){console.error("Error al eliminar usuario:",i)}else return};K(()=>{R(),q.value=M[0].bg,E.value=M[0].bg});const R=()=>{I.get(route(z+".index",U.tipo)).then(l=>{k.value=l.data.respuestas;var t=l.data.firma,i=l.data.saludo;o.etiquetas=k.value.map(p=>({id:p.id,titulo:p.titulo,tipo:p.tipo,descripcion:p.descripcion,color:p.color})),o.firma.push(t),o.saludo.push(i)}).finally(()=>{A.hide()})},H=()=>{o.reset(),o.clearErrors(),_.value=!1},W=()=>{o.clearErrors(),o.post(route(z+".update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{_.value=!1,w("success","Mensaje","Se ha editado"),U.tipo=="pregunta"&&setTimeout(()=>{te.get(route(De+".preguntas.lista"))},500),R()},onFinish:()=>{},onError:()=>{}})},J=l=>{d.value=l.target.value.toUpperCase()},w=(l,t,i)=>{L.add({severity:l,summary:t,detail:i,life:4e3})};return(l,t)=>{const i=B("Button"),p=B("Dialog");return r(),n("section",null,[(r(!0),n(g,null,x(k.value,(e,u)=>(r(),n("button",{onClick:C(c=>O(u),["prevent"]),class:"px-3 py-1 m-1 text-sm text-white rounded text-medium",style:T({backgroundColor:e.color})},X(e.titulo),13,re))),256)),s("button",{onClick:C(N,["prevent"]),class:"w-full bg-gray-200 hover:bg-gray-300 text-xs p-2 rounded mt-3 flex items-center justify-center gap-2"},[ne,D(" Modificar respuestas rápidas ")],8,ae),f(p,{visible:_.value,"onUpdate:visible":t[6]||(t[6]=e=>_.value=e),modal:"",header:Be,style:{width:"70rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},position:"top",pt:{header:{class:"mt-6 p-2 lg:p-4 "},content:{class:"p-4 lg:p-4"}}},{default:Z(()=>[s("div",ie,[s("div",ue,[v(s("input",{type:"text",placeholder:"ETIQUETA",onInput:t[0]||(t[0]=e=>J(e)),"onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),class:"placeholder:text-white text-center text-[16px] border font-normal h-10 rounded-md w-full py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",style:T({backgroundColor:q.value||"#ffffff"})},null,36),[[b,d.value]]),s("div",ce,[(r(),n(g,null,x(M,(e,u)=>s("button",{key:u,class:j(["m-1 p-2 rounded-full w-4 h-4 border border-gray-300",{"scale-110 border-gray-800":q.value===e.bg}]),style:T({backgroundColor:e.bg,filter:S.value===u?"brightness(0.9)":"brightness(1)"}),onMouseover:c=>S.value=u,onMouseleave:t[2]||(t[2]=c=>S.value=null),onClick:c=>Q(e)},null,46,de)),64))])]),s("div",pe,[v(s("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>y.value=e),rows:"3",placeholder:"Ingresá la respuesta rápida",class:"w-full h-[60px] border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"},null,512),[[b,y.value]])]),s("div",me,[s("button",{type:"button",onClick:C(Y,["prevent"]),class:"w-full h-[60px] bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md"}," Agregar ",8,fe)])]),s("form",{onSubmit:C(W,["prevent"])},[xe,a(o).errors.length>0?(r(),n("div",ve,[f(h,{class:"mt-1 text-lg w-full",message:a(o).errors.etiquetas},null,8,["message"]),(r(!0),n(g,null,x(a(o).errors.campos_etiquetas,e=>(r(),V(h,{class:"mt-1 mb-0 text-lg",message:e},null,8,["message"]))),256)),(r(!0),n(g,null,x(a(o).errors.campos_saludo,e=>(r(),V(h,{class:"mt-1 mb-0 text-lg",message:e},null,8,["message"]))),256)),(r(!0),n(g,null,x(a(o).errors.campos_firma,e=>(r(),V(h,{class:"mt-1 mb-0 text-lg",message:e},null,8,["message"]))),256))])):ee("",!0),(r(!0),n(g,null,x(a(o).etiquetas,(e,u)=>(r(),n("div",be,[s("div",he,[v((r(),n("input",{key:u,type:"text",placeholder:"ETIQUETA","onUpdate:modelValue":c=>e.titulo=c,class:"placeholder:text-gray-500 text-center text-[16px] uppercase border font-normal h-8 rounded-md w-full py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",style:T({backgroundColor:e.color||"#ffffff"})},null,12,_e)),[[b,e.titulo]])]),s("div",ye,[v(s("textarea",{"onUpdate:modelValue":c=>e.descripcion=c,rows:"3",placeholder:"Ingresá la respuesta rápida",class:"w-full h-[60px] border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"},null,8,we),[[b,e.descripcion]])]),s("div",Ce,[s("button",{type:"button",onClick:C(c=>G(u),["prevent"]),class:"w-full h-[34px] bg-red-500 hover:bg-red-600 text-white font-medium rounded-md"},[Ee,D(" Borrar ")],8,ke)])]))),256)),s("div",qe,[s("div",Te,[Ue,v(s("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>a(o).saludo[0].value=e),rows:"3",class:"w-full h-[60px] border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"},null,512),[[b,a(o).saludo[0].value]]),Me,f(h,{class:"mt-1 text-xs",message:a(o).errors.saludo},null,8,["message"])]),s("div",Se,[Ve,v(s("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>a(o).firma[0].value=e),rows:"3",class:"w-full h-[60px] border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"},null,512),[[b,a(o).firma[0].value]]),ze,f(h,{class:"mt-1 text-xs",message:a(o).errors.firma},null,8,["message"])])]),s("div",Re,[f(i,{label:"Cancelar",pt:{root:"mr-3 py-1"},severity:"danger",size:"small",onClick:H,type:"button"}),f(i,{label:"Guardar",size:"small",severity:"success",type:"submit",class:j({"opacity-50":a(o).processing}),disabled:a(o).processing},null,8,["class","disabled"])])],40,ge)]),_:1},8,["visible"])])}}};export{us as default};
