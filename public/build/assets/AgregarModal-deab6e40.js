import{r as d,o as O,O as i,g as U,S as e,V as E,E as t,f as S,j as n,Q as Y,a2 as N,t as R,u as F}from"./@vue-1043e4d5.js";import{_ as m}from"./InputError-933cc936.js";import{_ as u}from"./InputLabel-bc304214.js";import{T as j,O as z}from"./@inertiajs-ab1bf9dd.js";import{a as L}from"./axios-4a70c6fc.js";import{aG as $}from"./primevue-232ee6f7.js";import{i as G}from"./vue-datepicker-next-31061510.js";import"./deepmerge-34bd70bf.js";import"./apexcharts-f697a6eb.js";import"./qs-ba0d1d34.js";import"./side-channel-009c6bc3.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-0f5d75dd.js";import"./nprogress-a144f12f.js";import"./lodash.clonedeep-6a476b09.js";import"./lodash.isequal-cbdfea98.js";import"./date-format-parse-388037e5.js";const H={class:"px-2 pt-0 pb-0 grid grid-cols-12 gap-2 mb-2"},P={class:"col-span-12 shadow-default my-auto"},Q={class:"col-span-12 shadow-default"},q={class:"col-span-12 shadow-default lg:col-span-12"},J={class:"col-span-12 shadow-default my-auto"},K={class:"flex justify-end py-3"},f="pagos-importaciones",yo={__name:"AgregarModal",props:{importacionId:{type:Number,default:null},showAgregar:{type:Boolean,default:!1}},emits:["pass-info"],setup(h,{emit:y}){const g=h,w=$(),_=d("CANCELAR"),c=d(!1),o=j({id:"",nro_carpeta:"",banco:"",fecha_pago:"",nro_transaccion:"",monto:""});function b(){y("pass-info",{store:_.value,importacionId:g.importacionId})}const T=r=>{p.value.code!=o.banco&&(o.banco=p.value.code)};O(()=>{M(g.importacionId)});const p=d(),C=d([{name:"BROU",code:"BROU"},{name:"ITAU",code:"ITAU"},{name:"OTROS",code:"OTROS"}]),M=r=>{L.get(route(f+".showdetalle",r)).then(a=>{var l=a.data.importacion;o.id=l.id,o.nro_carpeta=l.nro_carpeta,c.value=!0})},B=()=>{o.reset(),o.clearErrors(),_.value="CANCELAR",b()},A=()=>{o.clearErrors(),o.post(route(f+".store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{c.value=!1,D("success","Mensaje","Pago Agregado"),setTimeout(()=>{z.get(route(f+".index"))},1e3)},onFinish:()=>{},onError:r=>{console.log(r)}})},D=(r,a,l)=>{w.add({severity:r,summary:a,detail:l,life:3e3})};return(r,a)=>{const l=i("Toast"),I=i("Dropdown"),V=i("InputText"),v=i("Button"),k=i("Dialog");return S(),U("section",null,[e(l),e(k,{visible:c.value,"onUpdate:visible":a[4]||(a[4]=s=>c.value=s),onHide:b,modal:"",header:`Agregar pago a importación: ${t(o).nro_carpeta}`,style:{width:"20vw"},position:"top",pt:{header:{class:"mt-4 p-2"},content:{class:"p-2"}}},{default:E(()=>[n("form",null,[n("div",H,[n("div",P,[e(u,{for:"fecha_pago",value:"Fecha",class:"block text-base font-medium leading-6 text-gray-900"}),e(t(G),{clearable:!1,editable:!0,type:"date","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"p-component col-span-6 text-gray-700 bg-white transition-colors duration-200 border-0 px-0 py-0",value:t(o).fecha_pago,"onUpdate:value":a[0]||(a[0]=s=>t(o).fecha_pago=s),lang:"es",placeholder:"Seleccione Fecha"},null,8,["value"]),e(m,{class:"mt-1 text-xs",message:t(o).errors.fecha_pago},null,8,["message"])]),n("div",Q,[e(u,{for:"banco",value:"Banco",class:"block text-base font-medium leading-6 text-gray-900"}),e(I,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=s=>p.value=s),onChange:T,options:C.value,optionLabel:"name",pt:{root:{class:"w-full"},trigger:{class:"fas fa-caret-down text-gray-200 my-auto"},item:({props:s,state:W,context:x})=>({class:x.selected?"text-white bg-primary-900":x.focused?"bg-blue-100":void 0})},placeholder:"Seleccione banco"},null,8,["modelValue","options","pt"]),e(m,{class:"mt-1 text-xs",message:t(o).errors.banco},null,8,["message"])]),n("div",q,[e(u,{for:"nro_transaccion",value:"Nro. de Transacción",class:"block text-base font-medium leading-6 text-gray-900"}),e(V,{type:"text",id:"nro_transaccion",modelValue:t(o).nro_transaccion,"onUpdate:modelValue":a[2]||(a[2]=s=>t(o).nro_transaccion=s),placeholder:"Ingrese Nro. de Transacción",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),e(m,{class:"mt-1 text-xs",message:t(o).errors.nro_transaccion},null,8,["message"])]),n("div",J,[e(u,{for:"monto",value:"Monto",class:"block text-base font-medium leading-6 text-gray-900"}),Y(n("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=s=>t(o).monto=s),class:"p-inputtext p-component text-gray-700 bg-white border appearance-none rounded text-basw h-9 m-0 w-full text-end"},null,512),[[N,t(o).monto]]),e(m,{class:"mt-1 text-xs",message:t(o).errors.monto},null,8,["message"])])]),n("div",K,[e(v,{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:B,type:"button"}),e(v,{label:"Guardar",size:"small",type:"button",onClick:R(A,["prevent"]),class:F({"opacity-50":t(o).processing}),disabled:t(o).processing},null,8,["onClick","class","disabled"])])])]),_:1},8,["visible","header"])])}}};export{yo as default};
