import{r as n,o as F,O as h,P as R,g as x,S as t,E as o,V as s,F as O,f as d,j as a,A as $,z as v,Q as y,R as q,t as H,n as G}from"./@vue-1043e4d5.js";import{_ as K}from"./AppLayout-08ffa2ac.js";import{K as f,T as Q,Z as U,O as b}from"./@inertiajs-ab1bf9dd.js";import{S as w}from"./sweetalert2-c47eda61.js";import{aG as Y,aH as Z,h as T,q as l}from"./primevue-232ee6f7.js";import"./logo-e22dfca4.js";import"./pinia-ff353768.js";import"./@vueuse-54bafaaf.js";import"./@headlessui-edafee9e.js";import"./@heroicons-7e6153ac.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./axios-4a70c6fc.js";import"./deepmerge-34bd70bf.js";import"./apexcharts-f697a6eb.js";import"./qs-ba0d1d34.js";import"./side-channel-009c6bc3.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-0f5d75dd.js";import"./nprogress-a144f12f.js";import"./lodash.clonedeep-6a476b09.js";import"./lodash.isequal-cbdfea98.js";const J={class:"card p-3 bg-white col-span-12 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},L={class:"p-3 col-span-full flex justify-between items-center"},W={class:"align-middle p-3"},X={class:"flex justify-content-end text-md"},P={key:0,class:"text-white flex justify-center items-center"},ee={class:"w-8 h-8 rounded bg-green-600 flex justify-center items-center text-base font-semibold text-white mr-1 hover:bg-green-600"},te=["href"],oe=a("i",{class:"fas fa-file-excel text-white"},null,-1),ae=[oe],re=a("i",{class:"fas fa-trash-alt"},null,-1),_="Importaciones",p="importaciones",Ae={__name:"Index",setup(se){const k=Y(),u=n([]);f().props.auth;const{tipo_cambio:B}=f().props,S=Q({id:""}),C=n(),E=n();F(()=>{u.value=f().props.productos.data,C.value=Array.from(u.value,e=>e),E.value=Array.from({length:u.value.length})}),n(!1),n();const D=e=>{b.get(route(p+".show",e))},N=e=>{w.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar ",text:"Se eliminará definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red",confirmButtonColor:"#2563EB"}).then(i=>{i.isConfirmed&&S.delete(route(p+".destroy",e),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{M("success","Eliminado","Se ha eliminado"),setTimeout(()=>{b.get(route(p+".index"))},1e3)}})})},V=e=>{D(e.data.id)},M=(e,r,i)=>{k.add({severity:e,summary:r,detail:i,life:3e3})},A=()=>{B==!0?b.get(route(p+".create")):I("error","No se ha especificado el tipo de cambio Yuanes para el día")},I=(e,r)=>{w.fire({width:350,title:r,icon:e})},m=n({global:{value:null,matchMode:Z.CONTAINS}});return(e,r)=>{const i=h("Toast"),j=h("InputText"),z=h("DataTable"),g=R("tooltip");return d(),x(O,null,[t(o(U),{title:_}),t(K,{pagina:[{label:_,link:!1}]},{default:s(()=>[a("div",J,[t(i),a("div",L,[a("h5",{class:"text-2xl font-medium"},$(_)),t(o(T),{size:"small",label:"Importar Excel",severity:"success",onClick:A})]),a("div",W,[t(z,{filters:m.value,value:C.value,scrollable:"",scrollHeight:"700px",paginator:"",rows:50,resizableColumns:"",columnResizeMode:"expand",pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"}},onRowClick:V,size:"small"},{header:s(()=>[a("div",X,[t(j,{modelValue:m.value.global.value,"onUpdate:modelValue":r[0]||(r[0]=c=>m.value.global.value=c),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:s(()=>[v(" No existe Resultado ")]),loading:s(()=>[v(" Cargando... ")]),default:s(()=>[t(o(l),{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"},headerContent:{class:"text-center"},bodyCellContent:{class:"text-center"}}}),t(o(l),{field:"fecha_arribado",sortable:"",header:"Fecha Arribado",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"},headerContent:{class:"text-center"},bodyCellContent:{class:"flex align-items-center text-center"}}}),t(o(l),{field:"estado",header:"Estado de pedido",sortable:"",pt:{bodyCell:{class:"text-center"},headerContent:{class:"text-center"},bodyCellContent:{class:"text-center"}}}),t(o(l),{field:"total",sortable:"",header:"Total",pt:{bodyCell:{class:"text-center"},headerContent:{class:"text-center"},bodyCellContent:{class:"text-center"}}}),t(o(l),{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"},headerContent:{class:"text-center"},bodyCellContent:{class:"text-center"}}}),t(o(l),{field:"cantidad_productos",sortable:"",header:"Cantidad productos",pt:{bodyCell:{class:"text-center"},headerContent:{class:"text-center"},bodyCellContent:{class:"text-center"}}}),t(o(l),{header:"Acciones",style:{width:"130px"},pt:{bodycell:{class:"px-auto text-center"}}},{body:s(c=>[c.data!=null?(d(),x("div",P,[y((d(),x("span",ee,[a("a",{href:e.route("importaciones.exportar",c.data.id),target:"_blank",class:"py-auto"},ae,8,te)])),[[g,{value:"Descargar Excel",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]),y((d(),q(o(T),{class:"w-8 h-8 rounded bg-red-700 border-0 px-2 text-base font-normal text-white m-1 hover:bg-red-600",onClick:H(le=>N(c.data.id),["prevent"])},{default:s(()=>[re]),_:2},1032,["onClick"])),[[g,{value:"Eliminar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]])])):G("",!0)]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{Ae as default};
