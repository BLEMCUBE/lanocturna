import{_ as N}from"./AppLayout-DGXGhT07.js";import{K as m,Z as j,O}from"./@inertiajs-BPLxF6VH.js";import{i as T}from"./vue-datepicker-next-BBtlwD79.js";import{h as d}from"./moment-D15uM1gO.js";import{aI as V}from"./primevue-DlS7f910.js";import{s as f,a as A,e as L,b as S,c as R}from"./date-fns-Bj3OEEs3.js";import{r as c,o as B,M as p,N as E,e as h,f as w,Q as t,ab as u,S as r,i as o,y as D,x as g,O as I,j as F,F as U}from"./@vue-BG0wrCoO.js";import"./logo-C8Jea0Rc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./loader-DTMt_fBO.js";import"./pinia-f5v7c1ZR.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-CipxKyPu.js";import"./axios-ngrFHoWO.js";import"./deepmerge-CejY7WQD.js";import"./qs-DSMFT7gQ.js";import"./side-channel-C2E4DO94.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-sCGRVelf.js";import"./nprogress-D6y_-DtI.js";import"./lodash.clonedeep-DcClQ2Wp.js";import"./lodash.isequal-qgBWtdDc.js";import"./date-format-parse-DuecP4dO.js";import"./@babel-QjJsDpFa.js";const K={class:"card px-4 mb-4 col-span-12 rounded-lg"},$=o("div",{class:"col-span-full flex justify-between items-center"},[o("h5",{class:"text-2xl font-medium"},"Listado Productos RMA")],-1),z={class:"grid grid-cols-12 gap-4 mt-4 mb-2"},H={class:"grid grid-cols-1 col-span-full gap-4 lg:grid-cols-12 mt-2 2lg:grid-cols-12"},Q={class:"col-span-1 md:col-span-3 lg:col-span-3"},Z={class:"card p-3 bg-white col-span-12 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},q={class:"flex justify-content-end text-md"},G={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},J=o("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),W=["src"],X="Productos Rma",ee="reportes",Be={__name:"ProductosRma",setup(te){const{roles:x}=m().props.auth,_=c([]),v=c(),s=c(),b=e=>{e[0]!=null&&e[1]!=null&&(O.get(route(ee+".productosrma"),{inicio:d(e[0]).format("YYYY-MM-DD"),fin:d(e[1]).format("YYYY-MM-DD")},{preserveState:!0,onSuccess:()=>{v.value=m().props.total_cantidad,_.value=m().props.total_productos}}),s.value=[d(e[0]).format("YYYY-MM-DD"),d(e[1]).format("YYYY-MM-DD")])},Y=()=>{if(s.value[0]!=null&&s.value[1]!=null)window.open(route("reportes.exportproductorma",[{inicio:s.value[0],fin:s.value[1]}]),"_blank");else return};B(()=>{s.value=[f(new Date,30),new Date],b(s.value)});const i=c({global:{value:null,matchMode:V.CONTAINS}}),y=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[f(new Date,1),f(new Date,1)]}},{text:"Este mes",onClick(){return[A(new Date),L(new Date)]}},{text:"Este aÃ±o",onClick(){return[S(new Date),R(new Date)]}}];return(e,l)=>{const C=p("InputText"),k=p("Button"),n=p("Column"),M=p("DataTable"),P=E("tooltip");return w(),h(U,null,[t(u(j),{title:"Reporte Ventas"}),t(N,{pagina:[{label:"Reportes",link:!1},{label:X,link:!1}]},{default:r(()=>[o("div",K,[$,o("div",z,[o("div",H,[o("div",Q,[t(u(T),{onChange:b,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:s.value,"onUpdate:value":l[0]||(l[0]=a=>s.value=a),shortcuts:y,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])])]),o("div",Z,[o("b",null," TOTAL CANTIDADES : "+D(v.value)+" ",1),t(M,{size:"small",filters:i.value,"onUpdate:filters":l[3]||(l[3]=a=>i.value=a),value:_.value,paginator:!0,rows:20,rowsPerPageOptions:[20,40,100,200],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},{header:r(()=>[o("div",q,[t(C,{modelValue:i.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=a=>i.value.global.value=a),placeholder:"Buscar"},null,8,["modelValue"]),u(x).includes("Super Administrador")||u(x).includes("Administrador")?I((w(),h("div",G,[t(k,{onClick:l[2]||(l[2]=a=>Y()),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:r(()=>[J]),_:1})])),[[P,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):F("",!0)])]),empty:r(()=>[g(" No existe Resultado ")]),loading:r(()=>[g(" Cargando... ")]),default:r(()=>[t(n,{field:"sku",header:"SKU"}),t(n,{field:"imagen",header:"Imagen",pt:{bodyCell:{class:"flex justify-center text-center w-12"},headerCell:{class:"w-10"}}},{loading:r(()=>[]),body:r(a=>[o("img",{class:"rounded bg-white shadow-2xl border-2 text-center w-10 h-10 object-contain",src:a.data.imagen,alt:"image"},null,8,W)]),_:1}),t(n,{field:"nombre",header:"Nombre",sortable:""}),t(n,{field:"ventas_totales",header:"Cantidad",sortable:"",pt:{bodyCell:{class:"flex justify-center text-center w-14"},headerCell:{class:"w-14"}}}),t(n,{field:"porcentaje",header:"Porcentaje",sortable:"",pt:{bodyCell:{class:"text-center w-20"},headerCell:{class:"w-20"}}},{body:r(a=>[g(D(a.data.porcentaje)+" % ",1)]),_:1})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{Be as default};
