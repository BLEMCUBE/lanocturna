import{_ as st}from"./AppLayout-30bee2ca.js";import{K as i,T as rt,Z as dt,O as A}from"./@inertiajs-ab1bf9dd.js";import{aH as P}from"./primevue-232ee6f7.js";import{i as j}from"./vue-datepicker-next-31061510.js";import{h as _}from"./moment-fbc5633a.js";import{a as F}from"./axios-4a70c6fc.js";import{s as g,a as U,e as z,b as H,c as X}from"./date-fns-7c3f4903.js";import{r as u,o as nt,O as v,P as it,g as h,S as o,E as s,V as c,F as $,f as x,j as t,A as n,Q as G,R as ct,n as O,v as ut,z as b}from"./@vue-1043e4d5.js";import"./logo-e22dfca4.js";import"./pinia-ff353768.js";import"./@vueuse-54bafaaf.js";import"./sweetalert2-c47eda61.js";import"./apexcharts-f697a6eb.js";import"./@headlessui-edafee9e.js";import"./@heroicons-7e6153ac.js";import"./deepmerge-34bd70bf.js";import"./qs-ba0d1d34.js";import"./side-channel-009c6bc3.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-0f5d75dd.js";import"./nprogress-a144f12f.js";import"./lodash.clonedeep-6a476b09.js";import"./lodash.isequal-cbdfea98.js";import"./date-format-parse-388037e5.js";import"./@babel-7fd5df1e.js";const mt={class:"card px-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-3 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},pt={class:"grid grid-cols-12 justify-center"},xt={class:"px-0 py-0 m-2 mt-0 text-white col-span-2 flex justify-end items-center"},ft=t("i",{class:"fas fa-edit"},null,-1),_t={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-0 rounded-t-xl max-w-xs md:max-w-5xl mx-auto bg-white"},ht={class:"w-2/3"},bt={class:"font-bold text-gray-800 md:text-2xl text-xl"},gt={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-0 rounded-b-xl p-3 max-w-xs md:max-w-5xl mx-auto border border-white bg-white"},vt={class:"w-full md:w-1/3 bg-white grid place-items-center"},wt=["alt","src"],yt={class:"w-full md:w-2/3 bg-white p-3 space-x-1 space-y-0"},Dt={class:"w-full flex flex-col md:flex-row pb-2"},Ct=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 md:text-2xl text-xl"},"Stock:")],-1),kt={class:"w-full md:w-2/3"},Yt={class:"font-normal text-gray-800 md:text-2xl text-xl"},Mt={class:"w-full flex flex-col md:flex-row pb-2"},At=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"},"SKU:")],-1),Ot={class:"w-full md:w-2/3"},It={class:"font-normal text-gray-800 text-base"},St={class:"w-full flex flex-col md:flex-row pb-3"},Et=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"},"CÓDIGO DE BARRA:")],-1),Vt={class:"w-full md:w-2/3"},Nt={class:"font-normal text-gray-800 text-base"},Tt=t("div",{class:"w-full flex flex-col md:flex-row pt-2"},[t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"PRÓXIMO INGRESO")])],-1),Bt=t("div",{class:"w-full flex"},[t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"IMPORTACIÓN")]),t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"CANTIDAD")]),t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"FECHA APROX.")])],-1),Rt={key:0,class:"w-full"},Pt={class:"w-full flex py-1"},jt={class:"w-full text-center"},Ft={class:"font-normal text-gray-800 text-lg"},Ut={class:"w-full text-center"},zt={class:"font-normal text-gray-800 text-lg"},Ht={class:"w-full text-center"},Xt={class:"font-normal text-gray-800 text-lg"},$t=t("div",{class:"w-full flex flex-col md:flex-row pt-2"},[t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"COSTO APROXIMADO")])],-1),Gt={class:"w-full flex flex-col md:flex-row py-1"},Kt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," USD (IVA INC.):")],-1),Lt={class:"w-full md:w-2/3"},Qt={class:"font-normal text-gray-800 text-base"},Wt={class:"w-full flex flex-col md:flex-row py-1"},Zt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," Cotización Yuanes:")],-1),qt={class:"w-full md:w-2/3"},Jt={class:"font-normal text-gray-800 text-base"},te={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},ee={class:"bg-gray-100 rounded-t-lg py-2 px-3"},oe={class:"text-2xl font-medium pb-0 pl-2"},le=t("div",{class:"bg-gradient-to-r from-primary-900 to-primary-100 h-1 mb-4"},null,-1),ae={class:"align-middle p-2"},se={class:"flex justify-content-end text-md"},re={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},de={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},ne=t("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),ie={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},ce={class:"bg-gray-100 rounded-t-lg py-2 px-3"},ue={class:"text-2xl font-medium pb-0 pl-2"},me=t("div",{class:"bg-gradient-to-r from-secondary-900 to-secondary-100 h-1 mb-4"},null,-1),pe={class:"align-middle p-2"},xe={class:"flex justify-content-end text-md"},fe={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},I="Detalle Producto",w="productos",Ke={__name:"Show",setup(_e){const{permissions:K}=i().props.auth,L=u("/images/productos/sin_foto.png"),{roles:S}=i().props.auth,{costo_aprox:Q}=i().props,{productoEnCamino:E}=i().props,{ultimo_yang:V}=i().props,y=u(),D=u(),C=u(),k=u(),l=rt({id:"",origen:"",nombre:"",aduana:"",codigo_barra:"",stock:0,stock_minimo:0,imagen:"",photo:"",categorias:[]}),N=u([new Date,new Date]),T=u([new Date,new Date]),f=u([]),W=e=>{e[0]!=null&&e[1]!=null?(f.value=[e[0],e[1]],F.get(route(w+".productoventa",[i().props.producto.id,_(e[0]).format("YYYY-MM-DD"),_(e[1]).format("YYYY-MM-DD")])).then(a=>{var m=a.data;y.value=m.cantidad,C.value=Array.from(m.productoventa,p=>p)})):location.reload()},Z=e=>{f.value[0]!=null&&f.value[1]!=null?window.open(route("productos.exportproductoventas",[l.id,{inicio:f.value[0],fin:f.value[1]}]),"_blank"):window.open(route("productos.exportproductoventas",[l.id]),"_blank")},q=e=>{e[0]!=null&&e[1]!=null?F.get(route(w+".productoimportacion",[i().props.producto.id,_(e[0]).format("YYYY-MM-DD"),_(e[1]).format("YYYY-MM-DD")])).then(a=>{var m=a.data;D.value=m.cantidad_importacion,k.value=Array.from(m.producto,p=>p)}):location.reload()},J=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[g(new Date,1),g(new Date,1)]}},{text:"Este mes",onClick(){return[U(new Date),z(new Date)]}},{text:"Este año",onClick(){return[H(new Date),X(new Date)]}}],tt=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[g(new Date,1),g(new Date,1)]}},{text:"Este mes",onClick(){return[U(new Date),z(new Date)]}},{text:"Este año",onClick(){return[H(new Date),X(new Date)]}}],et=e=>_(e).format("DD/MM/YYYY");nt(()=>{C.value=Array.from(i().props.productoventa,a=>a),D.value=i().props.cantidad_importacion,y.value=i().props.cantidad,k.value=Array.from(i().props.productoImportacion,a=>a);var e=i().props.producto;l.id=e.id,l.nombre=e.nombre,l.origen=e.origen,l.aduana=e.aduana,l.codigo_barra=e.codigo_barra,l.stock=e.stock,l.stock_minimo=e.stock_minimo,l.stock_futuro=e.stock_futuro,L.value=e.imagen,l.imagen=e.imagen,l.categorias=e.categorias});const Y=u({global:{value:null,matchMode:P.CONTAINS}}),M=u({global:{value:null,matchMode:P.CONTAINS}}),ot=e=>{A.get(route(w+".edit",e))},lt=e=>{A.get(route("ventas.show",e.data.venta_id))},at=e=>{A.get(route("importaciones.show",e.data.importacion_id))};return(e,a)=>{const m=v("Button"),p=v("InputText"),d=v("Column"),B=v("DataTable"),R=it("tooltip");return x(),h($,null,[o(s(dt),{title:I}),o(st,{pagina:[{label:"Productos",link:!0,url:e.route(w+".index")},{label:I,link:!1}]},{default:c(()=>[t("div",mt,[t("div",pt,[t("div",{class:"px-3 col-span-10 flex justify-between items-center"},[t("h5",{class:"text-xl font-medium"},n(I))]),t("div",xt,[s(K).includes("editar-productos")?G((x(),ct(m,{key:0,label:"Editar",onClick:a[0]||(a[0]=r=>ot(s(l).id)),pt:{root:{class:"flex items-center bg-primary-900 justify-center font-medium w-10"},label:{class:"hidden"}}},{default:c(()=>[ft]),_:1})),[[R,{value:"Editar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):O("",!0)])]),t("div",_t,[t("div",ht,[t("h3",bt,n(s(l).nombre),1)])]),t("div",gt,[t("div",vt,[t("img",{alt:s(l).nombre,src:s(l).imagen,class:"rounded-xl"},null,8,wt)]),t("div",yt,[t("div",Dt,[Ct,t("div",kt,[t("h3",Yt,n(s(l).stock),1)])]),t("div",Mt,[At,t("div",Ot,[t("h3",It,n(s(l).origen),1)])]),t("div",St,[Et,t("div",Vt,[t("h3",Nt,n(s(l).codigo_barra),1)])]),Tt,Bt,s(E).length>0?(x(),h("div",Rt,[(x(!0),h($,null,ut(s(E),r=>(x(),h("div",Pt,[t("div",jt,[t("h3",Ft,n(r.nro_carpeta),1)]),t("div",Ut,[t("h3",zt,n(r.cantidad_total),1)]),t("div",Ht,[t("h3",Xt,n(r.fecha_arribado),1)])]))),256))])):O("",!0),$t,t("div",Gt,[Kt,t("div",Lt,[t("h3",Qt,n(s(Q)),1)])]),t("div",Wt,[Zt,t("div",qt,[t("h3",Jt,n(s(V)>0?s(V):"-"),1)])])])]),t("div",te,[t("div",ee,[t("h2",oe,"Pedidos: "+n(y.value),1)]),le,t("div",ae,[o(B,{filters:Y.value,onRowClick:lt,value:C.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{numToleratedItems:30,itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:c(()=>[t("div",se,[o(p,{modelValue:Y.value.global.value,"onUpdate:modelValue":a[1]||(a[1]=r=>Y.value.global.value=r),placeholder:"Buscar"},null,8,["modelValue"]),t("div",re,[o(s(j),{onChange:W,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:N.value,"onUpdate:value":a[2]||(a[2]=r=>N.value=r),shortcuts:J,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])]),s(S).includes("Super Administrador")||s(S).includes("Administrador")?G((x(),h("div",de,[o(m,{onClick:a[3]||(a[3]=r=>Z(s(l).id)),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:c(()=>[ne]),_:1})])),[[R,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):O("",!0)])]),empty:c(()=>[b(" No existe Resultado ")]),loading:c(()=>[b(" Cargando... ")]),default:c(()=>[o(d,{field:"created_at",sortable:"",header:"Fecha",pt:{bodyCell:{class:"text-center"}}},{body:c(({data:r})=>[b(n(et(r.created_at)),1)]),_:1}),o(d,{field:"cantidad",sortable:"",header:"Cantidad",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"precio",sortable:"",header:"Precio",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"destino",sortable:"",header:"Destino",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])]),t("div",ie,[t("div",ce,[t("h2",ue,"Importaciones: "+n(D.value),1)]),me,t("div",pe,[o(B,{filters:M.value,onRowClick:at,value:k.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:c(()=>[t("div",xe,[o(p,{modelValue:M.value.global.value,"onUpdate:modelValue":a[4]||(a[4]=r=>M.value.global.value=r),placeholder:"Buscar"},null,8,["modelValue"]),t("div",fe,[o(s(j),{onChange:q,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:T.value,"onUpdate:value":a[5]||(a[5]=r=>T.value=r),shortcuts:tt,lang:"es",placeholder:"seleccione Fecha",clearable:!1},null,8,["value"])])])]),empty:c(()=>[b(" No existe Resultado ")]),loading:c(()=>[b(" Cargando... ")]),default:c(()=>[o(d,{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"fecha_arribado",header:"Fecha Arribo",sortable:"",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"precio",sortable:"",header:"EXW Precio",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"unidad",sortable:"",header:"Unidad",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"pcs_bulto",sortable:"",header:"PCS/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"bultos",sortable:"",header:"Bulto",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"cantidad_total",sortable:"",header:"Cantidad Total",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"valor_total",sortable:"",header:"Valor Total",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"cbm_bulto",sortable:"",header:"CBM/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(d,{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{Ke as default};
