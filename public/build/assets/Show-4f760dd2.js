import{_ as D}from"./AppLayout-d455366d.js";import{K as u,k as V,T as S,h as j,m as b,f as _,a as g,u as e,w as p,q as h,o as n,Z as B,b as t,c as y,g as m,t as s,d,s as O,O as v}from"./app-9f12951d.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const A={class:"card px-4 py-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},E={class:"px-0 py-1 m-2 mt-0 col-span-full flex justify-start items-center"},N=t("span",{class:"text-black font-semibold"},"Editar",-1),P=t("span",{class:"text-white font-semibold"},"Facturar",-1),$={class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},U={class:"text-2xl font-medium"},M={class:"mx-auto grid max-w-2xl grid-cols-1 gap-x-1 gap-y-1 px-4 py-2 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-8"},R={class:"col-span-1"},q={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},I=t("b",null," Fecha: ",-1),K={class:"col-span-1"},L={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},Z=t("b",null," N° de Venta: ",-1),z={class:"col-span-1"},G={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},H=t("b",null," Estado ",-1),J={class:"col-span-1"},Q={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},W=t("b",null," Total: ",-1),X={class:"col-span-1"},Y={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},tt=t("b",null," Total sin IVA: ",-1),ot={class:"col-span-1"},et={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},st=t("b",null," Moneda: ",-1),at={class:"col-span-1"},dt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},rt=t("b",null," Vendedor: ",-1),lt={class:"col-span-1"},nt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},ct=t("b",null," Facturado por: ",-1),it={class:"col-span-1"},_t={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},gt=t("b",null," Validado por: ",-1),pt={class:"col-span-1"},xt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},ut=t("b",null," Destino: ",-1),bt={class:"col-span-1"},ht={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},yt=t("b",null," Cliente: ",-1),mt={class:"col-span-1"},vt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},ft=t("b",null," Dirección: ",-1),kt={class:"col-span-1"},wt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},Ft=t("b",null," Télefono: ",-1),Tt={class:"col-span-2"},Ct={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},Dt=t("b",null," Observaciones: ",-1),Vt={class:"col-span-3"},St={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},jt=t("b",null," Observaciones: ",-1),Bt=t("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[t("h5",{class:"text-2xl font-medium"},"Productos")],-1),Ot={class:"mx-auto grid max-w-2xl grid-cols-12 overflow-auto gap-x-1 gap-y-0 px-2 py-0 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-1"},At={class:"table-auto mx-2 border border-gray-300 col-span-full"},Et=t("thead",null,[t("tr",{class:"p-2 bg-secondary-900 border"},[t("th",{class:"border border-gray-300 p-1"},"Cantidad"),t("th",{class:"border border-gray-300"},"Origen"),t("th",{class:"border border-gray-300"},"Producto"),t("th",{class:"border border-gray-300"},"Código de Barras"),t("th",{class:"border border-gray-300"},"Precio"),t("th",{class:"border border-gray-300"},"Total")])],-1),Nt={class:"border border-gray-300 p-1"},Pt={class:"border border-gray-300 p-1"},$t={class:"border border-gray-300 p-1"},Ut={class:"border border-gray-300 p-1"},Mt={class:"border border-gray-300 p-1"},Rt={class:"border border-gray-300 p-1"},qt=t("td",{colspan:"5",class:"border border-gray-300 p-1 text-end pr-2"},[t("b",null,"Subtotal: ")],-1),It={class:"border border-gray-300 p-1 text-center"},Kt=t("td",{colspan:"5",class:"border border-gray-300 p-1 text-end pr-2"},[t("b",null,"Total (con impuesto): ")],-1),Lt={class:"border border-gray-300 p-1 text-center"},f="Detalle Venta",c="cajas",Qt={__name:"Show",setup(Zt){u().props.auth;const k=V(),o=S({id:"",vendedor:"",destino:"",codigo:"",total:0,fecha:"",total_sin_iva:0,moneda:"",tipo_cambio:"",estado:"",observaciones:"",productos:[],cliente:"",direccion:"",localidad:"",telefono:""}),w=a=>{v.get(route(c+".edit",a))},F=a=>{o.get(route(c+".facturar",a),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{T("success","Mensaje","Se ha Facturado"),setTimeout(()=>{v.get(route(c+".index"))},1e3)},onFinish:()=>{},onError:()=>{}})},T=(a,l,i)=>{k.add({severity:a,summary:l,detail:i,life:3e3})};return j(()=>{var a=u().props.venta.data;o.id=a.id,o.fecha=a.fecha,o.vendedor=a.vendedor,o.facturador=a.facturador,o.validador=a.validador,o.observaciones=a.observaciones,o.destino=a.destino,o.cliente=a.cliente,o.direccion=a.direccion,o.localidad=a.localidad,o.telefono=a.telefono,o.moneda=a.moneda,o.estado=a.estado,o.productos=a.productos,o.total_sin_iva=a.total_sin_iva,o.total=a.total,o.codigo=a.codigo}),(a,l)=>{const i=b("Toast"),x=b("Button");return n(),_(h,null,[g(e(B),{title:f}),g(D,{pagina:[{label:"Caja",link:!0,url:a.route(c+".index")},{label:f,link:!1}]},{default:p(()=>[t("div",A,[g(i),t("div",E,[e(o).estado!="FACTURADO"?(n(),y(x,{key:0,onClick:l[0]||(l[0]=r=>w(e(o).id)),class:"rounded border-0 bg-yellow-500 px-2 py-0.5 text-base font-normal m-2 hover:bg-yellow-600"},{default:p(()=>[N]),_:1})):m("",!0),e(o).estado!="FACTURADO"?(n(),y(x,{key:1,onClick:l[1]||(l[1]=r=>F(e(o).id)),class:"rounded border-0 bg-green-700 px-2 py-0.5 text-base font-normal m-2 hover:bg-green-600"},{default:p(()=>[P]),_:1})):m("",!0)]),t("div",$,[t("h5",U,"Cliente: "+s(e(o).cliente),1)]),t("div",M,[t("div",R,[t("p",q,[I,d(" "+s(e(o).fecha),1)])]),t("div",K,[t("p",L,[Z,d(" "+s(e(o).codigo),1)])]),t("div",z,[t("p",G,[H,d(" "+s(e(o).estado),1)])]),t("div",J,[t("p",Q,[W,d(" "+s(e(o).total.toFixed(2)),1)])]),t("div",X,[t("p",Y,[tt,d(" "+s(e(o).total_sin_iva.toFixed(2)),1)])]),t("div",ot,[t("p",et,[st,d(" "+s(e(o).moneda),1)])]),t("div",at,[t("p",dt,[rt,d(" "+s(e(o).vendedor),1)])]),t("div",lt,[t("p",nt,[ct,d(" "+s(e(o).facturador),1)])]),t("div",it,[t("p",_t,[gt,d(" "+s(e(o).validador),1)])]),t("div",pt,[t("p",xt,[ut,d(" "+s(e(o).destino),1)])]),t("div",bt,[t("p",ht,[yt,d(" "+s(e(o).cliente),1)])]),t("div",mt,[t("p",vt,[ft,d(" "+s(e(o).direccion),1)])]),t("div",kt,[t("p",wt,[Ft,d(" "+s(e(o).telefono),1)])]),t("div",Tt,[t("p",Ct,[Dt,d(" "+s(e(o).observaciones),1)])]),t("div",Vt,[t("p",St,[jt,d(" "+s(e(o).observaciones),1)])])]),Bt,t("div",Ot,[t("table",At,[Et,t("tbody",null,[(n(!0),_(h,null,O(e(o).productos,(r,C)=>(n(),_("tr",{key:C,class:"font-sans text-center font-normal text-gray-800 border border-gray-300"},[t("td",Nt,s(r.cantidad),1),t("td",Pt,s(r.producto.origen),1),t("td",$t,s(r.producto.nombre),1),t("td",Ut,s(r.producto.codigo_barra),1),t("td",Mt,s(r.precio_sin_iva.toFixed(2)),1),t("td",Rt,s(r.total_sin_iva.toFixed(2)),1)]))),128))]),t("tfoot",null,[t("tr",null,[qt,t("td",It,[t("b",null,s(e(o).moneda=="Pesos"?"$ ":"USD ")+" "+s(e(o).total_sin_iva.toFixed(2)),1)])]),t("tr",null,[Kt,t("td",Lt,[t("b",null,s(e(o).moneda=="Pesos"?"$ ":"USD ")+" "+s(e(o).total.toFixed(2)),1)])])])])])])]),_:1},8,["pagina"])],64)}}};export{Qt as default};
