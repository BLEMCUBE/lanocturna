import{k as w,l as g,h as k,T as V,m as C,f as S,a as s,w as M,o as U,b as l,t as z,e as B,u as a,y as N,n as $,O as j}from"./app-2a1f8639.js";import{_ as u}from"./InputError-a98030b8.js";import{_ as c}from"./InputLabel-22035301.js";import{_ as E}from"./Modal-c62082cf.js";import{_ as i}from"./TextInput-fa382cdb.js";import{s as I}from"./multiselect-d18c643d.js";const O={class:"space-y-4"},T={class:"p-2"},D=["onSubmit"],F={class:"px-2 grid grid-cols-6 gap-4 md:gap-3 2xl:gap-6 mb-2"},A={class:"col-span-6 shadow-default xl:col-span-3"},G={class:"col-span-6 shadow-default xl:col-span-3"},K={class:"col-span-6 shadow-default xl:col-span-3"},P={class:"col-span-6 shadow-default xl:col-span-3"},R={class:"flex justify-end pt-3"},f="Usuario",b="usuarios",Y={__name:"CrearModal",setup(W){const x=w(),d=g(!1);k(()=>{});const _=()=>{axios.get(route("opciones.roles")).then(t=>{d.value=!0;var o=t.data;m.value.options=o.lista_roles})},m=g({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!0,options:[]}),p=()=>{e.reset(),e.clearErrors(),d.value=!1},e=V({name:"",username:"",password:"",rol:""}),v=()=>{e.post(route(b+".store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{d.value=!1,y("success","Mensaje","Se ha creado"),setTimeout(()=>{j.get(route(b+".index"))},1e3)},onFinish:()=>{},onError:()=>{}})},y=(t,o,n)=>{x.add({severity:t,summary:o,detail:n,life:3e3})},h=t=>{t.target.value=t.target.value.replace(/[^a-z0-9]/gi,""),t.target.value=(""+t.target.value).replace(/\s+/g,"")};return(t,o)=>{const n=C("Button");return U(),S("section",O,[s(n,{size:"small",onClick:_,type:"button",label:"Agregar "+f,severity:"success"},null,8,["label"]),s(E,{show:d.value,onClose:p,maxWidth:"lg"},{default:M(()=>[l("div",T,[l("div",{class:"p-4 mb-4 rounded-t flex justify-between items-center border-b border-gray-200 dark:border-gray-600"},[l("h5",{class:"text-xl font-normal"},"Crear "+z(f))]),l("form",{onSubmit:B(v,["prevent"])},[l("div",F,[l("div",A,[s(c,{for:"name",value:"Nombre",class:"block text-base font-normal leading-6 text-gray-900"}),s(i,{id:"name",type:"text",modelValue:a(e).name,"onUpdate:modelValue":o[0]||(o[0]=r=>a(e).name=r),autocomplete:"nombre",placeholder:"Ingrese Nombre"},null,8,["modelValue"]),s(u,{class:"mt-1 text-xs",message:a(e).errors.name},null,8,["message"])]),l("div",G,[s(c,{for:"username",value:"Usuario",class:"block text-base font-normal leading-6 text-gray-900"}),s(i,{id:"username",type:"text",onKeyup:h,modelValue:a(e).username,"onUpdate:modelValue":o[1]||(o[1]=r=>a(e).username=r),autocomplete:"username",placeholder:"Ingrese usuario"},null,8,["modelValue"]),s(u,{class:"mt-1 text-xs",message:a(e).errors.username},null,8,["message"])]),l("div",K,[s(c,{for:"password",value:"Contraseña",class:"block text-base font-normal leading-6 text-gray-900"}),s(i,{id:"password",type:"password",modelValue:a(e).password,"onUpdate:modelValue":o[2]||(o[2]=r=>a(e).password=r),placeholder:"Ingrese Contraseña",class:"block w-full text-gray-900 border border-gray-300 rounded bg-gray-50 sm:text-base focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["modelValue"]),s(u,{class:"mt-1 text-xs",message:a(e).errors.password},null,8,["message"])]),l("div",P,[s(c,{for:"rol",value:"Rol",class:"block text-base font-normal leading-6 text-gray-900"}),s(a(I),N({id:"rol",modelValue:a(e).rol,"onUpdate:modelValue":o[3]||(o[3]=r=>a(e).rol=r)},m.value),null,16,["modelValue"]),s(u,{class:"mt-1 text-xs",message:a(e).errors.rol},null,8,["message"])])]),l("div",R,[s(n,{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:p,type:"button"}),s(n,{label:"Guardar",size:"small",type:"submit",class:$({"opacity-50":a(e).processing}),disabled:a(e).processing},null,8,["class","disabled"])])],40,D)])]),_:1},8,["show"])])}}};export{Y as default};
