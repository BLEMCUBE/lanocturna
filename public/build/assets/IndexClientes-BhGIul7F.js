import{r as g,o as N,R as h,f as c,g as d,W as n,E as M,Y as s,j as t,D as V,u as v,y as u,C as k,F as $}from"./@vue-BLfC86mR.js";import{_ as j}from"./AppLayout-Dcv1NtsU.js";import{T as I,K as E,Z as F,O as x}from"./@inertiajs-CMyvZJ1U.js";import{aH as O,aI as R}from"./primevue-DAb-R_om.js";import A from"./CrearModal-DA-zTTJV.js";import q from"./EditarModal-B5i5Pn3g.js";import{S as C}from"./sweetalert2-DhUVDY3P.js";import{u as U}from"./loader-D-Kjbgh8.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-Ck_2Ecjm.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./InputError-DdpGOVhM.js";import"./InputLabel-CkCrW4zf.js";const z={class:"px-4 py-3 mb-4 bg-white col-span-12 dark:border-gray-700 dark:bg-gray-800"},H={class:"px-5 pb-2 col-span-full flex justify-between items-center"},K={class:"align-middle"},P={class:"flex justify-content-end text-md"},W={class:"flex justify-end justify-items-center"},Y={key:0,class:"mx-2 inline-block rounded bg-green-700 px-2 py-1 text-xs font-medium text-white mb-0 hover:bg-green-600"},Z=["onClick"],G={key:1,class:"flex"},J={class:"mx-2 rounded bg-red-700 px-1 py-1 text-xs font-normal text-white mb-0 hover:bg-red-600"},Q=["onClick"],X={key:0,class:"mx-2 inline-block rounded bg-blue-700 p-1 py-1 text-xs font-normal text-white mb-0 hover:bg-blue-600"},ee=["onClick"],te={class:"mx-2"},oe={class:"inline-block rounded bg-primary-900 px-2 py-1 text-base font-medium text-white mb-0 hover:bg-primary-100"},ne={key:2,class:"mx-2 inline-block rounded bg-red-700 px-2 py-1 text-base font-medium text-white mb-0 hover:bg-red-600"},ae=["onClick"],ie=t("i",{class:"fas fa-trash-alt"},null,-1),re=[ie],y="ML Clientes",r="mercadolibre.clientes",Pe={__name:"IndexClientes",setup(se){U();const w=O(),b=g(),p=I({id:""});N(()=>{b.value=E().props.items.data});const _=(a,o,l)=>{w.add({severity:a,summary:o,detail:l,life:3e3})},m=g({global:{value:null,matchMode:R.CONTAINS}}),S=(a,o)=>{C.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar "+o,text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red"}).then(i=>{i.isConfirmed&&p.delete(route(r+".destroy",a),{preserveScroll:!0,onSuccess:()=>{_("success","Eliminado","Se ha eliminado"),setTimeout(()=>{x.get(route(r+".index"))},500)}})})},T=(a,o)=>{C.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de Desconectar "+o,icon:"question",showCancelButton:!0,confirmButtonText:"Desconectar",cancelButtonText:"Cancelar",cancelButtonColor:"red"}).then(i=>{i.isConfirmed&&p.get(route(r+".desconectar",a),{preserveScroll:!0,onSuccess:()=>{_("success","Desconectado","Se ha desconectado"),setTimeout(()=>{x.get(route(r+".index"))},500)}})})},B=a=>{p.get(route(r+".refresh-token",a),{preserveScroll:!0,onSuccess:()=>{_("success","Mensaje","Token refrescado"),setTimeout(()=>{x.get(route(r+".index"))},500)}})},D=a=>{let o=route(r+".conectar",a);window.open(o,"_blank")};return(a,o)=>{const l=h("InputText"),i=h("Column"),L=h("DataTable");return d(),c($,null,[n(M(F),{title:"Mercado Libre-Clientes"}),n(j,{pagina:[{label:y,link:!1}]},{default:s(()=>[t("div",z,[t("div",H,[t("h5",{class:"text-2xl font-medium"},V(y)),n(A)]),t("div",K,[n(L,{size:"small",filters:m.value,"onUpdate:filters":o[1]||(o[1]=e=>m.value=e),value:b.value,paginator:!0,rows:10,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",tableStyle:"width: 100%"},{header:s(()=>[t("div",P,[n(l,{modelValue:m.value.global.value,"onUpdate:modelValue":o[0]||(o[0]=e=>m.value.global.value=e),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:s(()=>[k(" No existe Resultado ")]),loading:s(()=>[k(" Cargando... ")]),default:s(()=>[n(i,{field:"nombre",header:"Nombre",sortable:""}),n(i,{field:"client_id",header:"Cliente ID",sortable:""}),n(i,{field:"client_secret",header:"Cliente Secret"}),n(i,{field:"access_token",header:"Token Acceso"}),n(i,{field:"expires_at",header:"Expira"}),n(i,{header:"Acciones",style:{width:"200px"}},{body:s(e=>[t("div",W,[e.data.usuario==0?(d(),c("span",Y,[t("button",{onClick:u(f=>D(e.data.id),["prevent"])},"Conectar ",8,Z)])):(d(),c("div",G,[t("span",J,[t("button",{class:"h-8",onClick:u(f=>T(e.data.id,e.data.nombre),["prevent"])},"Desconectar ",8,Q)]),e.data.is_expired==1?(d(),c("span",X,[t("button",{onClick:u(f=>B(e.data.id),["prevent"])},"Refrescar token ",8,ee)])):v("",!0)])),t("div",te,[t("span",oe,[n(q,{"cliente-id":e.data.id},null,8,["cliente-id"])])]),e.data.is_default==0?(d(),c("span",ne,[t("button",{onClick:u(f=>S(e.data.id,e.data.nombre),["prevent"])},re,8,ae)])):v("",!0)])]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{Pe as default};
