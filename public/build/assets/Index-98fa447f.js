import{k as A,l as v,K as y,T as $,h as z,F as R,m,p as q,f as h,a as t,u as o,w as r,q as G,o as x,Z as H,b as s,t as K,x as U,d as w,A as i,y as k,e as C,g as S,O as d}from"./app-9f12951d.js";import{_ as Z,S as J}from"./AppLayout-d455366d.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const L={class:"card px-4 py-3 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},P={class:"px-3 pb-2 col-span-full flex justify-between items-center"},Q={class:"align-middle"},W={class:"flex justify-content-end text-md"},X=["src"],Y=["onClick"],ee=s("i",{class:"fas fa-edit"},null,-1),te=[ee],oe=["onClick"],se=s("i",{class:"fas fa-trash-alt"},null,-1),ae=[se],b="Productos",n="productos",de={__name:"Index",setup(re){const T=A(),f=v(),{permissions:_}=y().props.auth,F=$({id:""}),B=e=>{if(parseFloat(e.stock)<=parseFloat(e.stock_minimo)&&parseFloat(e.stock)==parseFloat(e.stock_futuro))return["bg-red-700 text-xs text-white"];if(parseFloat(e.stock)<=parseFloat(e.stock_minimo)&&parseFloat(e.stock_futuro)>parseFloat(e.stock))return"bg-orange-500 text-xs text-white"},D=e=>{d.get(route(n+".show",e))},E=e=>{d.get(route(n+".edit",e))},N=(e,l)=>{J.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar "+l,text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red",confirmButtonColor:"#2563EB"}).then(p=>{p.isConfirmed&&F.delete(route(n+".destroy",e),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{V("success","Eliminado","Se ha eliminado"),setTimeout(()=>{d.get(route(n+".index"))},1e3)}})})};z(()=>{f.value=y().props.productos.data});const V=(e,l,c)=>{T.add({severity:e,summary:l,detail:c,life:3e3})},I=()=>{d.get(route(n+".create"))},M=e=>{D(e.data.id)},u=v({global:{value:null,matchMode:R.CONTAINS}});return(e,l)=>{const c=m("Toast"),p=m("InputText"),O=m("DataTable"),g=q("tooltip");return x(),h(G,null,[t(o(H),{title:b}),t(Z,{pagina:[{label:b,link:!1}]},{default:r(()=>[s("div",L,[t(c),s("div",P,[s("h5",{class:"text-2xl font-medium"},K(b)),t(o(U),{size:"small",label:"Agregar Producto",severity:"success",onClick:I})]),s("div",Q,[t(O,{rowClass:B,showGridlines:"",filters:u.value,value:f.value,pt:{bodyRow:{class:"hover:cursor-pointer"}},scrollable:"",scrollHeight:"800px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem",onRowClick:M,size:"small"},{header:r(()=>[s("div",W,[t(p,{modelValue:u.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=a=>u.value.global.value=a),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:r(()=>[w(" No existe Resultado ")]),loading:r(()=>[w(" Cargando... ")]),default:r(()=>[t(o(i),{field:"stock",sortable:"",header:"Stock",pt:{bodyCell:{class:"text-center"}}}),t(o(i),{field:"stock_futuro",sortable:"",header:"Stock futuro",pt:{bodyCell:{class:"text-center"}}}),t(o(i),{field:"imagen",header:"Imagen",style:{width:"60px"},pt:{bodyCell:{class:"flex justify-center text-center"}}},{body:r(a=>[s("img",{class:"rounded bg-white shadow-2xl border-2 text-center w-12 h-12 object-contain",src:a.data.imagen,alt:"image description"},null,8,X)]),_:1}),t(o(i),{field:"origen",header:"Origen",sortable:""}),t(o(i),{field:"nombre",header:"Nombre",sortable:"",pt:{bodyCell:{class:"text-center"}}}),t(o(i),{header:"Acciones",style:{width:"130px"}},{body:r(a=>[o(_).includes("editar-productos")?k((x(),h("button",{key:0,class:"w-8 h-8 rounded bg-primary-900 px-2 py-1 text-base font-normal text-white m-1 hover:bg-primary-100",onClick:C(j=>E(a.data.id),["prevent"])},te,8,Y)),[[g,{value:"Editar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):S("",!0),o(_).includes("eliminar-productos")?k((x(),h("button",{key:1,class:"w-8 h-8 rounded bg-red-700 px-2 py-1 text-base font-normal text-white m-1 hover:bg-red-600",onClick:C(j=>N(a.data.id,a.data.nombre),["prevent"])},ae,8,oe)),[[g,{value:"Eliminar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):S("",!0)]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{de as default};
