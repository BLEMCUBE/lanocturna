import{r as j,o as B,R as F,f as d,g as l,W as p,E as m,Y as f,j as e,y as G,D as x,F as u,A as g,C as b,U as P,z as $}from"./@vue-BLfC86mR.js";import{_ as D}from"./AppLayout-BWpqwQoE.js";import{_ as N}from"./CheckboxName-EtAJYR-S.js";import{_ as U}from"./PrimaryButton-0DVc3dLp.js";import{K as _,T as V,Z as z}from"./@inertiajs-CMyvZJ1U.js";import{aH as M}from"./primevue-DAb-R_om.js";import"./pusher-js-Ck_2Ecjm.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-5zhdP7Ax.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./loader-D-Kjbgh8.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";const R={class:"px-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 sm:p-2 dark:bg-gray-800"},A=["onSubmit"],H={class:"grid gap-6 md:grid-cols-2 xl:grid-cols-3"},I={class:"px-5 pb-2 col-span-full flex justify-between items-center"},K={class:"text-2xl font-medium"},L={class:"w-full max-w-md mx-4 bg-white rounded-xl shadow-lg overflow-hidden md:max-w-2xl"},O=e("div",{class:"h-2 bg-gradient-to-r from-blue-500 to-cyan-400"},null,-1),W={class:"p-3"},Y={class:"flex items-center"},Z={class:"text-xl pb-2 font-bold text-gray-800"},q=e("hr",null,null,-1),J={class:"flex items-center gap-2 text-sm text-blue-600 cursor-pointer"},Q=["checked","onChange"],X=e("div",{class:"my-2 border-t border-gray-200"},null,-1),ee={class:"space-y-2"},se={class:"grid grid-cols-1 gap-2"},te={class:"flex justify-start pt-5"},oe="Permisos",Re={__name:"Edit",setup(ie){const{role:h}=_().props,{rolePermissions:n}=_().props,{namedGroups:v}=_().props,y=M(),i=j([]),k=o=>{const t=o.permissions.map(s=>s.id),c=t.every(s=>i.value.includes(s));i.value=c?i.value.filter(s=>!t.includes(s)):[...new Set([...i.value,...t])]},w=o=>o.permissions.every(t=>i.value.includes(t.id)),r=V({id:"",permisos:[]});B(()=>{r.id=h.id,r.permisos=n,i.value=n});const C=()=>{r.permisos=i.value,r.post(route("roles.update",r.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{E("success","Confirmado","Rol Editado")},onFinish:()=>{},onError:()=>{}})},S=(o,t)=>{t?n.push(o):n.splice(n.indexOf(o),1)},E=(o,t,c)=>{y.add({severity:o,summary:t,detail:c,life:2e3})};return(o,t)=>{const c=F("Toast");return l(),d(u,null,[p(m(z),{title:"Permisos"}),p(D,{pagina:[{label:oe,link:!1}]},{default:f(()=>[p(c),e("div",R,[e("form",{onSubmit:G(C,["prevent"])},[e("div",H,[e("div",I,[e("h5",K,"Permisos de "+x(m(h).name),1)]),(l(!0),d(u,null,g(m(v),s=>(l(),d("div",{key:s.key,class:"flex items-start justify-center"},[e("div",L,[O,e("div",W,[e("div",Y,[e("div",null,[e("h2",Z,x(s.name),1),q,e("label",J,[e("input",{type:"checkbox",class:"w-5 h-5 rounded-md border-gray-300 text-xl text-primary-900 bg-primary-900 hover:bg-primary-100 shadow-sm cursor-pointer",checked:w(s),onChange:a=>k(s)},null,40,Q),b(" Seleccionar todo ")])])]),X,e("div",ee,[e("div",se,[(l(!0),d(u,null,g(s.permissions,a=>(l(),d("label",{key:a.id,class:"flex items-center gap-2 text-sm text-gray-700"},[(l(),P(N,{checked:i.value.includes(a.id),"onUpdate:checked":T=>S(a.id,T),fieldId:"perm.id",label:a.description,key:a.id},null,8,["checked","onUpdate:checked","fieldId","label"]))]))),128))])])])])]))),128))]),e("div",te,[p(U,{class:$(["inline-block rounded bg-primary-900 p-2 text-sm font-medium text-white mr-1 mb-1 hover:bg-primary-100",{"opacity-50":m(r).processing}]),disabled:m(r).processing},{default:f(()=>[b(" Guardar ")]),_:1},8,["class","disabled"])])],40,A)])]),_:1},8,["pagina"])],64)}}};export{Re as default};
