import{_ as T}from"./AppLayout-CiOD__YY.js";import{K as m,Z as j,O as N}from"./@inertiajs-CMyvZJ1U.js";import{i as O}from"./vue-datepicker-next-MGkLgL3F.js";import{h as d}from"./moment-D15uM1gO.js";import{aH as V}from"./primevue-B_pu_EB_.js";import{s as f,a as A,e as L,b as R,c as S}from"./date-fns-Bj3OEEs3.js";import{r as c,o as E,R as p,S as B,f as b,g as w,W as t,E as u,Y as r,j as o,D,C as g,T as F,u as I,F as U}from"./@vue-BLfC86mR.js";import"./pusher-js-Ck_2Ecjm.js";import"./logo-C8Jea0Rc.js";import"./pinia-DeiM1QY_.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-5zhdP7Ax.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./date-format-parse-DuecP4dO.js";import"./@babel-QjJsDpFa.js";const H={class:"card px-4 mb-4 col-span-12 rounded-lg"},K=o("div",{class:"col-span-full flex justify-between items-center"},[o("h5",{class:"text-2xl font-medium"},"Listado Productos RMA")],-1),$={class:"grid grid-cols-12 gap-4 mt-4 mb-2"},z={class:"grid grid-cols-1 col-span-full gap-4 lg:grid-cols-12 mt-2 2lg:grid-cols-12"},W={class:"col-span-1 md:col-span-3 lg:col-span-3"},Z={class:"card p-3 bg-white col-span-12 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},q={class:"flex justify-content-end text-md"},G={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},J=o("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),Q=["src"],X="Productos Rma",ee="reportes",Be={__name:"ProductosRma",setup(te){const{roles:x}=m().props.auth,_=c([]),v=c(),s=c(),h=e=>{e[0]!=null&&e[1]!=null&&(N.get(route(ee+".productosrma"),{inicio:d(e[0]).format("YYYY-MM-DD"),fin:d(e[1]).format("YYYY-MM-DD")},{preserveState:!0,onSuccess:()=>{v.value=m().props.total_cantidad,_.value=m().props.total_productos}}),s.value=[d(e[0]).format("YYYY-MM-DD"),d(e[1]).format("YYYY-MM-DD")])},Y=()=>{if(s.value[0]!=null&&s.value[1]!=null)window.open(route("reportes.exportproductorma",[{inicio:s.value[0],fin:s.value[1]}]),"_blank");else return};E(()=>{s.value=[f(new Date,30),new Date],h(s.value)});const i=c({global:{value:null,matchMode:V.CONTAINS}}),y=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[f(new Date,1),f(new Date,1)]}},{text:"Este mes",onClick(){return[A(new Date),L(new Date)]}},{text:"Este aÃ±o",onClick(){return[R(new Date),S(new Date)]}}];return(e,l)=>{const C=p("InputText"),k=p("Button"),n=p("Column"),M=p("DataTable"),P=B("tooltip");return w(),b(U,null,[t(u(j),{title:"Reporte Ventas"}),t(T,{pagina:[{label:"Reportes",link:!1},{label:X,link:!1}]},{default:r(()=>[o("div",H,[K,o("div",$,[o("div",z,[o("div",W,[t(u(O),{onChange:h,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:s.value,"onUpdate:value":l[0]||(l[0]=a=>s.value=a),shortcuts:y,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])])]),o("div",Z,[o("b",null," TOTAL CANTIDADES : "+D(v.value)+" ",1),t(M,{size:"small",filters:i.value,"onUpdate:filters":l[3]||(l[3]=a=>i.value=a),value:_.value,paginator:!0,rows:20,rowsPerPageOptions:[20,40,100,200],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},{header:r(()=>[o("div",q,[t(C,{modelValue:i.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=a=>i.value.global.value=a),placeholder:"Buscar"},null,8,["modelValue"]),u(x).includes("Super Administrador")||u(x).includes("Administrador")?F((w(),b("div",G,[t(k,{onClick:l[2]||(l[2]=a=>Y()),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:r(()=>[J]),_:1})])),[[P,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):I("",!0)])]),empty:r(()=>[g(" No existe Resultado ")]),loading:r(()=>[g(" Cargando... ")]),default:r(()=>[t(n,{field:"sku",header:"SKU"}),t(n,{field:"imagen",header:"Imagen",pt:{bodyCell:{class:"flex justify-center text-center w-12"},headerCell:{class:"w-10"}}},{loading:r(()=>[]),body:r(a=>[o("img",{class:"rounded bg-white shadow-2xl border-2 text-center w-10 h-10 object-contain",src:a.data.imagen,alt:"image"},null,8,Q)]),_:1}),t(n,{field:"nombre",header:"Nombre",sortable:""}),t(n,{field:"ventas_totales",header:"Cantidad",sortable:"",pt:{bodyCell:{class:"flex justify-center text-center w-14"},headerCell:{class:"w-14"}}}),t(n,{field:"porcentaje",header:"Porcentaje",sortable:"",pt:{bodyCell:{class:"text-center w-20"},headerCell:{class:"w-20"}}},{body:r(a=>[g(D(a.data.porcentaje)+" % ",1)]),_:1})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{Be as default};
