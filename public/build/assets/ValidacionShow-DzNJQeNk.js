import{r as V,o as E,M as y,e as c,f as l,Q as n,ab as s,S as u,i as t,P as F,j as p,p as v,y as a,x as r,O as j,a0 as N,q as T,F as B}from"./@vue-BG0wrCoO.js";import{_ as O}from"./AppLayout-DGXGhT07.js";import{T as k,K as Y,Z as $,O as z}from"./@inertiajs-BPLxF6VH.js";import{_ as P}from"./InputLabel-BIVuqiPx.js";import{_ as U}from"./InputError-cOM6HFrc.js";import{aH as I}from"./primevue-DlS7f910.js";import{h as K}from"./moment-D15uM1gO.js";import"./logo-C8Jea0Rc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./loader-DTMt_fBO.js";import"./pinia-f5v7c1ZR.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-CipxKyPu.js";import"./axios-ngrFHoWO.js";import"./deepmerge-CejY7WQD.js";import"./qs-DSMFT7gQ.js";import"./side-channel-C2E4DO94.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-sCGRVelf.js";import"./nprogress-D6y_-DtI.js";import"./lodash.clonedeep-DcClQ2Wp.js";import"./lodash.isequal-qgBWtdDc.js";const R={class:"card px-4 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},q={class:"px-0 py-1 m-2 mt-0 col-span-full flex justify-start items-center"},G=t("span",{class:"text-white font-semibold"},"Validar",-1),H={class:"mx-auto grid max-w-2xl grid-cols-1 gap-x-1 gap-y-1 px-4 py-2 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-8"},Q={class:"col-span-1"},Z={class:"text-lg leading-6 mt-0 text-gray-700"},A=t("b",null," Fecha Ingreso: ",-1),J={class:"col-span-1"},L={class:"text-lg leading-6 mt-0 text-gray-700"},W=t("b",null," N° de Servicio: ",-1),X={class:"col-span-1"},tt={class:"text-lg leading-6 mt-0 text-gray-700"},ot=t("b",null," Estado ",-1),et={class:"col-span-1"},st={class:"text-lg leading-6 mt-0 text-gray-700"},at=t("b",null," Ingresado/Entregado ",-1),rt={key:0,class:"col-span-1"},it={class:"text-lg leading-6 mt-0 text-gray-700"},dt=t("b",null," Fecha Compra: ",-1),lt={key:1,class:"col-span-1"},nt={class:"text-lg leading-6 mt-0 text-gray-700"},ct=t("b",null," N° de Factura: ",-1),pt={key:2,class:"col-span-1"},_t={class:"text-lg leading-6 mt-0 text-gray-700"},mt=t("b",null," Costo Presupuestado: ",-1),gt={class:"col-span-1"},ut={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},ht=t("b",null," Vendedor: ",-1),xt={class:"col-span-1"},bt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},ft=t("b",null," Destino: ",-1),yt={class:"col-span-1"},vt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},kt=t("b",null," Cliente: ",-1),wt={class:"col-span-1"},Ct={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},Mt=t("b",null," Dirección: ",-1),Dt={class:"col-span-1"},St={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},Vt=t("b",null," Télefono: ",-1),Et={class:"col-span-1"},Ft={class:"text-lg leading-6 mt-0 text-red-600 font-bold"},jt=t("b",{class:"text-lg leading-6 mt-0 text-gray-700 font-bold"}," MUEVE STOCK: ",-1),Nt={class:"col-span-3"},Tt={class:"text-lg leading-6 mt-0 text-gray-700"},Bt=t("b",null," Defecto: ",-1),Ot={class:"col-span-3"},Yt={class:"text-lg leading-6 mt-0 text-gray-700"},$t=t("b",null," Observaciones: ",-1),zt=t("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[t("h5",{class:"text-2xl font-medium"},"Productos")],-1),Pt={class:"mx-auto grid max-w-2xl grid-cols-1 overflow-auto gap-x-1 gap-y-1 px-2 py-2 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-1"},Ut={class:"table-auto mx-2 border border-gray-300 col-span-12"},It={class:"p-2 bg-secondary-900 border"},Kt=t("th",{class:"border border-gray-300 w-24"},"Cantidad",-1),Rt=t("th",{class:"border border-gray-300 p-2 w-24"},"Origen",-1),qt=t("th",{class:"border border-gray-300"},"Nombre",-1),Gt={key:0,class:"border border-gray-300"},Ht={class:"font-sans text-center font-normal text-gray-800 border border-gray-300"},Qt={class:"border border-gray-300 p-2"},Zt={class:"border border-gray-300 p-2"},At={class:"border border-gray-300 p-2"},Jt={key:0,class:"border border-gray-300 p-2"},Lt=["onSubmit"],Wt={class:"px-2 grid grid-cols-6 gap-4 md:gap-3 2xl:gap-6 mb-2"},Xt={class:"col-span-6 shadow-default xl:col-span-6"},to={class:"flex justify-end py-3"},h="Detalle Envio Rma",x="rmas",$o={__name:"ValidacionShow",setup(oo){const m=V(!1),w=I(),b=()=>{i.reset(),i.clearErrors(),m.value=!1},C=e=>{i.index=e,m.value=!0},i=k({id:"",codigo:"",index:""}),M=()=>{i.post(route(x+".maestro"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{D("success","Mensaje","Se ha Validado"),setTimeout(()=>{z.get(route(x+".validacion"))},1e3),b()},onFinish:()=>{},onError:()=>{}})},o=k({id:"",vendedor:"",destino:"",codigo:"",total:0,fecha:"",total_sin_iva:0,moneda:"",tipo_cambio:"",facturado:"",estado:"",observaciones:"",productos:[],cliente:"",direccion:"",parametro:[],rma:[],opt:[],localidad:"",telefono:""}),f=e=>K(e).format("DD/MM/YYYY"),D=(e,d,_)=>{w.add({severity:e,summary:d,detail:_,life:3e3})};return E(()=>{var e=Y().props.venta.data;o.id=e.id,o.fecha=e.fecha,o.vendedor=e.vendedor,o.facturado=e.facturado,o.facturador=e.facturador,o.validador=e.validador,o.observaciones=e.observaciones,o.destino=e.destino,o.cliente=e.cliente,o.empresa=e.empresa,o.rut=e.rut,o.direccion=e.direccion,o.localidad=e.localidad,o.telefono=e.telefono,o.moneda=e.moneda,o.estado=e.estado,o.productos=e.productos,o.parametro=e.parametro,o.rma=e.parametro.rma,o.opt=e.parametro.opt,o.total_sin_iva=e.total_sin_iva,o.total=e.total,o.codigo=e.codigo,o.tipo_cambio=e.tipo_cambio.toFixed(2)}),(e,d)=>{const _=y("Button"),S=y("Dialog");return l(),c(B,null,[n(s($),{title:h}),n(O,{pagina:[{label:"Validación Rma",link:!0,url:e.route(x+".validacion")},{label:h,link:!1}]},{default:u(()=>[t("div",R,[t("div",q,[s(o).facturado=="0"?(l(),F(_,{key:0,class:"rounded border-0 bg-green-700 px-2 py-0.5 text-base font-normal m-2 hover:bg-green-600",onClick:d[0]||(d[0]=v(g=>C(s(o).id),["prevent"]))},{default:u(()=>[G]),_:1})):p("",!0)]),t("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[t("h5",{class:"text-2xl font-medium"},a(h))]),t("div",H,[t("div",Q,[t("p",Z,[A,r(" "+a(f(s(o).rma.fecha_ingreso)),1)])]),t("div",J,[t("p",L,[W,r(" "+a(s(o).rma.nro_servicio),1)])]),t("div",X,[t("p",tt,[ot,r(" "+a(s(o).estado),1)])]),t("div",et,[t("p",st,[at,r(" "+a(s(o).rma.modo),1)])]),s(o).fecha_compra?(l(),c("div",rt,[t("p",it,[dt,r(" "+a(f(s(o).rma.fecha_compra)),1)])])):p("",!0),s(o).rma.nro_factura?(l(),c("div",lt,[t("p",nt,[ct,r(" "+a(s(o).rma.nro_factura),1)])])):p("",!0),s(o).rma.costo_presupuestado>0?(l(),c("div",pt,[t("p",_t,[mt,r(" "+a(s(o).rma.costo_presupuestado),1)])])):p("",!0),t("div",gt,[t("p",ut,[ht,r(" "+a(s(o).rma.vendedor),1)])]),t("div",xt,[t("p",bt,[ft,r(" "+a(s(o).destino),1)])]),t("div",yt,[t("p",vt,[kt,r(" "+a(s(o).cliente),1)])]),t("div",wt,[t("p",Ct,[Mt,r(" "+a(s(o).direccion),1)])]),t("div",Dt,[t("p",St,[Vt,r(" "+a(s(o).telefono),1)])]),t("div",Et,[t("p",Ft,[jt,r(" "+a(s(o).opt.mueve_stock),1)])]),t("div",Nt,[t("p",Tt,[Bt,r(" "+a(s(o).rma.defecto),1)])]),t("div",Ot,[t("p",Yt,[$t,r(" "+a(s(o).rma.observaciones),1)])])]),zt,t("div",Pt,[t("table",Ut,[t("thead",null,[t("tr",It,[Kt,Rt,qt,s(o).rma.prod_serie?(l(),c("th",Gt,"Serie")):p("",!0)])]),t("tbody",null,[t("tr",Ht,[t("td",Qt,a(s(o).rma.prod_cantidad),1),t("td",Zt,a(s(o).rma.prod_origen),1),t("td",At,a(s(o).rma.prod_nombre),1),s(o).rma.prod_serie?(l(),c("td",Jt,a(s(o).rma.prod_serie),1)):p("",!0)])])])]),n(S,{visible:m.value,"onUpdate:visible":d[2]||(d[2]=g=>m.value=g),modal:"",header:"Código Maestro",style:{width:"50vw"},position:"top",pt:{header:{class:"mt-6 p-2 lg:p-4 "},content:{class:"p-4 lg:p-4"}}},{default:u(()=>[t("form",{onSubmit:v(M,["prevent"])},[t("div",Wt,[t("div",Xt,[n(P,{for:"codigo",value:"Código",class:"block text-base font-medium leading-6 text-gray-900"}),j(t("input",{type:"password","onUpdate:modelValue":d[1]||(d[1]=g=>s(i).codigo=g),class:"p-inputtext text-end p-component h-9 w-full font-sans font-normal text-gray-700 dark:text-white/80 bg-white dark:bg-gray-900 border border-gray-300 dark:border-blue-900/40 transition-colors duration-200 appearance-none rounded-md text-sm px-2 py-1"},null,512),[[N,s(i).codigo]]),n(U,{class:"mt-1 text-xs",message:s(i).errors.codigo},null,8,["message"])])]),t("div",to,[n(_,{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:b,type:"button"}),n(_,{label:"Guardar",size:"small",type:"submit",class:T({"opacity-50":s(i).processing}),disabled:s(i).processing},null,8,["class","disabled"])])],40,Lt)]),_:1},8,["visible"])])]),_:1},8,["pagina"])],64)}}};export{$o as default};
