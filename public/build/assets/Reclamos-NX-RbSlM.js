import{r as c,o as Z,R as T,S,f as l,g as r,W as n,E as h,Y as q,j as e,D as a,T as Y,O as G,F as k,A as B,z as N,C as m,u as J,y as P}from"./@vue-BLfC86mR.js";import{_ as Q}from"./AppLayout-uReGjGr-.js";import{_ as C}from"./InputLabel-CkCrW4zf.js";import{K as X,Z as ee,O as M}from"./@inertiajs-CMyvZJ1U.js";import{i as te}from"./vue-datepicker-next-MGkLgL3F.js";import{h as F}from"./moment-D15uM1gO.js";import{_ as oe}from"./Pagination-CNhFcssC.js";import{s as $,a as se,e as ae,b as le,c as re}from"./date-fns-Bj3OEEs3.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-DhUVDY3P.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./loader-D-Kjbgh8.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-Ck_2Ecjm.js";import"./primevue-DAb-R_om.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./date-format-parse-DuecP4dO.js";import"./@babel-QjJsDpFa.js";const ne={class:"px-4 py-3 mb-4 bg-white col-span-12 2xl:col-span-9"},ie={class:"align-middle"},de={class:"grid grid-cols-6 gap-4 mx-1.5 mt-3 mb-6"},ce={class:"col-span-2"},ue={class:"col-span-2"},me={class:"col-span-2"},pe={class:"bg-white shadow-md border border-gray-300 overflow-hidden"},fe={class:"flex flex-col md:flex-row items-stretch border-b border-dashed border-gray-300"},_e={class:"flex-1 p-4"},ve={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},xe={class:"flex-1"},be={class:"ml-6 my-1 text-lg text-gray-900"},ge={class:"font-semibold text-gray-800"},he={class:"flex flex-row items-center gap-2"},ye={class:"w-10 h-10 flex-shrink-0"},we=["src","alt"],De={class:"px-2"},Ye={class:"mt-1 text-gray-800 font-semibold"},ke={class:"ml-6"},Ce=e("i",{class:"fa-solid fa-circle-exclamation"},null,-1),Me={class:"max-w-56 md:w-56 flex flex-col items-start md:items-start justify-between"},Re={key:0,class:"font-semibold text-gray-700"},Ve={key:1,class:"font-semibold text-gray-700"},Ee={class:"flex items-center gap-2"},Oe=e("i",{class:"fa-regular fa-user"},null,-1),je={class:"flex items-center gap-2"},Te=e("i",{class:"fa-regular fa-calendar"},null,-1),Se={class:"w-50 h-full flex px-5 items-center justify-center py-auto"},Be=["onClick"],R="ML Reclamos",V="mercadolibre.reclamos",Dt={__name:"Reclamos",props:{datos:{type:Object,default:()=>({})},filtro:{type:Object,default:()=>({})}},setup(E){const u=E,{client_id:y}=X().props,p=c(u.filtro.buscar??""),f=c(u.filtro.inicio??null),_=c(u.filtro.fin??null),v=c(u.filtro.estado??null);let i=c([u.filtro.inicio,u.filtro.fin]);const O=c([]),L=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[$(new Date,1),$(new Date,1)]}},{text:"Este mes",onClick(){return[se(new Date),ae(new Date)]}},{text:"Este año",onClick(){return[le(new Date),re(new Date)]}}],U=(o,s)=>{M.get(route(V+".detalle",[o,s]))},x=c({name:"Todos",code:null}),z=c([{name:"Todos",code:null},{name:"Reclamo abierto",code:"opened"},{name:"Reclamo cerrado",code:"closed"}]),A=o=>{x.value.code!=v.value&&(v.value=x.value.code)},I=o=>{switch(o){case"opened":return"Reclamo abierto";case"closed":return"Reclamo cerrado";default:return""}},w=o=>{switch(o){case"seller":return["Esperando tu respuesta","text-red-600","bg-red-500"];case"buyer":return["Esperando al comprador","text-green-600","bg-green-300"];default:return["Reclamo cerrado","text-gray-600","bg-gray-500"]}};Z(()=>{O.value=[...u.datos.data].sort((o,s)=>{const b=g=>g.espera==="seller"?1:g.espera==="buyer"?2:3;return b(o)-b(s)})});const D=()=>{M.get(route(V+".index",[y]),{buscar:p.value,inicio:f.value,estado:v.value,fin:_.value},{preserveState:!0,replace:!0})},H=o=>{o[0]!=null&&o[1]!=null?(i.value=[F(o[0]).format("YYYY-MM-DD"),F(o[1]).format("YYYY-MM-DD")],f.value=i.value[0],_.value=i.value[1]):(i.value=[],f.value=null,_.value=null),setTimeout(function(){M.get(route(V+".index",[y]),{buscar:p.value,inicio:f.value,estado:v.value,fin:_.value},{preserveState:!0,replace:!0})},100)};return(o,s)=>{const b=T("InputText"),g=T("Dropdown"),j=S("debounce"),K=S("tooltip");return r(),l(k,null,[n(h(ee),{title:R}),n(Q,{pagina:[{label:R,link:!1}]},{default:q(()=>[e("div",ne,[e("div",{class:"p-3 col-span-full flex justify-between items-center"},[e("h5",{class:"text-2xl font-medium"},a(R))]),e("div",ie,[e("div",de,[e("div",ce,[n(C,{for:"buscar",value:"Buscar",class:"text-base font-medium leading-1 text-gray-900"}),Y(n(b,{id:"buscar",modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t),"debounce-events":["keyup"],placeholder:"Numero de reclamo",pt:{root:{class:"col-span-6 lg:col-span-2 w-full"}}},null,8,["modelValue"]),[[j,D,"500ms"]])]),e("div",ue,[n(C,{for:"estado",value:"Estado",class:"text-base font-medium leading-1 text-gray-900"}),Y(n(g,{id:"estado",modelValue:x.value,"onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t),onChange:s[2]||(s[2]=t=>{A(),D()}),options:z.value,optionLabel:"name",pt:{root:{class:"w-full"},trigger:{class:"fas fa-caret-down text-gray-200 my-auto"},item:({props:t,state:W,context:d})=>({class:d.selected?"text-white bg-primary-900":d.focused?"bg-blue-100":void 0})},placeholder:"Seleccione estado"},null,8,["modelValue","options","pt"]),[[j,D,"500ms"]])]),e("div",me,[n(C,{for:"date1",value:"Rango de Fecha",class:"text-base font-medium leading-1 text-gray-900"}),n(h(te),{id:"date1",onChange:H,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"col-span-6 lg:col-span-2 font-sans font-normal text-gray-700 bg-white transition-colors duration-200 border-0 text-sm",value:h(i),"onUpdate:value":s[3]||(s[3]=t=>G(i)?i.value=t:i=t),shortcuts:L,lang:"es",editable:"false",placeholder:"Seleccione Fecha"},null,8,["value"])])]),e("div",pe,[(r(!0),l(k,null,B(O.value,(t,W)=>(r(),l("div",fe,[e("div",{class:N(["w-2 hidden md:block",w(t.espera)[2]])},null,2),e("div",_e,[e("div",ve,[e("div",xe,[e("div",be,[m("Reclamo "),e("span",ge,"#"+a(t.reclamo_id),1),t.estado!=="closed"?(r(),l("span",{key:0,class:N(["ml-3 px-2 py-0.5 text-[15px] rounded font-semibold",w(t.espera)[1]])},a(w(t.espera)[0]),3)):J("",!0)]),(r(!0),l(k,null,B(t.productos,d=>(r(),l("div",he,[e("div",ye,[e("img",{src:d.imagen,alt:d.titulo,class:"w-10 h-10 object-cover rounded border border-gray-800"},null,8,we)]),e("div",De,[e("div",Ye,a(d.cantidad)+" × "+a(d.titulo),1)])]))),256)),e("div",ke,[Ce,m(" "+a(t.motivo),1)])]),e("div",Me,[t.venta_estado=="cancelled"?(r(),l("div",Re,"Venta Cancelada")):(r(),l("div",Ve,a(I(t.estado)),1)),e("div",Ee,[Oe,m(" "+a(t.comprador?.first_name)+" "+a(t.comprador?.last_name),1)]),e("div",je,[Te,m(" "+a(t.fecha_creacion),1)])]),e("div",Se,[Y((r(),l("button",{class:"rounded bg-blue-700 border border-white px-3 py-2 text-base font-normal text-white m-1 hover:bg-blue-600",onClick:P(d=>U(h(y),t.reclamo_id),["prevent"])},[m("Ver Reclamo")],8,Be)),[[K,{value:"Ver Reclamo",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]])])])])]))),256))]),n(oe,{elements:E.datos.links},null,8,["elements"])])])]),_:1},8,["pagina"])],64)}}};export{Dt as default};
