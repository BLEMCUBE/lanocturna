import{_ as N}from"./AppLayout-e1d1246f.js";import{K as i,l as c,h as T,F as j,m as u,p as O,f as b,a as t,u as p,w as l,q as V,O as A,o as w,Z as L,b as a,t as D,v as R,g as S,d as f}from"./app-32806a46.js";import{i as B}from"./es.es-99c7ad18.js";import{h as m}from"./moment-fbc5633a.js";import{s as g}from"./index-1049af69.js";import{s as E,e as F,a as I,b as U}from"./index-ec64e22a.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const K={class:"card px-4 mb-4 col-span-12 rounded-lg"},$=a("div",{class:"col-span-full flex justify-between items-center"},[a("h5",{class:"text-2xl font-medium"},"Listado Productos RMA")],-1),q={class:"grid grid-cols-12 gap-4 mt-4 mb-2"},z={class:"grid grid-cols-1 col-span-full gap-4 lg:grid-cols-12 mt-2 2lg:grid-cols-12"},H={class:"col-span-1 md:col-span-3 lg:col-span-3"},Z={class:"card px-4 mb-4 bg-white col-span-12 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},G={class:"flex justify-content-end text-md"},J={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},Q=a("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),W=["src"],X="Productos Rma",ie={__name:"ProductosRma",setup(ee){i().props.auth;const{roles:x}=i().props.auth,_=c([]),v=c(),s=c(),h=e=>{e[0]!=null&&e[1]!=null&&(A.get("/reportes-productos-rma/",{inicio:m(e[0]).format("YYYY-MM-DD"),fin:m(e[1]).format("YYYY-MM-DD")},{preserveState:!0,onSuccess:()=>{v.value=i().props.total_cantidad,_.value=i().props.total_productos}}),s.value=[m(e[0]).format("YYYY-MM-DD"),m(e[1]).format("YYYY-MM-DD")])},Y=()=>{if(s.value[0]!=null&&s.value[1]!=null)window.open(route("reportes.exportproductorma",[{inicio:s.value[0],fin:s.value[1]}]),"_blank");else return};T(()=>{s.value=[g(new Date,30),new Date],h(s.value)});const d=c({global:{value:null,matchMode:j.CONTAINS}}),y=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[g(new Date,1),g(new Date,1)]}},{text:"Este mes",onClick(){return[E(new Date),F(new Date)]}},{text:"Este aÃ±o",onClick(){return[I(new Date),U(new Date)]}}];return(e,n)=>{const C=u("InputText"),k=u("Button"),r=u("Column"),M=u("DataTable"),P=O("tooltip");return w(),b(V,null,[t(p(L),{title:"Reporte Ventas"}),t(N,{pagina:[{label:"Reportes",link:!1},{label:X,link:!1}]},{default:l(()=>[a("div",K,[$,a("div",q,[a("div",z,[a("div",H,[t(p(B),{onChange:h,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:s.value,"onUpdate:value":n[0]||(n[0]=o=>s.value=o),shortcuts:y,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])])]),a("div",Z,[a("b",null," TOTAL CANTIDADES : "+D(v.value)+" ",1),t(M,{size:"small",filters:d.value,"onUpdate:filters":n[3]||(n[3]=o=>d.value=o),value:_.value,paginator:!0,rows:20,rowsPerPageOptions:[20,40,100,200],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},{header:l(()=>[a("div",G,[t(C,{modelValue:d.value.global.value,"onUpdate:modelValue":n[1]||(n[1]=o=>d.value.global.value=o),placeholder:"Buscar"},null,8,["modelValue"]),p(x).includes("Super Administrador")||p(x).includes("Administrador")?R((w(),b("div",J,[t(k,{onClick:n[2]||(n[2]=o=>Y()),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:l(()=>[Q]),_:1})])),[[P,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):S("",!0)])]),empty:l(()=>[f(" No existe Resultado ")]),loading:l(()=>[f(" Cargando... ")]),default:l(()=>[t(r,{field:"sku",header:"SKU"}),t(r,{field:"imagen",header:"Imagen",pt:{bodyCell:{class:"flex justify-center text-center w-12"},headerCell:{class:"w-10"}}},{loading:l(()=>[]),body:l(o=>[a("img",{class:"rounded bg-white shadow-2xl border-2 text-center w-10 h-10 object-contain",src:o.data.imagen,alt:"image"},null,8,W)]),_:1}),t(r,{field:"nombre",header:"Nombre",sortable:""}),t(r,{field:"ventas_totales",header:"Cantidad",sortable:"",pt:{bodyCell:{class:"flex justify-center text-center w-14"},headerCell:{class:"w-14"}}}),t(r,{field:"porcentaje",header:"Porcentaje",sortable:"",pt:{bodyCell:{class:"text-center w-20"},headerCell:{class:"w-20"}}},{body:l(o=>[f(D(o.data.porcentaje)+" % ",1)]),_:1})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{ie as default};
