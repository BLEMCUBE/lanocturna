import{a as H}from"./axios-Dq7h7Pqt.js";import{t as te}from"./deepmerge-Bh_OW9zV.js";import{l as U}from"./qs-Dzj_DFKn.js";import{u as E}from"./nprogress-Di1940OM.js";import{r as B,s as re,d as _,k as ie,h as I,l as z,w as se,m as W,c as x}from"./@vue-BLfC86mR.js";import{a as S}from"./lodash.clonedeep-D_Ud3gdH.js";import{M as ne}from"./lodash.isequal-BY8B19Vp.js";function K(e,t){let r;return function(...i){clearTimeout(r),r=setTimeout(()=>e.apply(this,i),t)}}function C(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var oe=e=>C("before",{cancelable:!0,detail:{visit:e}}),ae=e=>C("error",{detail:{errors:e}}),le=e=>C("exception",{cancelable:!0,detail:{exception:e}}),X=e=>C("finish",{detail:{visit:e}}),ce=e=>C("invalid",{cancelable:!0,detail:{response:e}}),L=e=>C("navigate",{detail:{page:e}}),de=e=>C("progress",{detail:{progress:e}}),pe=e=>C("start",{detail:{visit:e}}),he=e=>C("success",{detail:{page:e}});function R(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some(t=>R(t))||typeof e=="object"&&e!==null&&Object.values(e).some(t=>R(t))}function Q(e,t=new FormData,r=null){e=e||{};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&Z(t,Y(r,i),e[i]);return t}function Y(e,t){return e?e+"["+t+"]":t}function Z(e,t,r){if(Array.isArray(r))return Array.from(r.keys()).forEach(i=>Z(e,Y(t,i.toString()),r[i]));if(r instanceof Date)return e.append(t,r.toISOString());if(r instanceof File)return e.append(t,r,r.name);if(r instanceof Blob)return e.append(t,r);if(typeof r=="boolean")return e.append(t,r?"1":"0");if(typeof r=="string")return e.append(t,r);if(typeof r=="number")return e.append(t,`${r}`);if(r==null)return e.append(t,"");Q(r,e,t)}var ue={modal:null,listener:null,show(e){typeof e=="object"&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);let t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(i=>i.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let r=document.createElement("iframe");if(r.style.backgroundColor="white",r.style.borderRadius="5px",r.style.width="100%",r.style.height="100%",this.modal.appendChild(r),document.body.prepend(this.modal),document.body.style.overflow="hidden",!r.contentWindow)throw new Error("iframe not yet ready.");r.contentWindow.document.open(),r.contentWindow.document.write(t.outerHTML),r.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.keyCode===27&&this.hide()}};function $(e){return new URL(e.toString(),window.location.toString())}function G(e,t,r,i="brackets"){let n=/^https?:\/\//.test(t.toString()),a=n||t.toString().startsWith("/"),c=!a&&!t.toString().startsWith("#")&&!t.toString().startsWith("?"),g=t.toString().includes("?")||e==="get"&&Object.keys(r).length,u=t.toString().includes("#"),h=new URL(t.toString(),"http://localhost");return e==="get"&&Object.keys(r).length&&(h.search=U.stringify(te(U.parse(h.search,{ignoreQueryPrefix:!0}),r),{encodeValuesOnly:!0,arrayFormat:i}),r={}),[[n?`${h.protocol}//${h.host}`:"",a?h.pathname:"",c?h.pathname.substring(1):"",g?h.search:"",u?h.hash:""].join(""),r]}function V(e){return e=new URL(e.href),e.hash="",e}var J=typeof window>"u",me=class{constructor(){this.visitId=null}init({initialPage:e,resolveComponent:t,swapComponent:r}){this.page=e,this.resolveComponent=t,this.swapComponent=r,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){this.navigationType==="reload"&&window.history.state?.rememberedState&&delete window.history.state.rememberedState}handleInitialPageVisit(e){this.page.url+=window.location.hash,this.setPage(e,{preserveState:!0}).then(()=>L(e))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",K(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(e){typeof e.target.hasAttribute=="function"&&e.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(e=>({top:e.scrollTop,left:e.scrollLeft}))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach(e=>{typeof e.scrollTo=="function"?e.scrollTo(0,0):(e.scrollTop=0,e.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&setTimeout(()=>document.getElementById(window.location.hash.slice(1))?.scrollIntoView())}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach((e,t)=>{let r=this.page.scrollRegions[t];if(r)typeof e.scrollTo=="function"?e.scrollTo(r.left,r.top):(e.scrollTop=r.top,e.scrollLeft=r.left);else return})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(e){window.history.state.version=e.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),L(e)})}locationVisit(e,t){try{let r={preserveScroll:t};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(r)),window.location.href=e.href,V(window.location).href===V(e).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(e){let t=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),e.url+=window.location.hash,e.rememberedState=window.history.state?.rememberedState??{},e.scrollRegions=window.history.state?.scrollRegions??[],this.setPage(e,{preserveScroll:t.preserveScroll,preserveState:!0}).then(()=>{t.preserveScroll&&this.restoreScrollPositions(),L(e)})}isLocationVisitResponse(e){return!!(e&&e.status===409&&e.headers["x-inertia-location"])}isInertiaResponse(e){return!!e?.headers["x-inertia"]}createVisitId(){return this.visitId={},this.visitId}cancelVisit(e,{cancelled:t=!1,interrupted:r=!1}){e&&!e.completed&&!e.cancelled&&!e.interrupted&&(e.cancelToken.abort(),e.onCancel(),e.completed=!1,e.cancelled=t,e.interrupted=r,X(e),e.onFinish(e))}finishVisit(e){!e.cancelled&&!e.interrupted&&(e.completed=!0,e.cancelled=!1,e.interrupted=!1,X(e),e.onFinish(e))}resolvePreserveOption(e,t){return typeof e=="function"?e(t):e==="errors"?Object.keys(t.props.errors||{}).length>0:e}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(e,{method:t="get",data:r={},replace:i=!1,preserveScroll:n=!1,preserveState:a=!1,only:c=[],headers:g={},errorBag:u="",forceFormData:h=!1,onCancelToken:s=()=>{},onBefore:o=()=>{},onStart:l=()=>{},onProgress:p=()=>{},onFinish:v=()=>{},onCancel:f=()=>{},onSuccess:k=()=>{},onError:q=()=>{},queryStringArrayFormat:A="brackets"}={}){let T=typeof e=="string"?$(e):e;if((R(r)||h)&&!(r instanceof FormData)&&(r=Q(r)),!(r instanceof FormData)){let[d,m]=G(t,T,r,A);T=$(d),r=m}let O={url:T,method:t,data:r,replace:i,preserveScroll:n,preserveState:a,only:c,headers:g,errorBag:u,forceFormData:h,queryStringArrayFormat:A,cancelled:!1,completed:!1,interrupted:!1};if(o(O)===!1||!oe(O))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let D=this.createVisitId();this.activeVisit={...O,onCancelToken:s,onBefore:o,onStart:l,onProgress:p,onFinish:v,onCancel:f,onSuccess:k,onError:q,queryStringArrayFormat:A,cancelToken:new AbortController},s({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),pe(O),l(O),H({method:t,url:V(T).href,data:t==="get"?{}:r,params:t==="get"?r:{},signal:this.activeVisit.cancelToken.signal,headers:{...g,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...c.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":c.join(",")}:{},...u&&u.length?{"X-Inertia-Error-Bag":u}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:d=>{r instanceof FormData&&(d.percentage=d.progress?Math.round(d.progress*100):0,de(d),p(d))}}).then(d=>{if(!this.isInertiaResponse(d))return Promise.reject({response:d});let m=d.data;c.length&&m.component===this.page.component&&(m.props={...this.page.props,...m.props}),n=this.resolvePreserveOption(n,m),a=this.resolvePreserveOption(a,m),a&&window.history.state?.rememberedState&&m.component===this.page.component&&(m.rememberedState=window.history.state.rememberedState);let P=T,j=$(m.url);return P.hash&&!j.hash&&V(P).href===j.href&&(j.hash=P.hash,m.url=j.href),this.setPage(m,{visitId:D,replace:i,preserveScroll:n,preserveState:a})}).then(()=>{let d=this.page.props.errors||{};if(Object.keys(d).length>0){let m=u?d[u]?d[u]:{}:d;return ae(m),q(m)}return he(this.page),k(this.page)}).catch(d=>{if(this.isInertiaResponse(d.response))return this.setPage(d.response.data,{visitId:D});if(this.isLocationVisitResponse(d.response)){let m=$(d.response.headers["x-inertia-location"]),P=T;P.hash&&!m.hash&&V(P).href===m.href&&(m.hash=P.hash),this.locationVisit(m,n===!0)}else if(d.response)ce(d.response)&&ue.show(d.response.data);else return Promise.reject(d)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(d=>{if(!H.isCancel(d)){let m=le(d);if(this.activeVisit&&this.finishVisit(this.activeVisit),m)return Promise.reject(d)}})}setPage(e,{visitId:t=this.createVisitId(),replace:r=!1,preserveScroll:i=!1,preserveState:n=!1}={}){return Promise.resolve(this.resolveComponent(e.component)).then(a=>{t===this.visitId&&(e.scrollRegions=e.scrollRegions||[],e.rememberedState=e.rememberedState||{},r=r||$(e.url).href===window.location.href,r?this.replaceState(e):this.pushState(e),this.swapComponent({component:a,page:e,preserveState:n}).then(()=>{i||this.resetScrollPositions(),r||L(e)}))})}pushState(e){this.page=e,window.history.pushState(e,"",e.url)}replaceState(e){this.page=e,window.history.replaceState(e,"",e.url)}handlePopstateEvent(e){if(e.state!==null){let t=e.state,r=this.createVisitId();Promise.resolve(this.resolveComponent(t.component)).then(i=>{r===this.visitId&&(this.page=t,this.swapComponent({component:i,page:t,preserveState:!1}).then(()=>{this.restoreScrollPositions(),L(t)}))})}else{let t=$(this.page.url);t.hash=window.location.hash,this.replaceState({...this.page,url:t.href}),this.resetScrollPositions()}}get(e,t={},r={}){return this.visit(e,{...r,method:"get",data:t})}reload(e={}){return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0})}replace(e,t={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${t.method??"get"}() instead.`),this.visit(e,{preserveState:!0,...t,replace:!0})}post(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"post",data:t})}put(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"put",data:t})}patch(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}remember(e,t="default"){J||this.replaceState({...this.page,rememberedState:{...this.page?.rememberedState,[t]:e}})}restore(e="default"){if(!J)return window.history.state?.rememberedState?.[e]}on(e,t){let r=i=>{let n=t(i);i.cancelable&&!i.defaultPrevented&&n===!1&&i.preventDefault()};return document.addEventListener(`inertia:${e}`,r),()=>document.removeEventListener(`inertia:${e}`,r)}},fe={buildDOMElement(e){let t=document.createElement("template");t.innerHTML=e;let r=t.content.firstChild;if(!e.startsWith("<script "))return r;let i=document.createElement("script");return i.innerHTML=r.innerHTML,r.getAttributeNames().forEach(n=>{i.setAttribute(n,r.getAttribute(n)||"")}),i},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute("inertia")!==null},findMatchingElementIndex(e,t){let r=e.getAttribute("inertia");return r!==null?t.findIndex(i=>i.getAttribute("inertia")===r):-1},update:K(function(e){let t=e.map(r=>this.buildDOMElement(r));Array.from(document.head.childNodes).filter(r=>this.isInertiaManagedElement(r)).forEach(r=>{let i=this.findMatchingElementIndex(r,t);if(i===-1){r?.parentNode?.removeChild(r);return}let n=t.splice(i,1)[0];n&&!r.isEqualNode(n)&&r?.parentNode?.replaceChild(n,r)}),t.forEach(r=>document.head.appendChild(r))},1)};function ge(e,t,r){let i={},n=0;function a(){let s=n+=1;return i[s]=[],s.toString()}function c(s){s===null||Object.keys(i).indexOf(s)===-1||(delete i[s],h())}function g(s,o=[]){s!==null&&Object.keys(i).indexOf(s)>-1&&(i[s]=o),h()}function u(){let s=t(""),o={...s?{title:`<title inertia="">${s}</title>`}:{}},l=Object.values(i).reduce((p,v)=>p.concat(v),[]).reduce((p,v)=>{if(v.indexOf("<")===-1)return p;if(v.indexOf("<title ")===0){let k=v.match(/(<title [^>]+>)(.*?)(<\/title>)/);return p.title=k?`${k[1]}${t(k[2])}${k[3]}`:v,p}let f=v.match(/ inertia="[^"]+"/);return f?p[f[0]]=v:p[Object.keys(p).length]=v,p},o);return Object.values(l)}function h(){e?r(u()):fe.update(u())}return h(),{forceUpdate:h,createProvider:function(){let s=a();return{update:o=>g(s,o),disconnect:()=>c(s)}}}}var ee=null;function ve(e){document.addEventListener("inertia:start",ye.bind(null,e)),document.addEventListener("inertia:progress",be),document.addEventListener("inertia:finish",we)}function ye(e){ee=setTimeout(()=>E.start(),e)}function be(e){E.isStarted()&&e.detail.progress?.percentage&&E.set(Math.max(E.status,e.detail.progress.percentage/100*.9))}function we(e){if(clearTimeout(ee),E.isStarted())e.detail.visit.completed?E.done():e.detail.visit.interrupted?E.set(0):e.detail.visit.cancelled&&(E.done(),E.remove());else return}function Se(e){let t=document.createElement("style");t.type="text/css",t.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: ${e};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)}function Ee({delay:e=250,color:t="#29d",includeCSS:r=!0,showSpinner:i=!1}={}){ve(e),E.configure({showSpinner:i}),r&&Se(t)}function ke(e){let t=e.currentTarget.tagName.toLowerCase()==="a";return!(e.target&&(e?.target).isContentEditable||e.defaultPrevented||t&&e.which>1||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey)}var w=new me,Ce={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});let e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,t=w.restore(e),r=this.$options.remember.data.filter(n=>!(this[n]!==null&&typeof this[n]=="object"&&this[n].__rememberable===!1)),i=n=>this[n]!==null&&typeof this[n]=="object"&&typeof this[n].__remember=="function"&&typeof this[n].__restore=="function";r.forEach(n=>{this[n]!==void 0&&t!==void 0&&t[n]!==void 0&&(i(n)?this[n].__restore(t[n]):this[n]=t[n]),this.$watch(n,()=>{w.remember(r.reduce((a,c)=>({...a,[c]:S(i(c)?this[c].__remember():this[c])}),{}),e)},{immediate:!0,deep:!0})})}},Pe=Ce;function Te(e,t){let r=typeof e=="string"?e:null,i=typeof e=="string"?t:e,n=r?w.restore(r):null,a=typeof i=="object"?S(i):S(i()),c=null,g=null,u=s=>s,h=z({...n?n.data:S(a),isDirty:!1,errors:n?n.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(a).reduce((s,o)=>(s[o]=this[o],s),{})},transform(s){return u=s,this},defaults(s,o){if(typeof i=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return typeof s>"u"?a=this.data():a=Object.assign({},S(a),typeof s=="string"?{[s]:o}:s),this},reset(...s){let o=typeof i=="object"?S(a):S(i()),l=S(o);return s.length===0?(a=l,Object.assign(this,o)):Object.keys(o).filter(p=>s.includes(p)).forEach(p=>{a[p]=l[p],this[p]=o[p]}),this},setError(s,o){return Object.assign(this.errors,typeof s=="string"?{[s]:o}:s),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...s){return this.errors=Object.keys(this.errors).reduce((o,l)=>({...o,...s.length>0&&!s.includes(l)?{[l]:this.errors[l]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},submit(s,o,l={}){let p=u(this.data()),v={...l,onCancelToken:f=>{if(c=f,l.onCancelToken)return l.onCancelToken(f)},onBefore:f=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(g),l.onBefore)return l.onBefore(f)},onStart:f=>{if(this.processing=!0,l.onStart)return l.onStart(f)},onProgress:f=>{if(this.progress=f,l.onProgress)return l.onProgress(f)},onSuccess:async f=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,g=setTimeout(()=>this.recentlySuccessful=!1,2e3);let k=l.onSuccess?await l.onSuccess(f):null;return a=S(this.data()),this.isDirty=!1,k},onError:f=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(f),l.onError)return l.onError(f)},onCancel:()=>{if(this.processing=!1,this.progress=null,l.onCancel)return l.onCancel()},onFinish:f=>{if(this.processing=!1,this.progress=null,c=null,l.onFinish)return l.onFinish(f)}};s==="delete"?w.delete(o,{...v,data:p}):w[s](o,p,v)},get(s,o){this.submit("get",s,o)},post(s,o){this.submit("post",s,o)},put(s,o){this.submit("put",s,o)},patch(s,o){this.submit("patch",s,o)},delete(s,o){this.submit("delete",s,o)},cancel(){c&&c.cancel()},__rememberable:r===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(s){Object.assign(this,s.data),this.setError(s.errors)}});return se(h,s=>{h.isDirty=!ne(h.data(),a),r&&w.remember(S(s.__remember()),r)},{immediate:!0,deep:!0}),h}var y=B(null),b=B(null),F=re(null),N=B(null),M=null,xe=_({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:t,resolveComponent:r,titleCallback:i,onHeadUpdate:n}){y.value=t?W(t):null,b.value=e,N.value=null;let a=typeof window>"u";return M=ge(a,i,n),a||(w.init({initialPage:e,resolveComponent:r,swapComponent:async c=>{y.value=W(c.component),b.value=c.page,N.value=c.preserveState?N.value:Date.now()}}),w.on("navigate",()=>M.forceUpdate())),()=>{if(y.value){y.value.inheritAttrs=!!y.value.inheritAttrs;let c=I(y.value,{...b.value.props,key:N.value});return F.value&&(y.value.layout=F.value,F.value=null),y.value.layout?typeof y.value.layout=="function"?y.value.layout(I,c):(Array.isArray(y.value.layout)?y.value.layout:[y.value.layout]).concat(c).reverse().reduce((g,u)=>(u.inheritAttrs=!!u.inheritAttrs,I(u,{...b.value.props},()=>g))):c}}}}),$e=xe,Oe={install(e){w.form=Te,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>w}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>b.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>M}),e.mixin(Pe)}};function Be(){return z({props:x(()=>b.value?.props),url:x(()=>b.value?.url),component:x(()=>b.value?.component),version:x(()=>b.value?.version),scrollRegions:x(()=>b.value?.scrollRegions),rememberedState:x(()=>b.value?.rememberedState)})}async function _e({id:e="app",resolve:t,setup:r,title:i,progress:n={},page:a,render:c}){let g=typeof window>"u",u=g?null:document.getElementById(e),h=a||JSON.parse(u.dataset.page),s=p=>Promise.resolve(t(p)).then(v=>v.default||v),o=[],l=await s(h.component).then(p=>r({el:u,App:$e,props:{initialPage:h,initialComponent:p,resolveComponent:s,titleCallback:i,onHeadUpdate:g?v=>o=v:null},plugin:Oe}));if(!g&&n&&Ee(n),g){let p=await c(ie({render:()=>I("div",{id:e,"data-page":JSON.stringify(h),innerHTML:l?c(l):""})}));return{head:o,body:p}}}var Le=_({props:{title:{type:String,required:!1}},data(){return{provider:this.$headManager.createProvider()}},beforeUnmount(){this.provider.disconnect()},methods:{isUnaryTag(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1},renderTagStart(e){e.props=e.props||{},e.props.inertia=e.props["head-key"]!==void 0?e.props["head-key"]:"";let t=Object.keys(e.props).reduce((r,i)=>{let n=e.props[i];return["key","head-key"].includes(i)?r:n===""?r+` ${i}`:r+` ${i}="${n}"`},"");return`<${e.type}${t}>`},renderTagChildren(e){return typeof e.children=="string"?e.children:e.children.reduce((t,r)=>t+this.renderTag(r),"")},isFunctionNode(e){return typeof e.type=="function"},isComponentNode(e){return typeof e.type=="object"},isCommentNode(e){return/(comment|cmt)/i.test(e.type.toString())},isFragmentNode(e){return/(fragment|fgt|symbol\(\))/i.test(e.type.toString())},isTextNode(e){return/(text|txt)/i.test(e.type.toString())},renderTag(e){if(this.isTextNode(e))return e.children;if(this.isFragmentNode(e)||this.isCommentNode(e))return"";let t=this.renderTagStart(e);return e.children&&(t+=this.renderTagChildren(e)),this.isUnaryTag(e)||(t+=`</${e.type}>`),t},addTitleElement(e){return this.title&&!e.find(t=>t.startsWith("<title"))&&e.push(`<title inertia>${this.title}</title>`),e},renderNodes(e){return this.addTitleElement(e.flatMap(t=>this.resolveNode(t)).map(t=>this.renderTag(t)).filter(t=>t))},resolveNode(e){return this.isFunctionNode(e)?this.resolveNode(e.type()):this.isComponentNode(e)?(console.warn("Using components in the <Head> component is not supported."),[]):this.isTextNode(e)&&e.children?e:this.isFragmentNode(e)&&e.children?e.children.flatMap(t=>this.resolveNode(t)):this.isCommentNode(e)?[]:e}},render(){this.provider.update(this.renderNodes(this.$slots.default?this.$slots.default():[]))}}),qe=Le,Ve=_({name:"Link",props:{as:{type:String,default:"a"},data:{type:Object,default:()=>({})},href:{type:String,required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"}},setup(e,{slots:t,attrs:r}){return()=>{let i=e.as.toLowerCase(),n=e.method.toLowerCase(),[a,c]=G(n,e.href||"",e.data,e.queryStringArrayFormat);return i==="a"&&n!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${a}" method="${n}" as="button">...</Link>`),I(e.as,{...r,...i==="a"?{href:a}:{},onClick:g=>{ke(g)&&(g.preventDefault(),w.visit(a,{data:c,method:n,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??n!=="get",only:e.only,headers:e.headers,onCancelToken:r.onCancelToken||(()=>({})),onBefore:r.onBefore||(()=>({})),onStart:r.onStart||(()=>({})),onProgress:r.onProgress||(()=>({})),onFinish:r.onFinish||(()=>({})),onCancel:r.onCancel||(()=>({})),onSuccess:r.onSuccess||(()=>({})),onError:r.onError||(()=>({}))}))}},t)}}}),De=Ve;export{Be as K,w as O,Te as T,qe as Z,De as i,_e as j};
