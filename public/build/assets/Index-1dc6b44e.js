import{r as n,o as V,O as h,P as F,g as $,S as t,E as o,V as s,F as O,f as m,j as a,A as u,Q as S,R as g,t as j,z as w,n as C}from"./@vue-1043e4d5.js";import{_ as B}from"./AppLayout-842afc1b.js";import{K as G,Z as P,O as k}from"./@inertiajs-ab1bf9dd.js";import{aG as L,aH as z,h as H,q as r}from"./primevue-232ee6f7.js";import q from"./DetalleModal-1c15543c.js";import K from"./AgregarModal-ba58604e.js";import"./logo-e22dfca4.js";import"./pinia-ff353768.js";import"./@vueuse-54bafaaf.js";import"./sweetalert2-c47eda61.js";import"./apexcharts-f697a6eb.js";import"./@headlessui-edafee9e.js";import"./@heroicons-7e6153ac.js";import"./axios-4a70c6fc.js";import"./deepmerge-34bd70bf.js";import"./qs-ba0d1d34.js";import"./side-channel-009c6bc3.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-0f5d75dd.js";import"./nprogress-a144f12f.js";import"./lodash.clonedeep-6a476b09.js";import"./lodash.isequal-cbdfea98.js";import"./vue-datepicker-next-31061510.js";import"./date-format-parse-388037e5.js";import"./moment-fbc5633a.js";import"./InputError-933cc936.js";import"./InputLabel-bc304214.js";const Q={class:"card p-3 bg-white col-span-12 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},U={class:"py-1 px-3 col-span-full flex justify-between items-center"},Z=a("i",{class:"fas fa-file-excel text-white text-lg"},null,-1),J={class:"align-middle py-1 px-3"},W={class:"flex justify-content-end text-md"},X={class:"w-72"},x="Pagos Importaciones",_="pagos-importaciones",Re={__name:"Index",setup(Y){const v=n([]),c=n(null),i=n(!1),d=n(!1),T=L();V(()=>{v.value=G().props.productos.data});const A=e=>{c.value=e.data.id,i.value=!0},I=()=>{window.open(route(_+".exportar"),"_blank")},b=n({global:{value:null,matchMode:z.CONTAINS}}),N=e=>{switch(i.value=!1,e.store){case"CANCELAR":i.value=!1;break;case"AGREGAR":c.value=e.importacionId,d.value=!0;break;case"ELIMINADO":y("success","Mensaje","Pago eliminado"),setTimeout(()=>{k.get(route(_+".index"))},1e3);break}},M=e=>{switch(e.store){case"CANCELAR":d.value=!1;break;case"AGREGAR":y("success","Mensaje","Pago Agregado");break;case"ELIMINADO":setTimeout(()=>{k.get(route(_+".index"))},1e3);break}},y=(e,p,f)=>{T.add({severity:e,summary:p,detail:f,life:3e3})};return(e,p)=>{const f=h("Toast"),D=h("InputText"),E=h("DataTable"),R=F("tooltip");return m(),$(O,null,[t(o(P),{title:x}),t(B,{pagina:[{label:x,link:!1}]},{default:s(()=>[a("div",Q,[t(f),a("div",U,[a("h5",{class:"text-2xl font-medium"},u(x)),S((m(),g(o(H),{onClick:j(I,["prevent"]),pt:{root:{class:"py-auto px-2.5 py-2 text-lg bg-green-600 border-none hover:bg-green-500"}}},{default:s(()=>[Z]),_:1},8,["onClick"])),[[R,{value:"Exportar Excel",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]])]),a("div",J,[t(E,{filters:b.value,value:v.value,scrollable:"",scrollHeight:"700px",paginator:"",rows:50,columnResizeMode:"expand",pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"text-base"}},onRowClick:A,size:"small"},{header:s(()=>[a("div",W,[a("div",X,[t(D,{modelValue:b.value.global.value,"onUpdate:modelValue":p[0]||(p[0]=l=>b.value.global.value=l),placeholder:"Buscar",class:"w-full"},null,8,["modelValue"])])])]),empty:s(()=>[w(" No existe Resultado ")]),loading:s(()=>[w(" Cargando... ")]),default:s(()=>[t(o(r),{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}}),t(o(r),{field:"nro_contenedor",header:"No. de Contenedor",sortable:"",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}}),t(o(r),{field:"fecha_arribado",sortable:"",header:"Fecha Arribado",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}}),t(o(r),{field:"estado",header:"Estado de pedido",sortable:"",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}}),t(o(r),{sortable:"",header:"%",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}},{body:s(l=>[a("span",null,u(e.$numberFormat(l.data.porcentaje)),1)]),_:1}),t(o(r),{sortable:"",header:"Saldo",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}},{body:s(l=>[a("span",null,u(e.$numberFormat(l.data.costo_cif-l.data.pagado)),1)]),_:1}),t(o(r),{sortable:"",header:"Total",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}},{body:s(l=>[a("span",null,u(e.$numberFormat(l.data.costo_cif)),1)]),_:1})]),_:1},8,["filters","value"])])]),i.value?(m(),g(q,{key:0,onPassInfo:N,"importacion-id":c.value,"show-detalle":i.value},null,8,["importacion-id","show-detalle"])):C("",!0),d.value?(m(),g(K,{key:1,onPassInfo:M,"importacion-id":c.value,"show-detalle":d.value},null,8,["importacion-id","show-detalle"])):C("",!0)]),_:1},8,["pagina"])],64)}}};export{Re as default};
