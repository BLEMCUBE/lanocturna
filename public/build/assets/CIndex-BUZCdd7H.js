import{r as _,o as j,R as p,S as I,f as m,g as f,W as t,E as s,Y as r,j as o,D as M,T as v,u as A,y as O,C as w,F as R}from"./@vue-BLfC86mR.js";import{_ as $}from"./AppLayout-ChcmoOn7.js";import{K as y,T as q,Z as z,O as h}from"./@inertiajs-B6DOW0KO.js";import{S as H}from"./sweetalert2-DQJME8_f.js";import{aG as G,aH as K,h as P,q as i}from"./primevue-B_pu_EB_.js";import"./pusher-js-Ck_2Ecjm.js";import"./logo-C8Jea0Rc.js";import"./pinia-DeiM1QY_.js";import"./@vueuse-BEDuuF1-.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./axios-Dq7h7Pqt.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-Dzj_DFKn.js";import"./side-channel-DZFSYYHh.js";import"./get-intrinsic-gH0OeWJ1.js";import"./has-symbols-CABd5qHC.js";import"./has-proto-CpIZBmUT.js";import"./function-bind-C4RYm_-a.js";import"./has-D2ofp1JE.js";import"./call-bind-7ir4MDz-.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";const U={class:"card px-4 mb-4 bg-white col-span-12 rounded-lg shadow-lg 2xl:col-span-12"},W={class:"px-3 pb-2 col-span-full flex justify-end items-center"},Y={class:"w-8 h-8 rounded bg-green-600 flex justify-center mr-5 items-center text-base font-semibold text-white hover:bg-green-600"},Z=["href"],J=o("i",{class:"fas fa-file-excel text-white"},null,-1),L=[J],Q={class:"align-middle"},X={class:"flex justify-content-end text-md"},ee=["src"],te=["onClick"],oe=o("i",{class:"fas fa-trash-alt"},null,-1),se=[oe],x="Productos",c="productos",Ne={__name:"CIndex",setup(re){const C=G(),b=_(),{permissions:k}=y().props.auth,F=q({id:""}),T=e=>{if(parseFloat(e.stock)<=parseFloat(e.stock_minimo)&&parseFloat(e.stock)==parseFloat(e.stock_futuro))return["bg-red-700 text-xs text-white"];if(parseFloat(e.stock)<=parseFloat(e.stock_minimo)&&parseFloat(e.stock_futuro)>parseFloat(e.stock))return"bg-orange-500 text-xs text-white"},S=e=>{h.get(route(c+".show",e))},B=(e,a)=>{H.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar "+a,text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red",confirmButtonColor:"#2563EB"}).then(u=>{u.isConfirmed&&F.delete(route(c+".destroy",e),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{D("success","Eliminado","Se ha eliminado"),setTimeout(()=>{h.get(route(c+".index"))},1e3)}})})};j(()=>{b.value=Array.from(y().props.productos.data,e=>e)});const D=(e,a,n)=>{C.add({severity:e,summary:a,detail:n,life:3e3})},E=()=>{h.get(route(c+".create"))},N=e=>{S(e.data.id)},d=_({global:{value:null,matchMode:K.CONTAINS}});return(e,a)=>{const n=p("Toast"),u=p("InputText"),V=p("DataTable"),g=I("tooltip");return f(),m(R,null,[t(s(z),{title:x}),t($,{pagina:[{label:x,link:!1}]},{default:r(()=>[o("div",U,[t(n),o("div",{class:"px-3 p-2 col-span-full flex justify-start items-center"},[o("h5",{class:"text-2xl font-medium pr-5"},M(x))]),o("div",W,[v((f(),m("span",Y,[o("a",{href:e.route("productos.exportar"),target:"_blank",class:"py-auto"},L,8,Z)])),[[g,{value:"Descargar Excel",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]),t(s(P),{size:"small",label:"Agregar Producto",severity:"success",onClick:E})]),o("div",Q,[t(V,{rowClass:T,filters:d.value,value:b.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},globalFilterFields:["codigo_barra","origen","nombre"],scrollable:"",scrollHeight:"700px",paginator:"",rows:50,onRowClick:N,size:"small"},{header:r(()=>[o("div",X,[t(u,{modelValue:d.value.global.value,"onUpdate:modelValue":a[0]||(a[0]=l=>d.value.global.value=l),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:r(()=>[w(" No existe Resultado ")]),loading:r(()=>[w(" Cargando... ")]),default:r(()=>[t(s(i),{field:"stock",sortable:"",header:"Stock",pt:{bodyCell:{class:"text-center w-12"}}}),t(s(i),{field:"stock_futuro",sortable:"",header:"Stock futuro",pt:{bodyCell:{class:"text-center w-12"}}}),t(s(i),{field:"imagen",header:"Imagen",pt:{bodyCell:{class:"flex justify-center text-center w-12"},headerCell:{class:"w-10"}}},{loading:r(()=>[]),body:r(l=>[o("img",{class:"rounded bg-white shadow-2xl border-2 text-center w-10 h-10 object-contain",src:l.data.imagen,alt:"image"},null,8,ee)]),_:1}),t(s(i),{field:"origen",header:"Origen",sortable:"",pt:{bodyCell:{class:"text-center w-36"}}}),t(s(i),{field:"nombre",header:"Nombre",sortable:"",pt:{bodyCell:{class:"text-center"}}}),t(s(i),{header:"Acciones",style:{width:"80px"},class:"px-auto"},{loading:r(()=>[]),body:r(l=>[s(k).includes("eliminar-productos")?v((f(),m("button",{key:0,class:"w-8 h-8 rounded bg-red-700 border border-white px-2 py-1 text-base font-normal text-white m-1 hover:bg-red-600",onClick:O(ae=>B(l.data.id,l.data.nombre),["prevent"])},se,8,te)),[[g,{value:"Eliminar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):A("",!0)]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{Ne as default};
