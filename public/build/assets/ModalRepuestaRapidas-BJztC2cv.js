import{r as m,o as X,R as B,f as n,g as r,j as t,W as g,F as f,A as x,a4 as U,y as k,D as Z,C as D,Y as ee,T as v,a5 as b,z as j,u as I,E as a,U as V}from"./@vue-BLfC86mR.js";import{T as te,O as se}from"./@inertiajs-CMyvZJ1U.js";import{_ as h}from"./InputError-DdpGOVhM.js";import{a as $}from"./axios-ngrFHoWO.js";import{aH as oe}from"./primevue-DAb-R_om.js";import{u as le}from"./loader-D-Kjbgh8.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./pinia-IH2nVPr3.js";const re=["onClick"],ae=["onClick"],ne=t("i",{class:"fas fa-pen"},null,-1),ue={class:"grid grid-cols-12 gap-4 p-2"},ie={class:"w-full flex flex-col items-center col-span-12 sm:col-span-3 md:col-span-3 lg:col-span-3 text-white rounded-lg text-center"},ce={class:"flex flex-wrap justify-center mt-2"},de=["onMouseover","onClick"],pe={class:"col-span-12 sm:col-span-7 md:col-span-7 lg:col-span-7 rounded-lg text-center"},me={class:"col-span-12 sm:col-span-2 md:col-span-2 lg:col-span-2 text-white rounded-lg text-center"},ge=["onClick"],fe=["onSubmit"],xe=t("p",null," Repuestas agregadas ",-1),ve={key:0,class:"col-span-12 p-2 xl:col-span-12"},be={class:"grid grid-cols-12 gap-4 p-2 mt-3"},he={class:"w-full flex flex-col items-center col-span-12 sm:col-span-3 md:col-span-3 lg:col-span-3 text-white rounded-lg text-center"},_e=["onUpdate:modelValue"],ye={class:"col-span-12 sm:col-span-7 md:col-span-7 lg:col-span-7 rounded-lg text-center"},we=["onUpdate:modelValue"],ke={class:"col-span-12 sm:col-span-2 md:col-span-2 lg:col-span-2 text-white rounded-lg text-center"},Ce=["onClick"],Ee=t("i",{class:"fas fa-trash-alt"},null,-1),qe={key:1,class:"grid grid-cols-12 gap-4 p-2 mt-3"},Te={class:"w-full flex flex-col items-start col-span-12 sm:col-span-6 md:col-span-6 lg:col-span-6 rounded-lg text-center"},Ue=t("label",{class:"px-2 text-gray-900 font-medium"},"Saludo inicial:",-1),Me=t("p",{class:"px-2 text-gray-400 font-medium text-xs"},"Lo pondremos al inicio de tus respuestas.",-1),Se={class:"w-full flex flex-col items-start col-span-12 sm:col-span-6 md:col-span-6 lg:col-span-6"},Ve=t("label",{class:"px-2 text-gray-900 font-medium"},"Firma:",-1),ze=t("p",{class:"px-2 text-gray-400 font-medium text-xs"},"Lo pondremos al final de tus respuestas.",-1),Re={class:"flex justify-end py-3"},Be="Respuestas Rapidas",z="respuestasrapidas",De="mercadolibre",it={__name:"ModalRepuestaRapidas",props:{tipo:{type:String}},emits:["addTexto"],setup(F,{emit:A}){const C=F,L=le(),N=oe(),_=m(!1),o=te({etiquetas:[],saludo:[],firma:[]}),M=[{bg:"#ff9191"},{bg:"#ffb15e"},{bg:"#7ad690"},{bg:"#91cdff"},{bg:"#c591ff"},{bg:"#ff91d5"}],S=m(null),E=m([]),d=m(""),q=m(null),y=m(""),T=m(null),O=()=>{_.value=!0},P=l=>{let s=E.value[l].descripcion;Q(s,l)};function Q(l,s){A("addTexto",{respuesta:l,index:s})}const Y=l=>{T.value=l.bg,q.value=l.bg},G=()=>{o.clearErrors(),d.value.trim().length===0?w("error","Error","Por favor ingresá un nombre a la etiqueta."):y.value.trim().length===0?w("error","Error","Por favor ingresá la respuesta rápida."):o.etiquetas.some(s=>s.titulo===d.value)?w("error","Error","Ya existe el nombre de la etiqueta."):(o.etiquetas.push({id:null,titulo:d.value,tipo:C.tipo,descripcion:y.value,color:q.value}),w("success","Mensaje","Respuesta agregada, no te olvides de guardar los cambios."),d.value=null,y.value=null,q.value=null)},H=async l=>{const s=o.etiquetas[l];if(o.etiquetas.splice(l,1),s.id!==null)try{await $.delete(route(z+".destroy",s.id))}catch(u){console.error("Error al eliminar usuario:",u)}else return};X(()=>{R(),T.value=M[0].bg,q.value=M[0].bg});const R=()=>{$.get(route(z+".index",C.tipo)).then(l=>{E.value=l.data.respuestas;var s=l.data.firma,u=l.data.saludo;o.etiquetas=E.value.map(p=>({id:p.id,titulo:p.titulo,tipo:p.tipo,descripcion:p.descripcion,color:p.color})),o.firma.push(s),o.saludo.push(u)}).finally(()=>{L.hide()})},W=()=>{o.reset(),o.clearErrors(),_.value=!1},J=()=>{o.clearErrors(),o.post(route(z+".update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{_.value=!1,w("success","Mensaje","Se ha editado"),C.tipo=="pregunta"&&setTimeout(()=>{se.get(route(De+".preguntas.lista"))},500),R()},onFinish:()=>{},onError:()=>{}})},K=l=>{d.value=l.target.value.toUpperCase()},w=(l,s,u)=>{N.add({severity:l,summary:s,detail:u,life:4e3})};return(l,s)=>{const u=B("Button"),p=B("Dialog");return r(),n("section",null,[(r(!0),n(f,null,x(E.value,(e,i)=>(r(),n("button",{onClick:k(c=>P(i),["prevent"]),class:"px-3 py-1 m-1 text-sm text-white rounded text-medium",style:U({backgroundColor:e.color})},Z(e.titulo),13,re))),256)),t("button",{onClick:k(O,["prevent"]),class:"w-full bg-gray-200 hover:bg-gray-300 text-xs p-2 rounded mt-3 flex items-center justify-center gap-2"},[ne,D(" Modificar respuestas rápidas ")],8,ae),g(p,{visible:_.value,"onUpdate:visible":s[6]||(s[6]=e=>_.value=e),modal:"",header:Be,style:{width:"70rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},position:"top",pt:{header:{class:"mt-6 p-2 lg:p-4 "},content:{class:"p-4 lg:p-4"}}},{default:ee(()=>[t("div",ue,[t("div",ie,[v(t("input",{type:"text",placeholder:"ETIQUETA",onInput:s[0]||(s[0]=e=>K(e)),"onUpdate:modelValue":s[1]||(s[1]=e=>d.value=e),class:"placeholder:text-white text-center text-[16px] border font-normal h-10 rounded-md w-full py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",style:U({backgroundColor:T.value||"#484545"})},null,36),[[b,d.value]]),t("div",ce,[(r(),n(f,null,x(M,(e,i)=>t("button",{key:i,class:j(["m-1 p-2 rounded-full w-4 h-4 border border-gray-300",{"scale-110 border-gray-800":T.value===e.bg}]),style:U({backgroundColor:e.bg,filter:S.value===i?"brightness(0.9)":"brightness(1)"}),onMouseover:c=>S.value=i,onMouseleave:s[2]||(s[2]=c=>S.value=null),onClick:c=>Y(e)},null,46,de)),64))])]),t("div",pe,[v(t("textarea",{"onUpdate:modelValue":s[3]||(s[3]=e=>y.value=e),rows:"3",placeholder:"Ingresá la respuesta rápida",class:"w-full h-[60px] border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"},null,512),[[b,y.value]])]),t("div",me,[t("button",{type:"button",onClick:k(G,["prevent"]),class:"w-full h-[60px] bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md"}," Agregar ",8,ge)])]),t("form",{onSubmit:k(J,["prevent"])},[xe,a(o).errors.length>0?(r(),n("div",ve,[g(h,{class:"mt-1 text-lg w-full",message:a(o).errors.etiquetas},null,8,["message"]),(r(!0),n(f,null,x(a(o).errors.campos_etiquetas,e=>(r(),V(h,{class:"mt-1 mb-0 text-lg",message:e},null,8,["message"]))),256)),(r(!0),n(f,null,x(a(o).errors.campos_saludo,e=>(r(),V(h,{class:"mt-1 mb-0 text-lg",message:e},null,8,["message"]))),256)),(r(!0),n(f,null,x(a(o).errors.campos_firma,e=>(r(),V(h,{class:"mt-1 mb-0 text-lg",message:e},null,8,["message"]))),256))])):I("",!0),(r(!0),n(f,null,x(a(o).etiquetas,(e,i)=>(r(),n("div",be,[t("div",he,[v((r(),n("input",{key:i,type:"text",placeholder:"ETIQUETA","onUpdate:modelValue":c=>e.titulo=c,class:"placeholder:text-gray-500 text-center text-[16px] uppercase border font-normal h-8 rounded-md w-full py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",style:U({backgroundColor:e.color||"#ffffff"})},null,12,_e)),[[b,e.titulo]])]),t("div",ye,[v(t("textarea",{"onUpdate:modelValue":c=>e.descripcion=c,rows:"3",placeholder:"Ingresá la respuesta rápida",class:"w-full h-[60px] border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"},null,8,we),[[b,e.descripcion]])]),t("div",ke,[t("button",{type:"button",onClick:k(c=>H(i),["prevent"]),class:"w-full h-[34px] bg-red-500 hover:bg-red-600 text-white font-medium rounded-md"},[Ee,D(" Borrar ")],8,Ce)])]))),256)),C.tipo=="pregunta"?(r(),n("div",qe,[t("div",Te,[Ue,v(t("textarea",{"onUpdate:modelValue":s[4]||(s[4]=e=>a(o).saludo[0].value=e),rows:"3",class:"w-full h-[60px] border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"},null,512),[[b,a(o).saludo[0].value]]),Me,g(h,{class:"mt-1 text-xs",message:a(o).errors.saludo},null,8,["message"])]),t("div",Se,[Ve,v(t("textarea",{"onUpdate:modelValue":s[5]||(s[5]=e=>a(o).firma[0].value=e),rows:"3",class:"w-full h-[60px] border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"},null,512),[[b,a(o).firma[0].value]]),ze,g(h,{class:"mt-1 text-xs",message:a(o).errors.firma},null,8,["message"])])])):I("",!0),t("div",Re,[g(u,{label:"Cancelar",pt:{root:"mr-3 py-1"},severity:"danger",size:"small",onClick:W,type:"button"}),g(u,{label:"Guardar",size:"small",severity:"success",type:"submit",class:j({"opacity-50":a(o).processing}),disabled:a(o).processing},null,8,["class","disabled"])])],40,fe)]),_:1},8,["visible"])])}}};export{it as default};
