import{_ as C}from"./AppLayout-BSm2L3NG.js";import{T as D,K as m,Z as j,O as u}from"./@inertiajs-CMyvZJ1U.js";import{aH as T}from"./primevue-DAb-R_om.js";import{o as S,R as B,f as i,g as n,W as x,E as s,Y as g,j as t,U as b,u as c,D as a,C as r,F as h,A as O}from"./@vue-BLfC86mR.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-DhUVDY3P.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./loader-D-Kjbgh8.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-Ck_2Ecjm.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";const A={class:"card px-4 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},E={class:"px-0 py-1 m-2 mt-0 col-span-full flex justify-start items-center"},P=t("span",{class:"text-black font-semibold"},"Editar",-1),V=t("span",{class:"text-white font-semibold"},"Facturar",-1),N={class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},U={class:"text-2xl font-medium"},$={class:"mx-auto grid max-w-2xl grid-cols-1 gap-x-1 gap-y-1 px-4 py-2 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-8"},M={class:"col-span-1"},R={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},I=t("b",null," Fecha: ",-1),L={class:"col-span-1"},H={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},K=t("b",null," Moneda: ",-1),W={class:"col-span-1"},Y={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},Z=t("b",null," Tipo Cambio: ",-1),q={class:"col-span-1"},z={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},G=t("b",null," Vendedor: ",-1),J={class:"col-span-1"},Q={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},X=t("b",null," Destino: ",-1),tt={class:"col-span-1"},ot={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},et=t("b",null," Cliente: ",-1),st={class:"col-span-1"},at={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},rt=t("b",null," Empresa: ",-1),dt={class:"col-span-1"},nt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},lt=t("b",null," Rut: ",-1),it={class:"col-span-1"},ct={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},_t=t("b",null," Localidad: ",-1),pt={class:"col-span-1"},gt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},mt=t("b",null," Direccion: ",-1),ut={key:0,class:"col-span-1"},xt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},bt=t("b",null," Nro. Orden: ",-1),ht={key:1,class:"col-span-1"},yt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},ft=t("b",null," MP: ",-1),vt={key:2,class:"col-span-1"},kt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},wt=t("b",null," Auth ID: ",-1),Ft={class:"col-span-3"},Ct={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},Dt=t("b",null," Observaciones: ",-1),jt=t("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[t("h5",{class:"text-2xl font-medium"},"Productos")],-1),Tt={class:"mx-auto grid max-w-2xl grid-cols-12 overflow-auto gap-x-1 gap-y-0 px-2 py-0 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-1"},St={class:"table-auto mx-2 border border-gray-300 col-span-full"},Bt=t("thead",null,[t("tr",{class:"p-2 bg-secondary-900 border"},[t("th",{class:"border border-gray-300 p-1"},"Cantidad"),t("th",{class:"border border-gray-300"},"Origen"),t("th",{class:"border border-gray-300"},"Imagen"),t("th",{class:"border border-gray-300"},"Producto"),t("th",{class:"border border-gray-300"},"CÃ³digo de Barras"),t("th",{class:"border border-gray-300"},"Precio"),t("th",{class:"border border-gray-300"},"Total")])],-1),Ot={class:"border border-gray-300 p-1"},At={class:"border border-gray-300 p-1"},Et={class:"flex justify-center items-center pt-1"},Pt=["src"],Vt={class:"border border-gray-300 p-1"},Nt={class:"border border-gray-300 p-1"},Ut={class:"border border-gray-300 p-1"},$t={class:"border border-gray-300 p-1"},Mt=t("td",{colspan:"5",class:"border border-gray-300 p-1 text-end pr-2"},[t("b",null,"Subtotal: ")],-1),Rt={class:"border border-gray-300 p-1 text-center"},It=t("td",{colspan:"5",class:"border border-gray-300 p-1 text-end pr-2"},[t("b",null,"Total (con impuesto): ")],-1),Lt={class:"border border-gray-300 p-1 text-center"},y="Detalle Venta",p="cajas",Co={__name:"Show",setup(Ht){const f=T(),o=D({id:"",vendedor:"",destino:"",codigo:"",total:0,fecha:"",total_sin_iva:0,moneda:"",tipo_cambio:"",estado:"",observaciones:"",productos:[],cliente:"",direccion:"",localidad:"",nro_casa:"",telefono:"",mp_id:"",auth_id:""}),v=e=>{u.get(route(p+".edit",e))},k=e=>{o.get(route(p+".facturar",e),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{w("success","Mensaje","Se ha Facturado"),setTimeout(()=>{u.get(route(p+".index"))},1e3)},onFinish:()=>{},onError:()=>{}})},w=(e,l,_)=>{f.add({severity:e,summary:l,detail:_,life:3e3})};return S(()=>{var e=m().props.venta.data;o.id=e.id,o.fecha=e.fecha,o.vendedor=e.vendedor,o.facturador=e.facturador,o.validador=e.validador,o.observaciones=e.observaciones,o.destino=e.destino,o.cliente=e.cliente,o.empresa=e.empresa,o.rut=e.rut,o.direccion=e.direccion,o.localidad=e.localidad,o.telefono=e.telefono,o.moneda=e.moneda,o.estado=e.estado,o.productos=e.productos,o.nro_compra=e.nro_compra,o.nro_orden=e.nro_orden,o.total_sin_iva=e.total_sin_iva,o.total=e.total,o.codigo=e.codigo,o.mp_id=e.mp_id,o.auth_id=e.auth_id,o.nro_casa=e.nro_casa,o.tipo_cambio=e.tipo_cambio.toFixed(2)}),(e,l)=>{const _=B("Button");return n(),i(h,null,[x(s(j),{title:y}),x(C,{pagina:[{label:"Caja",link:!0,url:e.route(p+".index")},{label:y,link:!1}]},{default:g(()=>[t("div",A,[t("div",E,[s(o).estado!="FACTURADO"?(n(),b(_,{key:0,onClick:l[0]||(l[0]=d=>v(s(o).id)),class:"rounded border-0 bg-yellow-500 px-2 py-0.5 text-base font-normal m-2 hover:bg-yellow-600"},{default:g(()=>[P]),_:1})):c("",!0),s(o).estado!="FACTURADO"?(n(),b(_,{key:1,onClick:l[1]||(l[1]=d=>k(s(o).id)),class:"rounded border-0 bg-green-700 px-2 py-0.5 text-base font-normal m-2 hover:bg-green-600"},{default:g(()=>[V]),_:1})):c("",!0)]),t("div",N,[t("h5",U,"Cliente: "+a(s(o).cliente),1)]),t("div",$,[t("div",M,[t("p",R,[I,r(" "+a(s(o).fecha),1)])]),t("div",L,[t("p",H,[K,r(" "+a(s(o).moneda),1)])]),t("div",W,[t("p",Y,[Z,r(" "+a(s(o).tipo_cambio),1)])]),t("div",q,[t("p",z,[G,r(" "+a(s(o).vendedor),1)])]),t("div",J,[t("p",Q,[X,r(" "+a(s(o).destino),1)])]),t("div",tt,[t("p",ot,[et,r(" "+a(s(o).cliente),1)])]),t("div",st,[t("p",at,[rt,r(" "+a(s(o).empresa),1)])]),t("div",dt,[t("p",nt,[lt,r(" "+a(s(o).rut),1)])]),t("div",it,[t("p",ct,[_t,r(" "+a(s(o).localidad),1)])]),t("div",pt,[t("p",gt,[mt,r(" "+a(s(o).direccion)+" "+a(s(o).nro_casa),1)])]),s(o).nro_orden?(n(),i("div",ut,[t("p",xt,[bt,r(" "+a(s(o).nro_orden),1)])])):c("",!0),s(o).mp_id!==""?(n(),i("div",ht,[t("p",yt,[ft,r(" "+a(s(o).mp_id),1)])])):c("",!0),s(o).auth_id!==""?(n(),i("div",vt,[t("p",kt,[wt,r(" "+a(s(o).auth_id),1)])])):c("",!0),t("div",Ft,[t("p",Ct,[Dt,r(" "+a(s(o).observaciones),1)])])]),jt,t("div",Tt,[t("table",St,[Bt,t("tbody",null,[(n(!0),i(h,null,O(s(o).productos,(d,F)=>(n(),i("tr",{key:F,class:"font-sans text-center font-normal text-gray-800 border border-gray-300"},[t("td",Ot,a(d.cantidad),1),t("td",At,a(d.producto.origen),1),t("td",Et,[t("img",{class:"rounded bg-white shadow-2xl border-2 text-center w-10 h-10 object-contain",src:s(m)().props.base_url+d.producto.imagen,alt:"image"},null,8,Pt)]),t("td",Vt,a(d.producto.nombre),1),t("td",Nt,a(d.producto.codigo_barra),1),t("td",Ut,a(d.precio_sin_iva.toFixed(2)),1),t("td",$t,a(d.total_sin_iva.toFixed(2)),1)]))),128))]),t("tfoot",null,[t("tr",null,[Mt,t("td",Rt,[t("b",null,a(s(o).moneda=="Pesos"?"$ ":"USD ")+" "+a(s(o).total_sin_iva.toFixed(2)),1)])]),t("tr",null,[It,t("td",Lt,[t("b",null,a(s(o).moneda=="Pesos"?"$ ":"USD ")+" "+a(s(o).total.toFixed(2)),1)])])])])])])]),_:1},8,["pagina"])],64)}}};export{Co as default};
