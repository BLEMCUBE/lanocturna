import{_ as D}from"./AppLayout-ChcmoOn7.js";import{K as b,T as j,Z as S,O as x}from"./@inertiajs-B6DOW0KO.js";import{aG as B}from"./primevue-B_pu_EB_.js";import{o as O,R as h,f as i,g as n,W as g,E as s,Y as m,j as t,U as y,u as c,D as r,C as a,F as f,A as E}from"./@vue-BLfC86mR.js";import"./pusher-js-Ck_2Ecjm.js";import"./logo-C8Jea0Rc.js";import"./pinia-DeiM1QY_.js";import"./@vueuse-BEDuuF1-.js";import"./sweetalert2-DQJME8_f.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./axios-Dq7h7Pqt.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-Dzj_DFKn.js";import"./side-channel-DZFSYYHh.js";import"./get-intrinsic-gH0OeWJ1.js";import"./has-symbols-CABd5qHC.js";import"./has-proto-CpIZBmUT.js";import"./function-bind-C4RYm_-a.js";import"./has-D2ofp1JE.js";import"./call-bind-7ir4MDz-.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";const P={class:"card px-4 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},V={class:"px-0 py-1 m-2 mt-0 col-span-full flex justify-start items-center"},A=t("span",{class:"text-black font-semibold"},"Editar",-1),N=t("span",{class:"text-white font-semibold"},"Facturar",-1),U={class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},$={class:"text-2xl font-medium"},M={class:"mx-auto grid max-w-2xl grid-cols-1 gap-x-1 gap-y-1 px-4 py-2 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-8"},R={class:"col-span-1"},G={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},K=t("b",null," Fecha: ",-1),L={class:"col-span-1"},W={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},Y=t("b",null," Moneda: ",-1),Z={class:"col-span-1"},q={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},z=t("b",null," Tipo Cambio: ",-1),H={class:"col-span-1"},I={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},J=t("b",null," Vendedor: ",-1),Q={class:"col-span-1"},X={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},tt=t("b",null," Destino: ",-1),ot={class:"col-span-1"},et={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},st=t("b",null," Cliente: ",-1),rt={class:"col-span-1"},at={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},dt=t("b",null," Empresa: ",-1),nt={class:"col-span-1"},lt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},it=t("b",null," Rut: ",-1),ct={key:0,class:"col-span-1"},_t={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},pt=t("b",null," Nro. Orden: ",-1),gt={key:1,class:"col-span-1"},mt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},ut=t("b",null," MP: ",-1),bt={class:"col-span-3"},xt={class:"text-lg leading-6 mt-0 text-gray-700 dark:text-gray-300"},ht=t("b",null," Observaciones: ",-1),yt=t("div",{class:"px-0 py-1 m-2 mt-0 bg-primary-900 text-white col-span-full flex justify-center items-center"},[t("h5",{class:"text-2xl font-medium"},"Productos")],-1),ft={class:"mx-auto grid max-w-2xl grid-cols-12 overflow-auto gap-x-1 gap-y-0 px-2 py-0 sm:px-6 lg:max-w-7xl lg:grid-cols-3 lg:px-1"},vt={class:"table-auto mx-2 border border-gray-300 col-span-full"},kt=t("thead",null,[t("tr",{class:"p-2 bg-secondary-900 border"},[t("th",{class:"border border-gray-300 p-1"},"Cantidad"),t("th",{class:"border border-gray-300"},"Origen"),t("th",{class:"border border-gray-300"},"Producto"),t("th",{class:"border border-gray-300"},"CÃ³digo de Barras"),t("th",{class:"border border-gray-300"},"Precio"),t("th",{class:"border border-gray-300"},"Total")])],-1),wt={class:"border border-gray-300 p-1"},Ft={class:"border border-gray-300 p-1"},Ct={class:"border border-gray-300 p-1"},Tt={class:"border border-gray-300 p-1"},Dt={class:"border border-gray-300 p-1"},jt={class:"border border-gray-300 p-1"},St=t("td",{colspan:"5",class:"border border-gray-300 p-1 text-end pr-2"},[t("b",null,"Subtotal: ")],-1),Bt={class:"border border-gray-300 p-1 text-center"},Ot=t("td",{colspan:"5",class:"border border-gray-300 p-1 text-end pr-2"},[t("b",null,"Total (con impuesto): ")],-1),Et={class:"border border-gray-300 p-1 text-center"},v="Detalle Venta",_="cajas",no={__name:"Show",setup(Pt){const{permissions:Vt}=b().props.auth,k=B(),o=j({id:"",vendedor:"",destino:"",codigo:"",total:0,fecha:"",total_sin_iva:0,moneda:"",tipo_cambio:"",estado:"",observaciones:"",productos:[],cliente:"",direccion:"",localidad:"",telefono:"",mp_id:""}),w=e=>{x.get(route(_+".edit",e))},F=e=>{o.get(route(_+".facturar",e),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{C("success","Mensaje","Se ha Facturado"),setTimeout(()=>{x.get(route(_+".index"))},1e3)},onFinish:()=>{},onError:()=>{}})},C=(e,l,p)=>{k.add({severity:e,summary:l,detail:p,life:3e3})};return O(()=>{var e=b().props.venta.data;o.id=e.id,o.fecha=e.fecha,o.vendedor=e.vendedor,o.facturador=e.facturador,o.validador=e.validador,o.observaciones=e.observaciones,o.destino=e.destino,o.cliente=e.cliente,o.empresa=e.empresa,o.rut=e.rut,o.direccion=e.direccion,o.localidad=e.localidad,o.telefono=e.telefono,o.moneda=e.moneda,o.estado=e.estado,o.productos=e.productos,o.nro_compra=e.nro_compra,o.nro_orden=e.nro_orden,o.total_sin_iva=e.total_sin_iva,o.total=e.total,o.codigo=e.codigo,o.mp_id=e.mp_id,o.tipo_cambio=e.tipo_cambio.toFixed(2)}),(e,l)=>{const p=h("Toast"),u=h("Button");return n(),i(f,null,[g(s(S),{title:v}),g(D,{pagina:[{label:"Caja",link:!0,url:e.route(_+".index")},{label:v,link:!1}]},{default:m(()=>[t("div",P,[g(p),t("div",V,[s(o).estado!="FACTURADO"?(n(),y(u,{key:0,onClick:l[0]||(l[0]=d=>w(s(o).id)),class:"rounded border-0 bg-yellow-500 px-2 py-0.5 text-base font-normal m-2 hover:bg-yellow-600"},{default:m(()=>[A]),_:1})):c("",!0),s(o).estado!="FACTURADO"?(n(),y(u,{key:1,onClick:l[1]||(l[1]=d=>F(s(o).id)),class:"rounded border-0 bg-green-700 px-2 py-0.5 text-base font-normal m-2 hover:bg-green-600"},{default:m(()=>[N]),_:1})):c("",!0)]),t("div",U,[t("h5",$,"Cliente: "+r(s(o).cliente),1)]),t("div",M,[t("div",R,[t("p",G,[K,a(" "+r(s(o).fecha),1)])]),t("div",L,[t("p",W,[Y,a(" "+r(s(o).moneda),1)])]),t("div",Z,[t("p",q,[z,a(" "+r(s(o).tipo_cambio),1)])]),t("div",H,[t("p",I,[J,a(" "+r(s(o).vendedor),1)])]),t("div",Q,[t("p",X,[tt,a(" "+r(s(o).destino),1)])]),t("div",ot,[t("p",et,[st,a(" "+r(s(o).cliente),1)])]),t("div",rt,[t("p",at,[dt,a(" "+r(s(o).empresa),1)])]),t("div",nt,[t("p",lt,[it,a(" "+r(s(o).rut),1)])]),s(o).nro_orden?(n(),i("div",ct,[t("p",_t,[pt,a(" "+r(s(o).nro_orden),1)])])):c("",!0),s(o).mp_id!==""?(n(),i("div",gt,[t("p",mt,[ut,a(" "+r(s(o).mp_id),1)])])):c("",!0),t("div",bt,[t("p",xt,[ht,a(" "+r(s(o).observaciones),1)])])]),yt,t("div",ft,[t("table",vt,[kt,t("tbody",null,[(n(!0),i(f,null,E(s(o).productos,(d,T)=>(n(),i("tr",{key:T,class:"font-sans text-center font-normal text-gray-800 border border-gray-300"},[t("td",wt,r(d.cantidad),1),t("td",Ft,r(d.producto.origen),1),t("td",Ct,r(d.producto.nombre),1),t("td",Tt,r(d.producto.codigo_barra),1),t("td",Dt,r(d.precio.toFixed(2)),1),t("td",jt,r(d.total.toFixed(2)),1)]))),128))]),t("tfoot",null,[t("tr",null,[St,t("td",Bt,[t("b",null,r(s(o).moneda=="Pesos"?"$ ":"USD ")+" "+r(s(o).total_sin_iva.toFixed(2)),1)])]),t("tr",null,[Ot,t("td",Et,[t("b",null,r(s(o).moneda=="Pesos"?"$ ":"USD ")+" "+r(s(o).total.toFixed(2)),1)])])])])])])]),_:1},8,["pagina"])],64)}}};export{no as default};
