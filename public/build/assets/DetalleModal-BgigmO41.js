import{r as x,M as n,e as _,f as g,i as e,Q as a,S as s,y as v,ab as A,j as U,p as z,x as h,q}from"./@vue-BG0wrCoO.js";import{T as y}from"./@inertiajs-BPLxF6VH.js";import{a as F}from"./axios-ngrFHoWO.js";import{aH as P,aG as R,aI as $}from"./primevue-DlS7f910.js";import{u as G}from"./loader-DTMt_fBO.js";import w from"./CrearEditarValores-BRWBU5Vw.js";import"./deepmerge-CejY7WQD.js";import"./qs-DSMFT7gQ.js";import"./side-channel-C2E4DO94.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-sCGRVelf.js";import"./nprogress-D6y_-DtI.js";import"./lodash.clonedeep-DcClQ2Wp.js";import"./lodash.isequal-qgBWtdDc.js";import"./pinia-f5v7c1ZR.js";import"./InputError-cOM6HFrc.js";import"./InputLabel-BIVuqiPx.js";const H={class:"w-full flex flex-col md:flex-row py-1"},O=e("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[e("h3",{class:"font-semibold text-gray-800 text-base"}," Atributo:")],-1),Q={class:"w-full md:w-2/3"},J={class:"font-normal text-gray-800 text-base"},K={class:"px-5 pb-2 col-span-full flex justify-between items-center"},W={class:"align-middle"},X={class:"flex justify-content-end text-md"},Y={class:"inline-block rounded bg-primary-900 px-2 py-1 text-base font-medium text-white mr-1 mb-1 hover:bg-primary-100"},Z={key:0,class:"inline-block rounded bg-red-700 px-2 py-1 text-base font-medium text-white mr-1 mb-1 hover:bg-red-600"},ee=["onClick"],te=e("i",{class:"fas fa-trash-alt"},null,-1),oe=[te],ae={class:"flex justify-end py-3"},ie={class:"flex flex-column align-items-center w-full gap-3 border-bottom-1 surface-border"},le="Atributo",C="atributos-valores",Ae={__name:"DetalleModal",props:{itemId:{type:Number,default:null},atributoId:{type:Number,default:null},atributoNombre:{type:String,default:null}},setup(k){const d=k,u=G(),N=P(),D=R(),m=x(!1),I=y({id:""}),r=y({id:"",nombre:"",valores:[]}),T=()=>{p(d.itemId)},b=i=>{p(i.atributoId)},p=i=>{u.show(),F.get(route(C+".index",i)).then(o=>{m.value=!0;var l=o.data.atributo;r.id=l.id,r.nombre=l.nombre,r.valores=l}).finally(()=>{u.hide()})},j=(i,o)=>{D.require({group:"templating1",header:"Eliminar",message:"Seguro de eliminar "+o,icon:"pi pi-exclamation-circle",acceptIcon:"pi pi-check",rejectIcon:"pi pi-times",rejectClass:"bg-red-700 px-2 py-1 text-base border-none font-medium text-white mr-1 b-1 hover:bg-red-600",acceptClass:"button-sm",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{I.delete(route(C+".destroy",i)),S("success","Eliminado","Se ha eliminado"),setTimeout(()=>{p(d.itemId)},500)},reject:()=>{}})},L=()=>{r.reset(),r.clearErrors(),m.value=!1},S=(i,o,l)=>{N.add({severity:i,summary:o,detail:l,life:3e3})},c=x({global:{value:null,matchMode:$.CONTAINS}});return(i,o)=>{const l=n("InputText"),f=n("Column"),M=n("DataTable"),V=n("Button"),B=n("ConfirmDialog"),E=n("Dialog");return g(),_("section",null,[e("button",{type:"button",onClick:T},"Valores"),a(E,{visible:m.value,"onUpdate:visible":o[2]||(o[2]=t=>m.value=t),modal:"",header:"Detalle "+le,style:{width:"30vw"},breakpoints:{"1199px":"75vw","575px":"90vw"},position:"top",pt:{header:{class:"mt-6 p-2 lg:p-4 "},content:{class:"p-4 lg:p-4"}}},{default:s(()=>[e("div",H,[O,e("div",Q,[e("h3",J,v(d.atributoNombre??"-"),1)])]),e("div",K,[a(w,{onUpdated:b,"atributo-id":d.atributoId},null,8,["atributo-id"])]),e("div",W,[a(M,{size:"small",filters:c.value,"onUpdate:filters":o[1]||(o[1]=t=>c.value=t),value:A(r).valores,paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",tableStyle:"width: 100%"},{header:s(()=>[e("div",X,[a(l,{modelValue:c.value.global.value,"onUpdate:modelValue":o[0]||(o[0]=t=>c.value.global.value=t),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:s(()=>[h(" No existe Resultado ")]),loading:s(()=>[h(" Cargando... ")]),default:s(()=>[a(f,{field:"valor",header:"Nombre",sortable:"",pt:{bodyCell:{class:"text-start px-5"}}}),a(f,{header:"Acciones",style:{width:"80px"},pt:{bodyCell:{class:"text-center flex justify-end"}}},{body:s(t=>[e("div",null,[e("span",Y,[a(w,{onUpdated:b,"item-id":t.data.id,"atributo-id":t.data.atributo_id,"atributo-nombre":t.data.nombre},null,8,["item-id","atributo-id","atributo-nombre"])])]),e("div",null,[t.data.productos==0?(g(),_("span",Z,[e("button",{onClick:z(se=>j(t.data.id,t.data.valor),["prevent"])},oe,8,ee)])):U("",!0)])]),_:1})]),_:1},8,["filters","value"]),e("div",ae,[a(V,{label:"Aceptar",pt:{root:"mr-5 py-1 inline-block rounded bg-primary-900 px-2 py-1 text-base font-medium text-white mr-1 mb-1 hover:bg-primary-100"},size:"small",onClick:L,type:"button"})])]),a(B,{group:"templating1"},{message:s(t=>[e("div",ie,[e("i",{class:q([t.message.icon,"text-6xl text-primary-500"])},null,2),e("p",null,v(t.message.message),1)])]),_:1})]),_:1},8,["visible","header"])])}}};export{Ae as default};
