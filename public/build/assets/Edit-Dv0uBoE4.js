import{r as B,o as E,e as c,f as l,Q as m,ab as d,S as h,i as e,p as F,y as f,F as p,u as x,x as g,P as G,q as $}from"./@vue-BG0wrCoO.js";import{_ as j}from"./AppLayout-DGXGhT07.js";import{_ as N}from"./CheckboxName-BpBT_XwE.js";import{_ as T}from"./PrimaryButton-CfIW6NrM.js";import{K as u,T as V,Z as D}from"./@inertiajs-BPLxF6VH.js";import{aH as M}from"./primevue-DlS7f910.js";import"./logo-C8Jea0Rc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./loader-DTMt_fBO.js";import"./pinia-f5v7c1ZR.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-CipxKyPu.js";import"./axios-ngrFHoWO.js";import"./deepmerge-CejY7WQD.js";import"./qs-DSMFT7gQ.js";import"./side-channel-C2E4DO94.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-sCGRVelf.js";import"./nprogress-D6y_-DtI.js";import"./lodash.clonedeep-DcClQ2Wp.js";import"./lodash.isequal-qgBWtdDc.js";const U={class:"px-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 sm:p-2 dark:bg-gray-800"},q=["onSubmit"],z={class:"grid gap-6 md:grid-cols-2 xl:grid-cols-3"},H={class:"px-5 pb-2 col-span-full flex justify-between items-center"},I={class:"text-2xl font-medium"},K={class:"w-full max-w-md mx-4 bg-white rounded-xl shadow-lg overflow-hidden md:max-w-2xl"},L=e("div",{class:"h-2 bg-gradient-to-r from-blue-500 to-cyan-400"},null,-1),O={class:"p-3"},Q={class:"flex items-center"},R={class:"text-xl pb-2 font-bold text-gray-800"},Z=e("hr",null,null,-1),A={class:"flex items-center gap-2 text-sm text-blue-600 cursor-pointer"},J=["checked","onChange"],W=e("div",{class:"my-2 border-t border-gray-200"},null,-1),X={class:"space-y-2"},Y={class:"grid grid-cols-1 gap-2"},ee={class:"flex justify-start pt-5"},se="Permisos",De={__name:"Edit",setup(te){const{role:_}=u().props,{rolePermissions:n}=u().props,{namedGroups:b}=u().props,v=M(),r=B([]),y=o=>{const t=o.permissions.map(s=>s.id),i=t.every(s=>r.value.includes(s));r.value=i?r.value.filter(s=>!t.includes(s)):[...new Set([...r.value,...t])]},k=o=>o.permissions.every(t=>r.value.includes(t.id)),a=V({id:"",permisos:[]});E(()=>{a.id=_.id,a.permisos=n,r.value=n});const w=()=>{a.permisos=r.value,a.post(route("roles.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{C("success","Confirmado","Rol Editado")},onFinish:()=>{},onError:()=>{}})},S=(o,t)=>{t?n.push(o):n.splice(n.indexOf(o),1)},C=(o,t,i)=>{v.add({severity:o,summary:t,detail:i,life:2e3})};return(o,t)=>(l(),c(p,null,[m(d(D),{title:"Permisos"}),m(j,{pagina:[{label:se,link:!1}]},{default:h(()=>[e("div",U,[e("form",{onSubmit:F(w,["prevent"])},[e("div",z,[e("div",H,[e("h5",I,"Permisos de "+f(d(_).name),1)]),(l(!0),c(p,null,x(d(b),i=>(l(),c("div",{key:i.key,class:"flex items-start justify-center"},[e("div",K,[L,e("div",O,[e("div",Q,[e("div",null,[e("h2",R,f(i.name),1),Z,e("label",A,[e("input",{type:"checkbox",class:"w-5 h-5 rounded-md border-gray-300 text-xl text-primary-900 bg-primary-900 hover:bg-primary-100 shadow-sm cursor-pointer",checked:k(i),onChange:s=>y(i)},null,40,J),g(" Seleccionar todo ")])])]),W,e("div",X,[e("div",Y,[(l(!0),c(p,null,x(i.permissions,s=>(l(),c("label",{key:s.id,class:"flex items-center gap-2 text-sm text-gray-700"},[(l(),G(N,{checked:r.value.includes(s.id),"onUpdate:checked":P=>S(s.id,P),fieldId:"perm.id",label:s.description,key:s.id},null,8,["checked","onUpdate:checked","fieldId","label"]))]))),128))])])])])]))),128))]),e("div",ee,[m(T,{class:$(["inline-block rounded bg-primary-900 p-2 text-sm font-medium text-white mr-1 mb-1 hover:bg-primary-100",{"opacity-50":d(a).processing}]),disabled:d(a).processing},{default:h(()=>[g(" Guardar ")]),_:1},8,["class","disabled"])])],40,q)])]),_:1},8,["pagina"])],64))}};export{De as default};
