import{r as g,M as b,N as U,e as d,f as u,O as h,Q as f,S as j,i as s,p as x,F as B,u as L,ab as r,W as O,q as R,ac as z,ad as N}from"./@vue-BG0wrCoO.js";import{_ as H}from"./InputError-cOM6HFrc.js";import{T as P}from"./@inertiajs-BPLxF6VH.js";import{aH as Q}from"./primevue-DlS7f910.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./axios-ngrFHoWO.js";import"./deepmerge-CejY7WQD.js";import"./qs-DSMFT7gQ.js";import"./side-channel-C2E4DO94.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-sCGRVelf.js";import"./nprogress-D6y_-DtI.js";import"./lodash.clonedeep-DcClQ2Wp.js";import"./lodash.isequal-qgBWtdDc.js";window.URL=window.URL||window.webkitURL;function V(t){return window.URL.createObjectURL(t)}function q(t){const a={};let n=0;for(const o of t){const l=V(o);a[n]=l,n++}return a}function A(){const t=g({}),a=()=>{t.value={}};return{setFile:async(o=[])=>{a(),t.value=q(o)},previewMap:t}}const W=t=>(z("data-v-2dd71908"),t=t(),N(),t),$=W(()=>s("i",{class:"fas fa-image"},null,-1)),G=[$],J=["onSubmit"],K={class:"px-2 grid grid-cols-6 gap-4 mb-2"},X={class:"col-span-6 text-center xl:col-span-6"},Y=["src"],Z=["onClick"],ee={class:"flex justify-end py-2"},te="catalogo",oe={__name:"EditarModal",props:{productoId:{type:Number,default:null},nombre:{type:String,default:""}},setup(t){const a=t,n=Q(),o=g(!1),{setFile:l,previewMap:v}=A(),_=g(null),w=i=>{l(i.target.files),e.imagen=i.target.files[0]},y=()=>{_.value.click()},M=()=>{l([]),e.reset(),e.clearErrors()},e=P({id:"",imagen:"",nombre:""}),S=()=>{C(a.productoId)},C=i=>{o.value=!0,e.id=i,e.nombre=a.nombre},I=()=>{e.reset(),e.clearErrors(),o.value=!1},k=()=>{e.clearErrors(),e.post(route(te+".update",e.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{o.value=!1,F("success","Mensaje","Imagen Actualizada")},onFinish:()=>{},onError:()=>{}})},F=(i,c,p)=>{n.add({severity:i,summary:c,detail:p,life:3e3})};return(i,c)=>{const p=b("Button"),D=b("Dialog"),E=U("tooltip");return u(),d("section",null,[h((u(),d("button",{type:"button",onClick:S},G)),[[E,{value:"Cambiar Imagen",pt:{text:"bg-gray-700 p-1 text-[12px] text-white rounded"}},void 0,{top:!0}]]),f(D,{visible:o.value,"onUpdate:visible":c[0]||(c[0]=m=>o.value=m),onHide:M,modal:!0,header:r(e).nombre,style:{width:"30rem"},position:"top",pt:{header:{class:"mt-3 py-2 px-3 text-[10px]"},content:{class:"py-2 px-4 text-base"},closeButton:{class:"border-none"}}},{default:j(()=>[s("form",{onSubmit:x(k,["prevent"])},[s("div",K,[s("div",X,[(u(!0),d(B,null,L(r(v),m=>h((u(),d("div",{class:"pb-2 flex justify-center mx-auto",key:m},[s("img",{src:m,alt:"",class:"w-auto h-60"},null,8,Y)])),[[O,Object.values(r(v)).length!==0]])),128)),s("input",{ref_key:"inputDOM",ref:_,type:"file",class:"upload",name:"imagen",onChange:w,accept:"image/x-png,image/gif,image/jpeg"},null,544),s("button",{onClick:x(y,["prevent"]),class:"text-white bg-green-700 hover:bg-green-600 px-2 py-1 rounded-md text-xs"},"Seleccionar imagen",8,Z),f(H,{class:"mt-0 pt-0 text-xs",message:r(e).errors.imagen},null,8,["message"])])]),s("div",ee,[f(p,{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:I,type:"button"}),f(p,{label:"Enviar",size:"small",type:"submit",class:R({"opacity-50":r(e).processing}),disabled:r(e).processing},null,8,["class","disabled"])])],40,J)]),_:1},8,["visible","header"])])}}},De=T(oe,[["__scopeId","data-v-2dd71908"]]);export{De as default};
