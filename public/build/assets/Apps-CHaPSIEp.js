import{r as g,o as M,M as h,e as c,f as d,Q as a,ab as N,S as r,i as t,y as V,j as v,p as u,x as k,F as $}from"./@vue-BG0wrCoO.js";import{_ as j}from"./AppLayout-DGXGhT07.js";import{T as A,K as I,Z as E,O as b}from"./@inertiajs-BPLxF6VH.js";import{aH as F,aI as O}from"./primevue-DlS7f910.js";import R from"./CrearModal-OhWZQgAl.js";import q from"./EditarModal-ouQ0v-fw.js";import{S as y}from"./sweetalert2-DhUVDY3P.js";import{u as U}from"./loader-DTMt_fBO.js";import"./logo-C8Jea0Rc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./pinia-f5v7c1ZR.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-CipxKyPu.js";import"./axios-ngrFHoWO.js";import"./deepmerge-CejY7WQD.js";import"./qs-DSMFT7gQ.js";import"./side-channel-C2E4DO94.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-sCGRVelf.js";import"./nprogress-D6y_-DtI.js";import"./lodash.clonedeep-DcClQ2Wp.js";import"./lodash.isequal-qgBWtdDc.js";import"./InputError-cOM6HFrc.js";import"./InputLabel-BIVuqiPx.js";const z={class:"px-4 py-3 mb-4 bg-white col-span-12 dark:border-gray-700 dark:bg-gray-800"},H={class:"px-5 pb-2 col-span-full flex justify-between items-center"},K={class:"align-middle"},P={class:"flex justify-content-end text-md"},Q={class:"flex justify-end justify-items-center"},Z={key:0,class:"mx-2 inline-block rounded bg-green-700 p-2 text-xs font-medium text-white mb-0 hover:bg-green-600"},G=["onClick"],J={key:1,class:"flex"},W={class:"mx-2 rounded bg-red-700 p-2 text-xs font-medium text-white mb-0 hover:bg-red-600"},X=["onClick"],Y={key:0,class:"mx-2 inline-block rounded bg-blue-700 p-2 text-xs font-medium text-white mb-0 hover:bg-blue-600"},ee=["onClick"],te={class:"mx-2"},oe={class:"inline-block rounded bg-primary-900 px-2 py-1 text-base font-medium text-white mb-0 hover:bg-primary-100"},ae={key:2,class:"mx-2 inline-block rounded bg-red-700 px-2 py-1 text-base font-medium text-white mb-0 hover:bg-red-600"},ne=["onClick"],ie=t("i",{class:"fas fa-trash-alt"},null,-1),se=[ie],C="ML Apps",s="mercadolibre.apps",He={__name:"Apps",setup(re){U();const w=F(),x=g(),p=A({id:""});M(()=>{x.value=I().props.items.data});const _=(n,o,l)=>{w.add({severity:n,summary:o,detail:l,life:3e3})},m=g({global:{value:null,matchMode:O.CONTAINS}}),S=(n,o)=>{y.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar "+o,text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red"}).then(i=>{i.isConfirmed&&p.delete(route(s+".destroy",n),{preserveScroll:!0,onSuccess:()=>{_("success","Eliminado","Se ha eliminado"),setTimeout(()=>{b.get(route(s+".index"))},500)}})})},T=(n,o)=>{y.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de Desconectar "+o,icon:"question",showCancelButton:!0,confirmButtonText:"Desconectar",cancelButtonText:"Cancelar",cancelButtonColor:"red"}).then(i=>{i.isConfirmed&&p.get(route(s+".desconectar",n),{preserveScroll:!0,onSuccess:()=>{_("success","Desconectado","Se ha desconectado"),setTimeout(()=>{b.get(route(s+".index"))},500)}})})},B=n=>{p.get(route(s+".refresh-token",n),{preserveScroll:!0,onSuccess:()=>{_("success","Mensaje","Token refrescado"),setTimeout(()=>{b.get(route(s+".index"))},500)}})},D=n=>{let o=route(s+".conectar",n);window.open(o,"_blank")};return(n,o)=>{const l=h("InputText"),i=h("Column"),L=h("DataTable");return d(),c($,null,[a(N(E),{title:"Mercado Libre-Apps"}),a(j,{pagina:[{label:C,link:!1}]},{default:r(()=>[t("div",z,[t("div",H,[t("h5",{class:"text-2xl font-medium"},V(C)),a(R)]),t("div",K,[a(L,{size:"small",filters:m.value,"onUpdate:filters":o[1]||(o[1]=e=>m.value=e),value:x.value,paginator:!0,rows:10,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",tableStyle:"width: 100%"},{header:r(()=>[t("div",P,[a(l,{modelValue:m.value.global.value,"onUpdate:modelValue":o[0]||(o[0]=e=>m.value.global.value=e),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:r(()=>[k(" No existe Resultado ")]),loading:r(()=>[k(" Cargando... ")]),default:r(()=>[a(i,{field:"nombre",header:"Nombre",sortable:""}),a(i,{field:"client_id",header:"Cliente ID",sortable:""}),a(i,{field:"client_secret",header:"Cliente Secret"}),a(i,{field:"access_token",header:"Token Acceso"}),a(i,{field:"expires_at",header:"Expira"}),a(i,{header:"Acciones",style:{width:"200px"}},{body:r(e=>[t("div",Q,[e.data.usuario==0?(d(),c("span",Z,[t("button",{class:"h-5",onClick:u(f=>D(e.data.client_id),["prevent"])},"Conectar ",8,G)])):(d(),c("div",J,[t("span",W,[t("button",{class:"h-5 font-semibold",onClick:u(f=>T(e.data.id,e.data.nombre),["prevent"])},"Desconectar ",8,X)]),e.data.is_expired==1?(d(),c("span",Y,[t("button",{class:"h-5",onClick:u(f=>B(e.data.id),["prevent"])},"Refrescar token ",8,ee)])):v("",!0)])),t("div",te,[t("span",oe,[a(q,{"cliente-id":e.data.id},null,8,["cliente-id"])])]),e.data.is_default==0?(d(),c("span",ae,[t("button",{onClick:u(f=>S(e.data.id,e.data.nombre),["prevent"])},se,8,ne)])):v("",!0)])]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{He as default};
