import{r as g,o as N,R as h,f as c,g as d,W as a,E as M,Y as r,j as t,D as V,u as v,y as u,C as k,F as $}from"./@vue-BLfC86mR.js";import{_ as j}from"./AppLayout-BSm2L3NG.js";import{T as A,K as E,Z as I,O as b}from"./@inertiajs-CMyvZJ1U.js";import{aH as F,aI as O}from"./primevue-DAb-R_om.js";import R from"./CrearModal-ByFCHPkS.js";import q from"./EditarModal-CuuiDH3c.js";import{S as C}from"./sweetalert2-DhUVDY3P.js";import{u as U}from"./loader-D-Kjbgh8.js";import"./logo-C8Jea0Rc.js";import"./pinia-IH2nVPr3.js";import"./@vueuse-BEDuuF1-.js";import"./@headlessui-CeD_lX9I.js";import"./@heroicons-CatyAbtO.js";import"./laravel-echo-CPaRdDZ5.js";import"./pusher-js-Ck_2Ecjm.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";import"./InputError-DdpGOVhM.js";import"./InputLabel-CkCrW4zf.js";const z={class:"px-4 py-3 mb-4 bg-white col-span-12 dark:border-gray-700 dark:bg-gray-800"},H={class:"px-5 pb-2 col-span-full flex justify-between items-center"},K={class:"align-middle"},P={class:"flex justify-content-end text-md"},W={class:"flex justify-end justify-items-center"},Y={key:0,class:"mx-2 inline-block rounded bg-green-700 p-2 text-xs font-medium text-white mb-0 hover:bg-green-600"},Z=["onClick"],G={key:1,class:"flex"},J={class:"mx-2 rounded bg-red-700 p-2 text-xs font-medium text-white mb-0 hover:bg-red-600"},Q=["onClick"],X={key:0,class:"mx-2 inline-block rounded bg-blue-700 p-2 text-xs font-medium text-white mb-0 hover:bg-blue-600"},ee=["onClick"],te={class:"mx-2"},oe={class:"inline-block rounded bg-primary-900 px-2 py-1 text-base font-medium text-white mb-0 hover:bg-primary-100"},ae={key:2,class:"mx-2 inline-block rounded bg-red-700 px-2 py-1 text-base font-medium text-white mb-0 hover:bg-red-600"},ie=["onClick"],ne=t("i",{class:"fas fa-trash-alt"},null,-1),se=[ne],y="ML Apps",s="mercadolibre.apps",Pe={__name:"Apps",setup(re){U();const w=F(),x=g(),p=A({id:""});N(()=>{x.value=E().props.items.data});const _=(i,o,l)=>{w.add({severity:i,summary:o,detail:l,life:3e3})},m=g({global:{value:null,matchMode:O.CONTAINS}}),S=(i,o)=>{C.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar "+o,text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red"}).then(n=>{n.isConfirmed&&p.delete(route(s+".destroy",i),{preserveScroll:!0,onSuccess:()=>{_("success","Eliminado","Se ha eliminado"),setTimeout(()=>{b.get(route(s+".index"))},500)}})})},T=(i,o)=>{C.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de Desconectar "+o,icon:"question",showCancelButton:!0,confirmButtonText:"Desconectar",cancelButtonText:"Cancelar",cancelButtonColor:"red"}).then(n=>{n.isConfirmed&&p.get(route(s+".desconectar",i),{preserveScroll:!0,onSuccess:()=>{_("success","Desconectado","Se ha desconectado"),setTimeout(()=>{b.get(route(s+".index"))},500)}})})},B=i=>{p.get(route(s+".refresh-token",i),{preserveScroll:!0,onSuccess:()=>{_("success","Mensaje","Token refrescado"),setTimeout(()=>{b.get(route(s+".index"))},500)}})},D=i=>{let o=route(s+".conectar",i);window.open(o,"_blank")};return(i,o)=>{const l=h("InputText"),n=h("Column"),L=h("DataTable");return d(),c($,null,[a(M(I),{title:"Mercado Libre-Apps"}),a(j,{pagina:[{label:y,link:!1}]},{default:r(()=>[t("div",z,[t("div",H,[t("h5",{class:"text-2xl font-medium"},V(y)),a(R)]),t("div",K,[a(L,{size:"small",filters:m.value,"onUpdate:filters":o[1]||(o[1]=e=>m.value=e),value:x.value,paginator:!0,rows:10,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",tableStyle:"width: 100%"},{header:r(()=>[t("div",P,[a(l,{modelValue:m.value.global.value,"onUpdate:modelValue":o[0]||(o[0]=e=>m.value.global.value=e),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:r(()=>[k(" No existe Resultado ")]),loading:r(()=>[k(" Cargando... ")]),default:r(()=>[a(n,{field:"nombre",header:"Nombre",sortable:""}),a(n,{field:"client_id",header:"Cliente ID",sortable:""}),a(n,{field:"client_secret",header:"Cliente Secret"}),a(n,{field:"access_token",header:"Token Acceso"}),a(n,{field:"expires_at",header:"Expira"}),a(n,{header:"Acciones",style:{width:"200px"}},{body:r(e=>[t("div",W,[e.data.usuario==0?(d(),c("span",Y,[t("button",{class:"h-5",onClick:u(f=>D(e.data.client_id),["prevent"])},"Conectar ",8,Z)])):(d(),c("div",G,[t("span",J,[t("button",{class:"h-5 font-semibold",onClick:u(f=>T(e.data.id,e.data.nombre),["prevent"])},"Desconectar ",8,Q)]),e.data.is_expired==1?(d(),c("span",X,[t("button",{class:"h-5",onClick:u(f=>B(e.data.id),["prevent"])},"Refrescar token ",8,ee)])):v("",!0)])),t("div",te,[t("span",oe,[a(q,{"cliente-id":e.data.id},null,8,["cliente-id"])])]),e.data.is_default==0?(d(),c("span",ae,[t("button",{onClick:u(f=>S(e.data.id,e.data.nombre),["prevent"])},se,8,ie)])):v("",!0)])]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{Pe as default};
