import{j as w,o as l,f as p,C,J as S,b as s,t as g,p as x,K as _,l as T,h as B,T as $,m as E,a as m,u as o,w as b,Z as N,e as P,L as V,n as j,d as D,O as F,c as I}from"./app-da52df30.js";import{_ as M}from"./AppLayout-ad6a5584.js";import{_ as O}from"./PrimaryButton-86b6d0c9.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const U=["value"],q=["for"],L={__name:"CheckboxName",props:{checked:{type:[Array,Boolean],required:!0},value:{default:null},label:String,fieldId:{type:String,required:!0}},emits:["update:checked"],setup(a,{emit:n}){const t=a,d=w({get(){return t.checked},set(c){n("update:checked",c)}});return(c,e)=>(l(),p(x,null,[C(s("input",{type:"checkbox",value:a.value,"onUpdate:modelValue":e[0]||(e[0]=f=>d.value=f),class:"rounded-md border-gray-300 text-xl text-primary-900 bg-primary-900 hover:bg-primary-100 shadow-sm w-5 h-5 cursor-pointer"},null,8,U),[[S,d.value]]),s("label",{for:a.fieldId,class:"ml-2 font-normal text-md text-gray-800 dark:text-white"},g(a.label),9,q)],64))}},z={class:"px-4 py-2 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 sm:p-2 dark:bg-gray-800"},A={class:"px-5 pb-4 col-span-full flex justify-between items-center"},G={class:"text-2xl font-medium"},J=["onSubmit"],K={class:"grid grid-cols-12 gap-2 mt-5 col-span-12 xl:col-span-6"},R={class:"flex justify-start pt-5"},Z="Permisos",se={__name:"Edit",setup(a){const{role:n}=_().props,{rolePermissions:t}=_().props,{permissions:d}=_().props,c=T();B(()=>{e.id=n.id,e.permisos=t});const e=$({id:"",permisos:[]}),f=()=>{e.post(route("roles.update",e.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{k("success","Confirmado","Rol Editado"),window.setTimeout(function(){F.get(route("roles.index"))},1e3)},onFinish:()=>{},onError:()=>{}})},y=(r,u)=>{u?t.push(r):t.splice(t.indexOf(r),1)},k=(r,u,h)=>{c.add({severity:r,summary:u,detail:h,life:2e3})};return(r,u)=>{const h=E("Toast");return l(),p(x,null,[m(o(N),{title:"Permisos"}),m(M,{pagina:[{label:Z,link:!1}]},{default:b(()=>[m(h),s("div",z,[s("div",A,[s("h5",G,"Permisos de "+g(o(n).name),1)]),s("form",{onSubmit:P(f,["prevent"])},[s("div",K,[(l(!0),p(x,null,V(o(d),(i,H)=>(l(),p("div",{key:i.id,class:"col-span-12 xl:col-span-3 m-0.5 flex"},[(l(),I(L,{checked:o(t).includes(i.id),"onUpdate:checked":v=>y(i.id,v),fieldId:"permiso.id",label:i.name,key:i.id},null,8,["checked","onUpdate:checked","fieldId","label"]))]))),128))]),s("div",R,[m(O,{class:j(["inline-block rounded bg-primary-900 p-2 text-sm font-medium text-white mr-1 mb-1 hover:bg-primary-100",{"opacity-50":o(e).processing}]),disabled:o(e).processing},{default:b(()=>[D(" Guardar ")]),_:1},8,["class","disabled"])])],40,J)])]),_:1},8,["pagina"])],64)}}};export{se as default};
