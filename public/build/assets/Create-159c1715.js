import{k as $,l as u,T as B,h as j,m as f,f as _,a,u as s,w as g,q as D,o as v,Z as L,b as e,t as x,y as P,z as b,e as O,n as q,s as G,O as C,C as Z,D as H}from"./app-da12ffbb.js";import{_ as J}from"./AppLayout-14705c4d.js";import{_ as K}from"./CheckboxName-f31e33cf.js";import{_ as c}from"./InputError-50449c1b.js";import{_ as n}from"./InputLabel-e52a7cc7.js";import{s as Q}from"./multiselect-809f05cc.js";import{i as M}from"./es.es-66f45a95.js";import{h as S}from"./moment-fbc5633a.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import"./logo-e22dfca4.js";const y=i=>(Z("data-v-c69aefd0"),i=i(),H(),i),W={class:"card px-4 py-3 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2lg:col-span-12 dark:border-gray-700 dark:bg-gray-800"},X={class:"align-middle"},ee={class:"px-2 pt-4 pb-0 grid grid-cols-12 gap-4 mb-2"},te={class:"col-span-12 shadow-default lg:col-span-3"},ae={class:"col-span-12 shadow-default lg:col-span-3"},se={class:"col-span-12 shadow-default lg:col-span-3"},oe={class:"col-span-12 shadow-default lg:col-span-3 my-auto"},le={class:"col-span-12 shadow-default lg:col-span-3 my-auto"},re={class:"col-span-12 shadow-default lg:col-span-3 my-auto"},ne={class:"col-span-12 shadow-default lg:col-span-12"},ce={class:"flex justify-end pt-2"},ie=y(()=>e("p",{class:"mb-2 font-bold text-md"}," Los siguientes productos no estan registrado , por favor registre y vuelva a intentar. ",-1)),de={class:"w-full border"},ue=y(()=>e("thead",null,[e("tr",{class:"w-full border"},[e("th",{class:"w-26 text-center border"}," Fila "),e("th",{class:"text-center border"}," Sku ")])],-1)),pe={class:"w-full text-center border"},me={class:"text-center border"},fe={class:"text-center border"},_e=y(()=>e("div",{class:"flex flex-column align-items-center",style:{flex:"1"}},[e("div",{class:"text-center"},[e("i",{class:"pi pi-exclamation-triangle text-yellow-500",style:{"font-size":"3rem"}})]),e("div",{class:"font-bold text-2xl m-3"},"No se ha podido importar")],-1)),ge={class:"flex justify-end py-3"},h="Importar",p="importaciones",ve={__name:"Create",setup(i){const I=$(),k=u(null),d=u(!1),w=u(),t=B({nro_carpeta:"",nro_contenedor:"",estado:"",archivo:"",fecha_arribado:"",fecha_camino:"",mueve_stock:!1});j(()=>{t.fecha_arribado=S(new Date).format("YYYY-MM-DD"),t.fecha_camino=S(new Date).format("YYYY-MM-DD")});const V=u({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!1,options:[{value:"Arribado",label:"Arribado"},{value:"En camino",label:"En camino"}]}),F=()=>{t.clearErrors(),t.post(route(p+".store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{A("success","Mensaje","Producto creado"),setTimeout(()=>{C.get(route(p+".index"))},1e3)},onFinish:()=>{},onError:r=>{r.filas!=null&&r.filas.length>1&&(w.value=r.filas.slice(1),d.value=!0)}})},E=()=>{k.value.value=null,t.reset("archivo"),d.value=!1},A=(r,o,m)=>{I.add({severity:r,summary:o,detail:m,life:3e3})},N=()=>{C.get(route(p+".index"))},T=r=>{r.preventDefault(),t.archivo=r.target.files[0]},U=r=>{r?t.mueve_stock=!0:t.mueve_stock=!1};return(r,o)=>{const m=f("Toast"),Y=f("InputText"),z=f("Dialog");return v(),_(D,null,[a(s(L),{title:h}),a(J,{pagina:[{label:"Importaciones",link:!0,url:r.route(p+".index")},{label:h,link:!1}]},{default:g(()=>[e("div",W,[a(m),e("div",{class:"px-3 col-span-full flex justify-between items-center"},[e("h5",{class:"text-2xl font-medium"},x(h))]),e("div",X,[e("form",null,[e("div",ee,[e("div",te,[a(n,{for:"nro_carpeta",value:"No. de Carpeta",class:"block text-base font-medium leading-6 text-gray-900"}),a(Y,{type:"text",id:"nro_carpeta",modelValue:s(t).nro_carpeta,"onUpdate:modelValue":o[0]||(o[0]=l=>s(t).nro_carpeta=l),placeholder:"Ingrese No. de Carpeta",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),a(c,{class:"mt-1 text-xs",message:s(t).errors.nro_carpeta},null,8,["message"])]),e("div",ae,[a(n,{for:"nro_contenedor",value:"BL o No. de Contenedor",class:"block text-base font-medium leading-6 text-gray-900"}),a(Y,{type:"text",id:"nro_carpeta",modelValue:s(t).nro_contenedor,"onUpdate:modelValue":o[1]||(o[1]=l=>s(t).nro_contenedor=l),placeholder:"Ingrese BL o No. de Contenedor",pt:{root:{class:"h-9 w-full"}}},null,8,["modelValue"]),a(c,{class:"mt-1 text-xs",message:s(t).errors.nro_contenedor},null,8,["message"])]),e("div",se,[a(n,{for:"estado",value:"Estado",class:"block text-base font-medium leading-6 text-gray-900"}),a(s(Q),P({id:"rol",modelValue:s(t).estado,"onUpdate:modelValue":o[2]||(o[2]=l=>s(t).estado=l)},V.value),null,16,["modelValue"]),a(c,{class:"mt-1 text-xs",message:s(t).errors.estado},null,8,["message"])]),e("div",oe,[a(n,{for:"estado",value:"Mueve Stock?",class:"block text-base font-medium leading-6 text-gray-900"}),a(K,{checked:s(t).mueve_stock,fieldId:"si","onUpdate:checked":o[3]||(o[3]=l=>U(l)),label:"SI"},null,8,["checked"])]),e("div",le,[a(n,{for:"fecha_camino",value:"Fecha En Camino",class:"block text-base font-medium leading-6 text-gray-900"}),a(s(M),{clearable:!1,editable:!0,type:"date","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"p-inputtext p-component col-span-6 text-gray-700 bg-white transition-colors duration-200 border-0 px-0 py-0",value:s(t).fecha_camino,"onUpdate:value":o[4]||(o[4]=l=>s(t).fecha_camino=l),lang:"es",placeholder:"Seleccione Fecha"},null,8,["value"]),a(c,{class:"mt-1 text-xs",message:s(t).errors.fecha_camino},null,8,["message"])]),e("div",re,[a(n,{for:"estado",value:"Fecha Arribado",class:"block text-base font-medium leading-6 text-gray-900"}),a(s(M),{clearable:!1,editable:!0,type:"date","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",class:"p-inputtext p-component col-span-6 text-gray-700 bg-white transition-colors duration-200 border-0 px-0 py-0",value:s(t).fecha_arribado,"onUpdate:value":o[5]||(o[5]=l=>s(t).fecha_arribado=l),lang:"es",placeholder:"Seleccione Fecha"},null,8,["value"]),a(c,{class:"mt-1 text-xs",message:s(t).errors.fecha_arribado},null,8,["message"])]),e("div",ne,[a(n,{for:"file_input1",value:"Archivo Excel",class:"block text-base font-medium leading-6 text-gray-900"}),e("input",{ref_key:"inputArchivo",ref:k,onInput:T,type:"file",class:"block w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-gray-200 file:text-gray-700 hover:file:bg-gray-300 hover:file:cursor-pointer",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"},null,544),a(c,{class:"mt-1 text-xs",message:s(t).errors.archivo},null,8,["message"])])]),e("div",ce,[a(s(b),{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:N,type:"button"}),a(s(b),{label:"Guardar",onClick:O(F,["prevent"]),size:"small",type:"button",class:q({"opacity-50":s(t).processing}),disabled:s(t).processing},null,8,["onClick","class","disabled"])])])]),a(z,{visible:d.value,"onUpdate:visible":o[7]||(o[7]=l=>d.value=l),modal:"",style:{width:"30vw"},pt:{header:{class:"mt-5 pb-2 px-5"},content:{class:"p-4"}}},{header:g(()=>[_e]),default:g(()=>[ie,e("table",de,[ue,e("tbody",null,[(v(!0),_(D,null,G(w.value,l=>(v(),_("tr",pe,[e("td",me,x(l.fila),1),e("td",fe,x(l.sku),1)]))),256))])]),e("div",ge,[a(s(b),{label:"Aceptar",size:"small",type:"button",onClick:o[6]||(o[6]=l=>E())})])]),_:1},8,["visible"])])]),_:1},8,["pagina"])],64)}}},Se=R(ve,[["__scopeId","data-v-c69aefd0"]]);export{Se as default};
