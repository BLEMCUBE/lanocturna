import{k as R,l as i,K as _,T as $,h as q,F as H,m as w,p as K,f as b,a,u as s,w as t,q as U,o as h,Z as Y,b as l,t as Z,z as S,d as B,A as n,v as z,c as G,e as J,g as Q,O as y}from"./app-b32b7d4e.js";import{_ as W,S as D}from"./AppLayout-2165284d.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const X={class:"card px-4 py-3 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},P={class:"px-3 pb-2 col-span-full flex justify-between items-center"},ee={class:"align-middle p-3"},te={class:"flex justify-content-end text-md"},le=l("div",{class:"flex items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),ae=l("div",{class:"flex align-items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),oe=l("div",{class:"flex align-items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),se=l("div",{class:"flex align-items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),re=l("div",{class:"flex align-items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),ne=l("div",{class:"flex align-items-center",style:{height:"17px","flex-grow":"1",overflow:"hidden"}},null,-1),ie={key:0,class:"p-0 text-white flex justify-center items-center"},ce={class:"w-8 h-8 rounded bg-green-600 flex justify-center items-center text-base font-semibold text-white mr-1 hover:bg-green-600"},de=["href"],ue=l("i",{class:"fas fa-file-excel text-white"},null,-1),pe=[ue],he=l("i",{class:"fas fa-trash-alt"},null,-1),C="Importaciones",m="importaciones",we={__name:"Index",setup(me){const E=R(),x=i([]);_().props.auth;const{tipo_cambio:N}=_().props,V=$({id:""}),T=i(),d=i();q(()=>{x.value=_().props.productos.data,T.value=Array.from(x.value,e=>e),d.value=Array.from({length:x.value.length})});const u=i(!1),f=i(),A=e=>{!u.value&&(u.value=!0),f.value&&clearTimeout(f.value),f.value=setTimeout(()=>{let o=[...d.value],{first:r,last:p}=e;const v=T.value.slice(r,p);Array.prototype.splice.apply(o,[r,p-r,...v]),d.value=o,u.value=!1},Math.random()*1e3+250)},I=e=>{y.get(route(m+".show",e))},M=e=>{D.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar ",text:"Se eliminará definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red",confirmButtonColor:"#2563EB"}).then(r=>{r.isConfirmed&&V.delete(route(m+".destroy",e),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{F("success","Eliminado","Se ha eliminado"),setTimeout(()=>{y.get(route(m+".index"))},1e3)}})})},L=e=>{I(e.data.id)},F=(e,o,r)=>{E.add({severity:e,summary:o,detail:r,life:3e3})},O=()=>{N==!0?y.get(route(m+".create")):j("error","No se ha especificado el tipo de cambio Yuanes para el día")},j=(e,o)=>{D.fire({width:350,title:o,icon:e})},g=i({global:{value:null,matchMode:H.CONTAINS}});return(e,o)=>{const r=w("Toast"),p=w("InputText"),v=w("DataTable"),k=K("tooltip");return h(),b(U,null,[a(s(Y),{title:C}),a(W,{pagina:[{label:C,link:!1}]},{default:t(()=>[l("div",X,[a(r),l("div",P,[l("h5",{class:"text-2xl font-medium"},Z(C)),a(s(S),{size:"small",label:"Importar Excel",severity:"success",onClick:O})]),l("div",ee,[a(v,{filters:g.value,value:d.value,scrollable:"",scrollHeight:"400px",tableStyle:"min-width: 50rem",virtualScrollerOptions:{lazy:!0,onLazyLoad:A,itemSize:46,delay:100,showLoader:!0,loading:u.value,numToleratedItems:15},pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"}},onRowClick:L,size:"small"},{header:t(()=>[l("div",te,[a(p,{modelValue:g.value.global.value,"onUpdate:modelValue":o[0]||(o[0]=c=>g.value.global.value=c),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:t(()=>[B(" No existe Resultado ")]),loading:t(()=>[B(" Cargando... ")]),default:t(()=>[a(s(n),{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerCell:{class:"p-0 m-0 w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"text-center w-56"}}},{loading:t(()=>[le]),_:1}),a(s(n),{field:"fecha_arribado",sortable:"",header:"Fecha Arribado",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerTitle:{class:"text-center  w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"flex align-items-center text-center w-56"}}},{loading:t(()=>[ae]),_:1}),a(s(n),{field:"estado",header:"Estado de pedido",sortable:"",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerCell:{class:"p-0 m-0 w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"text-center w-56"}}},{loading:t(()=>[oe]),_:1}),a(s(n),{field:"total",sortable:"",header:"Total",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerCell:{class:"p-0 m-0 w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"text-center w-56"}}},{loading:t(()=>[se]),_:1}),a(s(n),{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerCell:{class:"p-0 m-0 w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"text-center w-56"}}},{loading:t(()=>[re]),_:1}),a(s(n),{field:"cantidad_productos",sortable:"",header:"Cantidad productos",pt:{bodyCell:{class:"text-center p-0 m-0 w-56"},headerCell:{class:"p-0 m-0 w-56"},headerContent:{class:"text-center w-56"},bodyCellContent:{class:"text-center w-56"}}},{loading:t(()=>[ne]),_:1}),a(s(n),{header:"Acciones",style:{width:"130px"},pt:{bodycell:{class:"px-auto text-center"}}},{loading:t(()=>[]),body:t(c=>[c.data!=null?(h(),b("div",ie,[z((h(),b("span",ce,[l("a",{href:e.route("importaciones.exportar",c.data.id),target:"_blank",class:"py-auto"},pe,8,de)])),[[k,{value:"Descargar Excel",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]),z((h(),G(s(S),{class:"w-8 h-8 rounded bg-red-700 border-0 px-2 text-base font-normal text-white m-1 hover:bg-red-600",onClick:J(xe=>M(c.data.id),["prevent"])},{default:t(()=>[he]),_:2},1032,["onClick"])),[[k,{value:"Eliminar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]])])):Q("",!0)]),_:1})]),_:1},8,["filters","value","virtualScrollerOptions"])])])]),_:1},8,["pagina"])],64)}}};export{we as default};
