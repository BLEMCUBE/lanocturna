import{k as $,l as k,K as T,T as A,h as O,F as j,m as _,p as q,f as c,a as e,u as t,w as n,q as z,o as u,Z as R,b as s,t as G,x as H,d as B,A as o,y as f,e as y,g as v,O as p}from"./app-9f12951d.js";import{_ as K,S as L}from"./AppLayout-d455366d.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const U={class:"card px-4 py-3 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},W={class:"px-3 pb-2 col-span-full flex justify-between items-center"},Z={class:"align-middle"},J={class:"flex justify-content-end text-md"},Q=["onClick"],X=s("i",{class:"fas fa-eye"},null,-1),Y=[X],P=["onClick"],ee=s("i",{class:"fas fa-edit"},null,-1),te=[ee],oe=["onClick"],ae=s("i",{class:"fas fa-trash-alt"},null,-1),se=[ae],g="Importaciones",i="importaciones",ce={__name:"Index",setup(le){const S=$(),C=k(),{permissions:m}=T().props.auth,E=A({id:""}),V=a=>{p.get(route(i+".show",a))},D=a=>{p.get(route(i+".edit",a))},I=(a,l)=>{L.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar "+l,text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red",confirmButtonColor:"#2563EB"}).then(h=>{h.isConfirmed&&E.delete(route(i+".destroy",a),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{N("success","Eliminado","Se ha eliminado"),setTimeout(()=>{p.get(route(i+".index"))},1e3)}})})};O(()=>{C.value=T().props.productos.data});const N=(a,l,d)=>{S.add({severity:a,summary:l,detail:d,life:3e3})},M=()=>{p.get(route(i+".create"))},b=k({global:{value:null,matchMode:j.STARTS_WITH}});return(a,l)=>{const d=_("Toast"),h=_("InputText"),F=_("DataTable"),x=q("tooltip");return u(),c(z,null,[e(t(R),{title:g}),e(K,{pagina:[{label:g,link:!1}]},{default:n(()=>[s("div",U,[e(d),s("div",W,[s("h5",{class:"text-2xl font-medium"},G(g)),e(t(H),{size:"small",label:"Importar Excel",severity:"success",onClick:M})]),s("div",Z,[e(F,{showGridlines:"",filters:b.value,value:C.value,paginator:"",rows:10,rowsPerPageOptions:[5,10,20,50],tableStyle:"min-width: 50rem",size:"small"},{header:n(()=>[s("div",J,[e(h,{modelValue:b.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=r=>b.value.global.value=r),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:n(()=>[B(" No existe Resultado ")]),loading:n(()=>[B(" Cargando... ")]),default:n(()=>[e(t(o),{field:"id",header:"ID",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"nro_contenedor",header:"BL o No. de Contenedor",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"estado",header:"Estado de pedido",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"total",sortable:"",header:"Total",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"cantidad_productos",sortable:"",header:"Cantidad productos",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{field:"created_at",sortable:"",header:"Fecha",pt:{bodyCell:{class:"text-center"}}}),e(t(o),{header:"Acciones",style:{width:"130px"}},{body:n(r=>[t(m).includes("editar-productos")?f((u(),c("button",{key:0,class:"w-8 h-8 rounded bg-yellow-500 px-2 py-1 text-base font-normal text-black m-1 hover:bg-yellow-400",onClick:y(w=>V(r.data.id),["prevent"])},Y,8,Q)),[[x,{value:"Ver",pt:{text:"bg-gray-500 p-1 m-0 text-xs text-white rounded"}},void 0,{top:!0}]]):v("",!0),t(m).includes("editar-productos")?f((u(),c("button",{key:1,class:"w-8 h-8 rounded bg-primary-900 px-2 py-1 text-base font-normal text-white m-1 hover:bg-primary-100",onClick:y(w=>D(r.data.id),["prevent"])},te,8,P)),[[x,{value:"Editar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):v("",!0),t(m).includes("eliminar-productos")?f((u(),c("button",{key:2,class:"w-8 h-8 rounded bg-red-700 px-2 py-1 text-base font-normal text-white m-1 hover:bg-red-600",onClick:y(w=>I(r.data.id,r.data.nombre),["prevent"])},se,8,oe)),[[x,{value:"Eliminar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):v("",!0)]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{ce as default};
