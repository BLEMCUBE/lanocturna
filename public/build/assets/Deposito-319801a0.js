import{_ as T}from"./AppLayout-4dd50b53.js";import{l as b,k as N,T as B,h as F,K as V,F as D,m as n,f as h,a as e,u as A,w as a,q as R,o as g,Z as S,b as o,t as i,d,g as I}from"./app-7cdecaad.js";import M from"./CambiarDepositoModal-efee2d50.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./InputError-0eda8d84.js";import"./InputLabel-64ca6a9e.js";const O={class:"card px-4 py-3 mb-4 bg-white col-span-12 py-5 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},j={class:"align-middle"},z={class:"flex justify-content-end text-md text-primary-900"},U=["src"],E={class:"px-1"},G={key:0},$={class:"inline-block rounded bg-primary-900 px-2 py-1 text-base font-medium text-white mr-1 mb-1 hover:bg-primary-100"},_="Depósitos",X={__name:"Deposito",setup(q){b();const r=b([]);N();const c=b([]);B({id:""}),F(()=>{c.value=V().props.depositos,r.value=c.value.filter(m=>m.id)});const y=()=>{r.value=null},v=()=>{r.value=c.value.filter(m=>m.id)},p=b({global:{value:null,matchMode:D.CONTAINS}});return(m,s)=>{const w=n("Toast"),C=n("InputText"),x=n("Button"),l=n("Column"),f=n("DataTable");return g(),h(R,null,[e(A(S),{title:_}),e(T,{pagina:[{label:_,link:!1}]},{default:a(()=>[o("div",O,[e(w),o("div",{class:"px-5 pb-2 col-span-full flex justify-between items-center"},[o("h5",{class:"text-2xl font-medium"},i(_))]),o("div",j,[e(f,{showGridlines:"",expandedRows:r.value,"onUpdate:expandedRows":s[1]||(s[1]=t=>r.value=t),size:"small",filters:p.value,"onUpdate:filters":s[2]||(s[2]=t=>p.value=t),globalFilterFields:["origen","nombre"],value:c.value,resizableColumns:"",sortField:"created_at",sortOrder:-1,scrollable:"",scrollHeight:"400px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem"},{header:a(()=>[o("div",z,[e(C,{modelValue:p.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=t=>p.value.global.value=t),placeholder:"Buscar"},null,8,["modelValue"]),e(x,{text:"",icon:"pi pi-plus",label:"Expandir todo",onClick:v}),e(x,{text:"",icon:"pi pi-minus",label:"Contraer todo",onClick:y})])]),empty:a(()=>[d(" No existe Resultado ")]),loading:a(()=>[d(" Cargando... ")]),expansion:a(t=>[o("div",E,[e(f,{showGridlines:"",value:t.data.deposito_detalles},{default:a(()=>[e(l,{field:"importacion.nro_carpeta",header:"Nro Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"},headerCell:{class:"text-white bg-primary-100/50 p-0 m-0 w-24"}}},{default:a(()=>[d(i(t.data),1)]),_:2},1024),e(l,{field:"importacion.nro_contenedor",header:"Nro Contenedor",sortable:"",pt:{bodyCell:{class:"text-center"},headerCell:{class:"text-white bg-primary-100/50 p-0 m-0 w-24"}}},{default:a(()=>[d(i(t.data),1)]),_:2},1024),e(l,{field:"bultos",header:"Bultos",sortable:"",pt:{bodyCell:{class:"text-center p-0 m-0"},headerCell:{class:"text-white bg-primary-100/50 p-0 m-0 w-24"}}},{default:a(()=>[d(i(t.data),1)]),_:2},1024),e(l,{field:"deposito.nombre",header:"Depósito",sortable:"",pt:{bodyCell:{class:"text-center"},headerCell:{class:"text-white bg-primary-100/50 p-0 m-0 w-24"}}}),e(l,{header:"Acciones",pt:{bodyCell:{class:"text-center"},headerCell:{class:"text-white bg-primary-100/50 p-0 m-0 w-10"}}},{body:a(u=>[u.data.importacion.estado=="Arribado"?(g(),h("div",G,[o("span",$,[e(M,{"detalle-id":u.data.id},null,8,["detalle-id"])])])):I("",!0)]),_:2},1024)]),_:2},1032,["value"])])]),default:a(()=>[e(l,{expander:"",style:{width:"3rem"},pt:{bodyCell:{class:"bg-secondary-100/40 font-bold"}}}),e(l,{header:"Imagen",pt:{bodyCell:{class:"w-12 bg-secondary-100/40 font-bold border-2 border-primary-100"}}},{body:a(t=>[o("img",{class:"rounded mx-auto bg-white shadow-2xl border-2 text-center w-10 h-10 object-contain",src:t.data.imagen,alt:"image"},null,8,U)]),_:1}),e(l,{sortable:"",field:"origen",header:"Origen",pt:{bodyCell:{class:"bg-secondary-100/40 font-bold"}}}),e(l,{sortable:"",field:"nombre",header:"Producto",pt:{bodyCell:{class:"bg-secondary-100/40 font-bold"}}}),e(l,{header:"Bultos",pt:{bodyCell:{class:"bg-secondary-100/40 font-bold w-12 text-center"}}},{body:a(t=>[d(i(t.data.deposito_detalles.reduce((u,k)=>u+parseFloat(k.bultos),0)),1)]),_:1})]),_:1},8,["expandedRows","filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{X as default};
