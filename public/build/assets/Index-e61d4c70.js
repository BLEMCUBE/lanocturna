import{_ as D}from"./AppLayout-842afc1b.js";import{K as E,Z as F,O as _}from"./@inertiajs-ab1bf9dd.js";import{aG as V,aH as O,q as s}from"./primevue-232ee6f7.js";import P from"./DetalleModal-fb125508.js";import S from"./AgregarModal-71b41ea7.js";import{r as i,o as $,O as b,g as B,S as a,E as o,V as l,F as G,f,j as r,z as x,A as h,R as y,n as C}from"./@vue-1043e4d5.js";import"./logo-e22dfca4.js";import"./pinia-ff353768.js";import"./@vueuse-54bafaaf.js";import"./sweetalert2-c47eda61.js";import"./apexcharts-f697a6eb.js";import"./@headlessui-edafee9e.js";import"./@heroicons-7e6153ac.js";import"./axios-4a70c6fc.js";import"./deepmerge-34bd70bf.js";import"./qs-ba0d1d34.js";import"./side-channel-009c6bc3.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-0f5d75dd.js";import"./nprogress-a144f12f.js";import"./lodash.clonedeep-6a476b09.js";import"./lodash.isequal-cbdfea98.js";import"./vue-datepicker-next-31061510.js";import"./date-format-parse-388037e5.js";import"./moment-fbc5633a.js";import"./InputError-933cc936.js";import"./InputLabel-bc304214.js";const j={class:"card p-3 bg-white col-span-12 rounded-lg shadow-lg 2xl:col-span-12 dark:border-gray-700 dark:bg-gray-800"},z={class:"align-middle py-1 px-3"},L={class:"flex justify-content-end text-md"},H={class:"w-72"},k="Pagos Compra en Plaza",w="pagos-compras",we={__name:"Index",setup(q){const g=i([]),c=i(null),n=i(!1),d=i(!1),T=V();$(()=>{g.value=E().props.productos.data});const A=e=>{c.value=e.data.id,n.value=!0},m=i({global:{value:null,matchMode:O.CONTAINS}}),I=e=>{switch(n.value=!1,e.store){case"CANCELAR":n.value=!1;break;case"AGREGAR":c.value=e.importacionId,d.value=!0;break;case"ELIMINADO":v("success","Mensaje","Pago eliminado"),setTimeout(()=>{_.get(route(w+".index"))},1e3);break}},M=e=>{switch(e.store){case"CANCELAR":d.value=!1;break;case"AGREGAR":v("success","Mensaje","Pago Agregado");break;case"ELIMINADO":setTimeout(()=>{_.get(route(w+".index"))},1e3);break}},v=(e,p,u)=>{T.add({severity:e,summary:p,detail:u,life:3e3})};return(e,p)=>{const u=b("Toast"),N=b("InputText"),R=b("DataTable");return f(),B(G,null,[a(o(F),{title:k}),a(D,{pagina:[{label:k,link:!1}]},{default:l(()=>[r("div",j,[a(u),r("div",z,[a(R,{filters:m.value,value:g.value,scrollable:"",scrollHeight:"700px",paginator:"",rows:50,columnResizeMode:"expand",pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"text-base"}},onRowClick:A,size:"small"},{header:l(()=>[r("div",L,[r("div",H,[a(N,{modelValue:m.value.global.value,"onUpdate:modelValue":p[0]||(p[0]=t=>m.value.global.value=t),placeholder:"Buscar",class:"w-full"},null,8,["modelValue"])])])]),empty:l(()=>[x(" No existe Resultado ")]),loading:l(()=>[x(" Cargando... ")]),default:l(()=>[a(o(s),{field:"fecha",header:"Fecha y Hora",sortable:"",pt:{bodyCell:{class:"text-center p-2"},headerTitle:{class:"text-center"}}}),a(o(s),{field:"nro_factura",header:"NÂº Factura",sortable:"",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}}),a(o(s),{field:"proveedor",header:"Proveedor",sortable:"",pt:{bodyCell:{class:"text-center border"}}}),a(o(s),{field:"moneda",header:"Moneda",sortable:"",pt:{bodyCell:{class:"text-center border"}}}),a(o(s),{sortable:"",header:"%",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}},{body:l(t=>[r("span",null,h(e.$numberFormat(t.data.porcentaje)),1)]),_:1}),a(o(s),{sortable:"",header:"Saldo",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}},{body:l(t=>[r("span",null,h(e.$numberFormat(t.data.total-t.data.total_pagado)),1)]),_:1}),a(o(s),{sortable:"",header:"Total",pt:{bodyCell:{class:"text-center"},headerTitle:{class:"text-center"}}},{body:l(t=>[r("span",null,h(e.$numberFormat(t.data.total)),1)]),_:1})]),_:1},8,["filters","value"])])]),n.value?(f(),y(P,{key:0,onPassInfo:I,"importacion-id":c.value,"show-detalle":n.value},null,8,["importacion-id","show-detalle"])):C("",!0),d.value?(f(),y(S,{key:1,onPassInfo:M,"importacion-id":c.value,"show-detalle":d.value},null,8,["importacion-id","show-detalle"])):C("",!0)]),_:1},8,["pagina"])],64)}}};export{we as default};
