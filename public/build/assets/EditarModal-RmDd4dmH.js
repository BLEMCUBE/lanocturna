import{r as g,R as b,S as j,f as d,g as u,T as h,W as f,Y as U,j as s,y as x,F as B,A as L,E as i,$ as R,z,ad as O,ae as N}from"./@vue-BLfC86mR.js";import{_ as T}from"./InputError-DdpGOVhM.js";import{T as A}from"./@inertiajs-CMyvZJ1U.js";import{aG as P}from"./primevue-B_pu_EB_.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./axios-ngrFHoWO.js";import"./deepmerge-Bh_OW9zV.js";import"./qs-ErqSC6LE.js";import"./side-channel-QUUGuE8A.js";import"./get-intrinsic-Dq22P_nh.js";import"./es-object-atoms-BR76m4z7.js";import"./es-errors-DjMuYndc.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-B8JEaMPD.js";import"./dunder-proto-DWby8p2a.js";import"./call-bind-apply-helpers-CZLbXZmW.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bind-BmU8hBQf.js";import"./object-inspect-ronoqz_t.js";import"./nprogress-Di1940OM.js";import"./lodash.clonedeep-D_Ud3gdH.js";import"./lodash.isequal-BY8B19Vp.js";window.URL=window.URL||window.webkitURL;function $(t){return window.URL.createObjectURL(t)}function G(t){const a={};let n=0;for(const o of t){const l=$(o);a[n]=l,n++}return a}function H(){const t=g({}),a=()=>{t.value={}};return{setFile:async(o=[])=>{a(),t.value=G(o)},previewMap:t}}const Q=t=>(O("data-v-2dd71908"),t=t(),N(),t),W=Q(()=>s("i",{class:"fas fa-image"},null,-1)),Y=[W],q=["onSubmit"],J={class:"px-2 grid grid-cols-6 gap-4 mb-2"},K={class:"col-span-6 text-center xl:col-span-6"},X=["src"],Z=["onClick"],ee={class:"flex justify-end py-2"},te="catalogo",oe={__name:"EditarModal",props:{productoId:{type:Number,default:null},nombre:{type:String,default:""}},setup(t){const a=t,n=P(),o=g(!1),{setFile:l,previewMap:v}=H(),_=g(null),w=r=>{l(r.target.files),e.imagen=r.target.files[0]},y=()=>{_.value.click()},S=()=>{l([]),e.reset(),e.clearErrors()},e=A({id:"",imagen:"",nombre:""}),C=()=>{I(a.productoId)},I=r=>{o.value=!0,e.id=r,e.nombre=a.nombre},M=()=>{e.reset(),e.clearErrors(),o.value=!1},k=()=>{e.clearErrors(),e.post(route(te+".update",e.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{o.value=!1,E("success","Mensaje","Imagen Actualizada")},onFinish:()=>{},onError:()=>{}})},E=(r,c,p)=>{n.add({severity:r,summary:c,detail:p,life:3e3})};return(r,c)=>{const p=b("Button"),F=b("Dialog"),D=j("tooltip");return u(),d("section",null,[h((u(),d("button",{type:"button",onClick:C},Y)),[[D,{value:"Cambiar Imagen",pt:{text:"bg-gray-700 p-1 text-[12px] text-white rounded"}},void 0,{top:!0}]]),f(F,{visible:o.value,"onUpdate:visible":c[0]||(c[0]=m=>o.value=m),onHide:S,modal:!0,header:i(e).nombre,style:{width:"30rem"},position:"top",pt:{header:{class:"mt-3 py-2 px-3 text-[10px]"},content:{class:"py-2 px-4 text-base"},closeButton:{class:"border-none"}}},{default:U(()=>[s("form",{onSubmit:x(k,["prevent"])},[s("div",J,[s("div",K,[(u(!0),d(B,null,L(i(v),m=>h((u(),d("div",{class:"pb-2 flex justify-center mx-auto",key:m},[s("img",{src:m,alt:"",class:"w-auto h-60"},null,8,X)])),[[R,Object.values(i(v)).length!==0]])),128)),s("input",{ref_key:"inputDOM",ref:_,type:"file",class:"upload",name:"imagen",onChange:w,accept:"image/x-png,image/gif,image/jpeg"},null,544),s("button",{onClick:x(y,["prevent"]),class:"text-white bg-green-700 hover:bg-green-600 px-2 py-1 rounded-md text-xs"},"Seleccionar imagen",8,Z),f(T,{class:"mt-0 pt-0 text-xs",message:i(e).errors.imagen},null,8,["message"])])]),s("div",ee,[f(p,{label:"Cancelar",pt:{root:"mr-5 py-1"},severity:"danger",size:"small",onClick:M,type:"button"}),f(p,{label:"Enviar",size:"small",type:"submit",class:z({"opacity-50":i(e).processing}),disabled:i(e).processing},null,8,["class","disabled"])])],40,q)]),_:1},8,["visible","header"])])}}},Fe=V(oe,[["__scopeId","data-v-2dd71908"]]);export{Fe as default};
