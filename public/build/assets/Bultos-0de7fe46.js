import{k as N,l as b,K as _,T as F,h as M,F as I,m as u,p as R,f as x,a as e,u as t,w as o,q as j,o as p,Z as z,b as l,t as A,z as v,d as g,A as s,v as O,c as $,e as q,g as H,O as m}from"./app-2a1f8639.js";import{_ as K,S as L}from"./AppLayout-88c7b474.js";import"./logo-e22dfca4.js";import"./_plugin-vue_export-helper-c27b6911.js";const U={class:"card px-4 py-3 mb-4 bg-white col-span-12 rounded-lg shadow-lg lg:col-span-12 dark:border-gray-700 dark:bg-gray-800"},W={class:"px-3 pb-2 col-span-full flex justify-between items-center"},Z={class:"align-middle p-3"},G={class:"flex justify-content-end text-md"},J={key:0,class:"py-3 text-white flex justify-center items-center"},Q=l("i",{class:"fas fa-trash-alt"},null,-1),f="Bultos importados",d="depositos",oe={__name:"Bultos",setup(X){const y=N(),h=b();_().props.auth;const C=F({id:""}),w=a=>{m.get(route(d+".show",a))},B=a=>{L.mixin({buttonsStyling:!0}).fire({width:350,title:"Seguro de eliminar ",text:"Se eliminarÃ¡ definitivamente",icon:"question",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",cancelButtonColor:"red",confirmButtonColor:"#2563EB"}).then(n=>{n.isConfirmed&&C.delete(route(d+".destroy",a),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{k("success","Eliminado","Se ha eliminado"),setTimeout(()=>{m.get(route(d+".bultos"))},1e3)}})})},T=a=>{w(a.data.id)};M(()=>{h.value=_().props.productos.data});const k=(a,r,n)=>{y.add({severity:a,summary:r,detail:n,life:3e3})},S=()=>{m.get(route(d+".create"))},c=b({global:{value:null,matchMode:I.STARTS_WITH}});return(a,r)=>{const n=u("Toast"),D=u("InputText"),E=u("DataTable"),V=R("tooltip");return p(),x(j,null,[e(t(z),{title:f}),e(K,{pagina:[{label:f,link:!1}]},{default:o(()=>[l("div",U,[e(n),l("div",W,[l("h5",{class:"text-2xl font-medium"},A(f)),e(t(v),{size:"small",label:"Importar Bultos",severity:"success",onClick:S})]),l("div",Z,[e(E,{sortField:"created_at",sortOrder:-1,filters:c.value,value:h.value,pt:{bodyRow:{class:"hover:cursor-pointer h-auto py-2"},root:{class:"h-auto"}},scrollable:"",scrollHeight:"700px",paginator:"",rows:100,tableStyle:"min-width: 50rem",onRowClick:T,size:"small"},{header:o(()=>[l("div",G,[e(D,{modelValue:c.value.global.value,"onUpdate:modelValue":r[0]||(r[0]=i=>c.value.global.value=i),placeholder:"Buscar"},null,8,["modelValue"])])]),empty:o(()=>[g(" No existe Resultado ")]),loading:o(()=>[g(" Cargando... ")]),default:o(()=>[e(t(s),{field:"nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(s),{field:"nro_contenedor",header:"BL o No. de Contenedor",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(s),{field:"estado",header:"Estado de pedido",sortable:"",pt:{bodyCell:{class:"text-center"}}}),e(t(s),{field:"cantidad_productos",sortable:"",header:"Cantidad filas",pt:{bodyCell:{class:"text-center"}}}),e(t(s),{field:"created_at",sortable:"",header:"Fecha se subida",pt:{bodyCell:{class:"text-center"}}}),e(t(s),{header:"Acciones",style:{width:"130px"},pt:{bodycell:{class:"px-auto text-center"}}},{body:o(i=>[i.data.estado=="En camino"?(p(),x("div",J,[O((p(),$(t(v),{class:"w-8 h-8 rounded bg-red-700 border-0 px-2 text-base font-normal text-white m-1 hover:bg-red-600",onClick:q(Y=>B(i.data.id),["prevent"])},{default:o(()=>[Q]),_:2},1032,["onClick"])),[[V,{value:"Eliminar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]])])):H("",!0)]),_:1})]),_:1},8,["filters","value"])])])]),_:1},8,["pagina"])],64)}}};export{oe as default};
