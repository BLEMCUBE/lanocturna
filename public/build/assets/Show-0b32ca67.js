import{_ as lt}from"./AppLayout-842afc1b.js";import{K as i,T as rt,Z as dt,O as A}from"./@inertiajs-ab1bf9dd.js";import{aH as P}from"./primevue-232ee6f7.js";import{i as j}from"./vue-datepicker-next-31061510.js";import{h as _}from"./moment-fbc5633a.js";import{a as F}from"./axios-4a70c6fc.js";import{s as g,a as z,e as H,b as U,c as X}from"./date-fns-7c3f4903.js";import{r as m,o as nt,O as v,P as ct,g as h,S as o,E as r,V as d,F as $,f as x,j as t,A as n,Q as G,R as it,n as E,v as mt,z as b}from"./@vue-1043e4d5.js";import"./logo-e22dfca4.js";import"./pinia-ff353768.js";import"./@vueuse-54bafaaf.js";import"./sweetalert2-c47eda61.js";import"./apexcharts-f697a6eb.js";import"./@headlessui-edafee9e.js";import"./@heroicons-7e6153ac.js";import"./deepmerge-34bd70bf.js";import"./qs-ba0d1d34.js";import"./side-channel-009c6bc3.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-0f5d75dd.js";import"./nprogress-a144f12f.js";import"./lodash.clonedeep-6a476b09.js";import"./lodash.isequal-cbdfea98.js";import"./date-format-parse-388037e5.js";import"./@babel-7fd5df1e.js";const ut={class:"card px-3 mb-4 bg-white col-span-12 justify-center md:col-span-12 py-3 rounded-lg shadow-lg 2xl:col-span-10 dark:border-gray-700 dark:bg-gray-800"},pt={class:"grid grid-cols-12 justify-center"},xt={class:"px-0 py-0 m-2 mt-0 text-white col-span-2 flex justify-end items-center"},ft=t("i",{class:"fas fa-edit"},null,-1),_t={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-0 rounded-t-xl max-w-xs md:max-w-5xl mx-auto bg-white"},ht={class:"w-2/3"},bt={class:"font-bold text-gray-800 md:text-2xl text-xl"},gt={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-0 rounded-b-xl p-3 max-w-xs md:max-w-5xl mx-auto border border-white bg-white"},vt={class:"w-full md:w-1/3 bg-white grid place-items-center"},wt=["alt","src"],yt={class:"w-full md:w-2/3 bg-white p-3 space-x-1 space-y-0"},Dt={class:"w-full flex flex-col md:flex-row pb-2"},Ct=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 md:text-2xl text-xl"},"Stock:")],-1),kt={class:"w-full md:w-2/3"},Yt={class:"font-normal text-gray-800 md:text-2xl text-xl"},Mt={class:"w-full flex flex-col md:flex-row pb-2"},At=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"},"SKU:")],-1),Et={class:"w-full md:w-2/3"},It={class:"font-normal text-gray-800 text-base"},Ot={class:"w-full flex flex-col md:flex-row pb-3"},St=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"},"CÓDIGO DE BARRA:")],-1),Vt={class:"w-full md:w-2/3"},Nt={class:"font-normal text-gray-800 text-base"},Rt=t("div",{class:"w-full flex flex-col md:flex-row pt-2"},[t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"PRÓXIMO INGRESO")])],-1),Tt=t("div",{class:"w-full flex"},[t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"IMPORTACIÓN")]),t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"CANTIDAD")]),t("div",{class:"w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"FECHA APROX.")])],-1),Bt={key:0,class:"w-full"},Pt={class:"w-full flex py-1"},jt={class:"w-full text-center"},Ft={class:"font-normal text-gray-800 text-lg"},zt={class:"w-full text-center"},Ht={class:"font-normal text-gray-800 text-lg"},Ut={class:"w-full text-center"},Xt={class:"font-normal text-gray-800 text-lg"},$t=t("div",{class:"w-full flex flex-col md:flex-row pt-2"},[t("div",{class:"bg-gray-200 w-full text-center"},[t("h3",{class:"font-semibold text-gray-800 text-lg"},"COSTO REAL")])],-1),Gt={class:"w-full flex flex-col md:flex-row py-1"},Kt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," USD (IVA INC.):")],-1),Lt={class:"w-full md:w-2/3"},Qt={class:"font-normal text-gray-800 text-base"},Wt={class:"w-full flex flex-col md:flex-row py-1"},Zt=t("div",{class:"w-full md:w-1/3 xl:w-1/3 mr-2"},[t("h3",{class:"font-semibold text-gray-800 text-base"}," Cotización Yuanes:")],-1),qt={class:"w-full md:w-2/3"},Jt={class:"font-normal text-gray-800 text-base"},te={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},ee={class:"bg-gray-100 rounded-t-lg py-2 px-3"},oe={class:"text-2xl font-medium pb-0 pl-2"},ae=t("div",{class:"bg-gradient-to-r from-primary-900 to-primary-100 h-1 mb-4"},null,-1),se={class:"align-middle p-2"},le={class:"flex justify-content-end text-md"},re={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},de={key:0,class:"w-10 h-8 ml-5 rounded flex justify-center items-center text-base font-semibold text-white mr-1"},ne=t("i",{class:"fas fa-file-excel text-white text-xl"},null,-1),ce={class:"bg-white mr-0 ml-0 mt-6 shadow rounded-lg border border-gray-300"},ie={class:"bg-gray-100 rounded-t-lg py-2 px-3"},me={class:"text-2xl font-medium pb-0 pl-2"},ue=t("div",{class:"bg-gradient-to-r from-secondary-900 to-secondary-100 h-1 mb-4"},null,-1),pe={class:"align-middle p-2"},xe={class:"flex justify-content-end text-md"},fe={class:"ml-5 col-span-1 md:col-span-3 lg:col-span-3"},_e={class:"text-md"},he={class:"text-md"},be={class:"text-md"},I="Detalle Producto",w="productos",We={__name:"Show",setup(ge){const{permissions:K}=i().props.auth,L=m("/images/productos/sin_foto.png"),{roles:O}=i().props.auth,{costo_real:Q}=i().props,{productoEnCamino:S}=i().props,{ultimo_yang:V}=i().props,y=m(),D=m(),C=m(),k=m(),s=rt({id:"",origen:"",nombre:"",aduana:"",codigo_barra:"",stock:0,stock_minimo:0,imagen:"",photo:"",categorias:[]}),N=m([new Date,new Date]),R=m([new Date,new Date]),f=m([]),W=e=>{e[0]!=null&&e[1]!=null?(f.value=[e[0],e[1]],F.get(route(w+".productoventa",[i().props.producto.id,_(e[0]).format("YYYY-MM-DD"),_(e[1]).format("YYYY-MM-DD")])).then(l=>{var u=l.data;y.value=u.cantidad,C.value=Array.from(u.productoventa,p=>p)})):location.reload()},Z=e=>{f.value[0]!=null&&f.value[1]!=null?window.open(route("productos.exportproductoventas",[s.id,{inicio:f.value[0],fin:f.value[1]}]),"_blank"):window.open(route("productos.exportproductoventas",[s.id]),"_blank")},q=e=>{e[0]!=null&&e[1]!=null?F.get(route(w+".productoimportacion",[i().props.producto.id,_(e[0]).format("YYYY-MM-DD"),_(e[1]).format("YYYY-MM-DD")])).then(l=>{var u=l.data;D.value=u.cantidad_importacion,k.value=Array.from(u.producto,p=>p)}):location.reload()},J=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[g(new Date,1),g(new Date,1)]}},{text:"Este mes",onClick(){return[z(new Date),H(new Date)]}},{text:"Este año",onClick(){return[U(new Date),X(new Date)]}}],tt=[{text:"Hoy",onClick(){return[new Date,new Date]}},{text:"Ayer",onClick(){return[g(new Date,1),g(new Date,1)]}},{text:"Este mes",onClick(){return[z(new Date),H(new Date)]}},{text:"Este año",onClick(){return[U(new Date),X(new Date)]}}],et=e=>_(e).format("DD/MM/YYYY");nt(()=>{C.value=Array.from(i().props.productoventa,l=>l),D.value=i().props.cantidad_importacion,y.value=i().props.cantidad,k.value=Array.from(i().props.productoImportacion,l=>l);var e=i().props.producto;s.id=e.id,s.nombre=e.nombre,s.origen=e.origen,s.aduana=e.aduana,s.codigo_barra=e.codigo_barra,s.stock=e.stock,s.stock_minimo=e.stock_minimo,s.stock_futuro=e.stock_futuro,L.value=e.imagen,s.imagen=e.imagen,s.categorias=e.categorias});const Y=m({global:{value:null,matchMode:P.CONTAINS}}),M=m({global:{value:null,matchMode:P.CONTAINS}}),ot=e=>{A.get(route(w+".edit",e))},at=e=>{A.get(route("ventas.show",e.data.venta_id))},st=e=>{A.get(route("importaciones.show",e.data.importacion_id))};return(e,l)=>{const u=v("Button"),p=v("InputText"),c=v("Column"),T=v("DataTable"),B=ct("tooltip");return x(),h($,null,[o(r(dt),{title:I}),o(lt,{pagina:[{label:"Productos",link:!0,url:e.route(w+".index")},{label:I,link:!1}]},{default:d(()=>[t("div",ut,[t("div",pt,[t("div",{class:"px-3 col-span-10 flex justify-between items-center"},[t("h5",{class:"text-xl font-medium"},n(I))]),t("div",xt,[r(K).includes("editar-productos")?G((x(),it(u,{key:0,label:"Editar",onClick:l[0]||(l[0]=a=>ot(r(s).id)),pt:{root:{class:"flex items-center bg-primary-900 justify-center font-medium w-10"},label:{class:"hidden"}}},{default:d(()=>[ft]),_:1})),[[B,{value:"Editar",pt:{text:"bg-gray-500 p-1 text-xs text-white rounded"}},void 0,{top:!0}]]):E("",!0)])]),t("div",_t,[t("div",ht,[t("h3",bt,n(r(s).nombre),1)])]),t("div",gt,[t("div",vt,[t("img",{alt:r(s).nombre,src:r(s).imagen,class:"rounded-xl"},null,8,wt)]),t("div",yt,[t("div",Dt,[Ct,t("div",kt,[t("h3",Yt,n(r(s).stock),1)])]),t("div",Mt,[At,t("div",Et,[t("h3",It,n(r(s).origen),1)])]),t("div",Ot,[St,t("div",Vt,[t("h3",Nt,n(r(s).codigo_barra),1)])]),Rt,Tt,r(S).length>0?(x(),h("div",Bt,[(x(!0),h($,null,mt(r(S),a=>(x(),h("div",Pt,[t("div",jt,[t("h3",Ft,n(a.nro_carpeta),1)]),t("div",zt,[t("h3",Ht,n(a.cantidad_total),1)]),t("div",Ut,[t("h3",Xt,n(a.fecha_arribado),1)])]))),256))])):E("",!0),$t,t("div",Gt,[Kt,t("div",Lt,[t("h3",Qt,n(r(Q)),1)])]),t("div",Wt,[Zt,t("div",qt,[t("h3",Jt,n(r(V)>0?r(V):"-"),1)])])])]),t("div",te,[t("div",ee,[t("h2",oe,"Pedidos: "+n(y.value),1)]),ae,t("div",se,[o(T,{filters:Y.value,onRowClick:at,value:C.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{numToleratedItems:30,itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:d(()=>[t("div",le,[o(p,{modelValue:Y.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=a=>Y.value.global.value=a),placeholder:"Buscar"},null,8,["modelValue"]),t("div",re,[o(r(j),{onChange:W,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:N.value,"onUpdate:value":l[2]||(l[2]=a=>N.value=a),shortcuts:J,lang:"es",clearable:!1,placeholder:"seleccione Fecha"},null,8,["value"])]),r(O).includes("Super Administrador")||r(O).includes("Administrador")?G((x(),h("div",de,[o(u,{onClick:l[3]||(l[3]=a=>Z(r(s).id)),pt:{root:{class:"py-auto px-3 py-2.5 text-xl bg-green-600 border-none hover:bg-green-500"}}},{default:d(()=>[ne]),_:1})])),[[B,{value:"Descargar Excel",pt:{text:"bg-gray-500 text-xs text-white rounded"}},void 0,{top:!0}]]):E("",!0)])]),empty:d(()=>[b(" No existe Resultado ")]),loading:d(()=>[b(" Cargando... ")]),default:d(()=>[o(c,{field:"created_at",sortable:"",header:"Fecha",pt:{bodyCell:{class:"text-center"}}},{body:d(({data:a})=>[b(n(et(a.created_at)),1)]),_:1}),o(c,{field:"cantidad",sortable:"",header:"Cantidad",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"precio",sortable:"",header:"Precio",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"destino",sortable:"",header:"Destino",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])]),t("div",ce,[t("div",ie,[t("h2",me,"Importaciones: "+n(D.value),1)]),ue,t("div",pe,[o(T,{filters:M.value,onRowClick:st,value:k.value,pt:{bodyRow:{class:"hover:cursor-pointer hover:bg-gray-100 hover:text-black"},root:{class:"w-auto"}},scrollable:"",scrollHeight:"350px",virtualScrollerOptions:{itemSize:46},tableStyle:"min-width: 50rem",size:"small"},{header:d(()=>[t("div",xe,[o(p,{modelValue:M.value.global.value,"onUpdate:modelValue":l[4]||(l[4]=a=>M.value.global.value=a),placeholder:"Buscar"},null,8,["modelValue"]),t("div",fe,[o(r(j),{onChange:q,type:"date",range:"","value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",value:R.value,"onUpdate:value":l[5]||(l[5]=a=>R.value=a),shortcuts:tt,lang:"es",placeholder:"seleccione Fecha",clearable:!1},null,8,["value"])])])]),empty:d(()=>[b(" No existe Resultado ")]),loading:d(()=>[b(" Cargando... ")]),default:d(()=>[o(c,{field:"importacion.nro_carpeta",header:"No. de Carpeta",sortable:"",pt:{bodyCell:{class:"text-center"}}},{loading:d(()=>[]),body:d(a=>[t("span",_e,n(a.data.importacion.nro_carpeta),1)]),_:1}),o(c,{field:"importacion.fecha",header:"Fecha Arribo",sortable:"",pt:{bodyCell:{class:"text-center"}}},{body:d(a=>[t("span",he,n(a.data.importacion.fecha),1)]),_:1}),o(c,{header:"Costo Real",sortable:"",pt:{bodyCell:{class:"text-center"}}},{body:d(a=>[t("span",be,n(a.data.real_costo.length>0?a.data.real_costo[0].monto:"0.00"),1)]),_:1}),o(c,{field:"precio",sortable:"",header:"EXW Precio",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"pcs_bulto",sortable:"",header:"PCS/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"bultos",sortable:"",header:"Bulto",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"cantidad_total",sortable:"",header:"Cantidad Total",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"valor_total",sortable:"",header:"Valor Total",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"cbm_bulto",sortable:"",header:"CBM/Bulto",pt:{bodyCell:{class:"text-center"}}}),o(c,{field:"cbm_total",sortable:"",header:"Total CBM",pt:{bodyCell:{class:"text-center"}}})]),_:1},8,["filters","value"])])])])]),_:1},8,["pagina"])],64)}}};export{We as default};
